<!doctype html>
<html lang="vi-VN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/vuepress-blog/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,500,600,700&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><title>OCR với Tesseract | Kiến Thức Từ Trải Nghiệm</title><meta name="description" content="Một blog được tạo bằng VuePress">
    <link rel="preload" href="/vuepress-blog/assets/style-BGi6p0Wl.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-BGi6p0Wl.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-D72msq1U.js"><link rel="modulepreload" href="/vuepress-blog/assets/ocr-gioi-thieu-tesseract.html-CEDFH1Za.js">
    <link rel="prefetch" href="/vuepress-blog/assets/index.html-70PRC904.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-BzdxM73m.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-Dq_xVbXl.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-dTm09zUd.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-ClNhOMri.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/fastapi-base-project.html-NQKpI7cv.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/mov-to-mp4-converter.html-CstMfsif.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-D2c4bh8O.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-ByAkwQDl.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-vE21goaL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tesseract-series.html-H1lrJzSV.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/plsql-training-series.html-Cwc7RrFZ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-advanced.html-CkUzLaH7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-basic.html-DI69S1tX.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-automation.html-CfyhG4z7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-cloud-computing.html-BFzil9IM.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-database.html-BmvcNJBC.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-ec2.html-DzOiMaUn.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-gioi-thieu-aws.html-CJd47q3p.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-iam.html-Bs8pT1v-.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-monitoring.html-CJJSNNpa.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-networking.html-Cp1WqmyL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-practice.html-BXZFed8u.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-serverless.html-B8k7dho9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-storage.html-BiX7bURH.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jenkins.html-p08Jv4VS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-series.html-DwCb588s.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-training-saa-series.html-4fVZP5rF.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-beginner.html-C8_i83Zm.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-intermediate.html-9JUUlxKY.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-shell-script.html-DWYaspnA.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-accuracy-perfomance.html-CuTTSTFG.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-cache-tesseract.html-Df5Anz1F.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-practical.html-AVSqafjY.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-template-matching.html-SZu-Dj9F.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tong-quan.html-BzOtgheB.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-training-tesseract.html-CFVE_xys.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-advanced.html-DQczNSYt.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-beginner.html-J6hmROSO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-expert.html-B1JMFK3S.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-intermediate.html-DWm6k5ES.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git-practices.html-DvVUPmyj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-CpmCw2dZ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/setupDevtools-7MC2TMWH-CW0T4LLP.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-blog/"><img class="vp-site-logo" src="/vuepress-blog/images/logo.png" alt="Kiến Thức Từ Trải Nghiệm"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Kiến Thức Từ Trải Nghiệm</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/hidden/ocr-gioi-thieu-tesseract.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/hidden/ocr-gioi-thieu-tesseract.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="ocr-voi-tesseract" tabindex="-1"><a class="header-anchor" href="#ocr-voi-tesseract"><span>OCR với Tesseract</span></a></h1><p><a href="#1">1. Giới thiệu Tesseract</a></p><p><a href="#2">2. Cài đặt Tesseract</a></p><p><a href="#3">3. Làm quen với Tesseract + Python</a></p><p><a name="1"></a></p><h2 id="📌-1-gioi-thieu-tesseract" tabindex="-1"><a class="header-anchor" href="#📌-1-gioi-thieu-tesseract"><span>📌 1. Giới thiệu Tesseract</span></a></h2><ul><li><p>● Tesseract là một <a href="https://sy-duc.github.io/vuepress-blog/blog-posts/hidden/ocr-tong-quan.html" target="_blank" rel="noopener noreferrer">OCR engine</a> mã nguồn mở do Hewlett-Packard phát triển từ những năm 1980 và hiện được Google duy trì.</p></li><li><p>● Nó hỗ trợ hơn 100 ngôn ngữ, bao gồm cả tiếng Việt, và có thể huấn luyện thêm để nhận dạng phông chữ hoặc ký tự đặc thù (sẽ giới thiệu ở cấc bài viết sau).</p></li><li><h3 id="🚀-cach-hoat-đong" tabindex="-1"><a class="header-anchor" href="#🚀-cach-hoat-đong"><span>🚀 Cách hoạt động:</span></a></h3><ul><li><p>● Tesseract phân tích bố cục ảnh, sau đó nhận diện các vùng văn bản, và cuối cùng chuyển đổi các ký tự thành dạng text.</p></li><li><p>● Tesseract hoạt động tốt nhất khi ảnh:</p><ul><li><p>✧ Có độ tương phản cao (chữ đen trên nền trắng).</p></li><li><p>✧ Không bị mờ hoặc méo chữ.</p></li><li><p>✧ Có font phổ biến.</p></li></ul></li></ul></li><li><h3 id="✔️-uu-điem" tabindex="-1"><a class="header-anchor" href="#✔️-uu-điem"><span>✔️ Ưu điểm:</span></a></h3><ul><li><p>● Miễn phí, mã nguồn mở.</p></li><li><p>● Hỗ trợ đa ngôn ngữ, dễ dàng thêm bộ ngôn ngữ mới.</p></li><li><p>● Có thể tích hợp với nhiều ngôn ngữ lập trình (Python, Java, C++, v.v.).</p></li><li><p>● Cho phép tùy chỉnh cấu hình (psm - kiểu khối văn bản trên ảnh, whitelist - danh sách ký tự đúng, v.v. để tăng độ chính xác khi OCR).</p></li></ul></li><li><h3 id="❌-nhuoc-điem" tabindex="-1"><a class="header-anchor" href="#❌-nhuoc-điem"><span>❌ Nhược điểm:</span></a></h3><ul><li><p>● Độ chính xác phụ thuộc nhiều vào chất lượng ảnh đầu vào.</p></li><li><p>● OCR tốc độ không quá cao cho ảnh lớn.</p></li></ul></li></ul><p><a name="2"></a></p><h2 id="📌-2-cai-đat" tabindex="-1"><a class="header-anchor" href="#📌-2-cai-đat"><span>📌 2. Cài đặt</span></a></h2><ul><li><p>🔗 Tải Tesseract tại:</p><ul><li>https://github.com/UB-Mannheim/tesseract/wiki (bản UB Mannheim tối ưu cho Windows).</li></ul></li><li><p>📂 Mặc định đường dẫn sau cài đặt tại:</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile" data-title="makefile"><pre><code><span class="line"><span class="token target symbol">C</span><span class="token punctuation">:</span>\Program Files\Tesseract-OCR</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>🔍 Kiểm tra cài đặt:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tesseract <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>⚙️ Cài đặt Tesseract cho Python:</p><ul><li>Cài thư viện pytesseract để Python giao tiếp với Tesseract:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pip <span class="token function">install</span> pytesseract pillow opencv-python</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><p><a name="3"></a></p><h2 id="📌-3-lam-quen-voi-tesseract-python" tabindex="-1"><a class="header-anchor" href="#📌-3-lam-quen-voi-tesseract-python"><span>📌 3. Làm quen với Tesseract + Python</span></a></h2><h3 id="_1️⃣-goi-tesseract-voi-pytesseract" tabindex="-1"><a class="header-anchor" href="#_1️⃣-goi-tesseract-voi-pytesseract"><span>1️⃣ Gọi Tesseract với pytesseract</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># main.py</span></span>
<span class="line"><span class="token keyword">import</span> pytesseract</span>
<span class="line"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Chỉ định đường dẫn Tesseract (nếu chưa thêm vào PATH)</span></span>
<span class="line">pytesseract<span class="token punctuation">.</span>pytesseract<span class="token punctuation">.</span>tesseract_cmd <span class="token operator">=</span> <span class="token string">r&quot;C:\Program Files\Tesseract-OCR\tesseract.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Đọc ảnh</span></span>
<span class="line">img <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;sample.png&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># OCR ảnh</span></span>
<span class="line">text <span class="token operator">=</span> pytesseract<span class="token punctuation">.</span>image_to_string<span class="token punctuation">(</span>img<span class="token punctuation">,</span> lang<span class="token operator">=</span><span class="token string">&quot;vie&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># &#39;vie&#39; cho tiếng Việt</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2️⃣-goi-tesseract-truc-tiep-bang-cli-command-line-interface" tabindex="-1"><a class="header-anchor" href="#_2️⃣-goi-tesseract-truc-tiep-bang-cli-command-line-interface"><span>2️⃣ Gọi Tesseract trực tiếp bằng CLI (Command Line Interface)</span></a></h3><ul><li><p>Có thể chạy Tesseract trực tiếp từ command line để test mà không cần code.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tesseract sample.png output <span class="token parameter variable">-l</span> vie</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_3️⃣-goi-tesseract-tu-python-thong-qua-cli" tabindex="-1"><a class="header-anchor" href="#_3️⃣-goi-tesseract-tu-python-thong-qua-cli"><span>3️⃣ Gọi Tesseract từ Python thông qua CLI</span></a></h3><ul><li><p>Trong một số trường hợp bạn muốn:</p><ul><li><p>✧ Toàn quyền sử dụng các tham số CLI của Tesseract.</p></li><li><p>✧ Không phụ thuộc vào pytesseract (ví dụ khi dùng Python như một wrapper cho nhiều tool khác).</p></li></ul><p>👉 Khi đó, bạn có thể gọi trực tiếp Tesseract CLI từ Python bằng subprocess:</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> subprocess</span>
<span class="line"><span class="token keyword">import</span> tempfile</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Đường dẫn Tesseract (nếu chưa add vào PATH)</span></span>
<span class="line">tesseract_path <span class="token operator">=</span> <span class="token string">r&quot;C:\Program Files\Tesseract-OCR\tesseract.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">with</span> tempfile<span class="token punctuation">.</span>NamedTemporaryFile<span class="token punctuation">(</span>suffix<span class="token operator">=</span><span class="token string">&quot;.png&quot;</span><span class="token punctuation">,</span> delete<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">as</span> tmp_file<span class="token punctuation">:</span></span>
<span class="line">    tmp_path <span class="token operator">=</span> tmp_file<span class="token punctuation">.</span>name</span>
<span class="line">    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span>tmp_path<span class="token punctuation">,</span> img<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">input_image <span class="token operator">=</span> <span class="token string">&quot;sample.png&quot;</span></span>
<span class="line">out_base <span class="token operator">=</span> tmp_path<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot;.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># File tạm chứa kết quả OCR (Tesseract sẽ tự thêm .txt)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Lệnh CLI tương đương: tesseract sample.png output -l vie</span></span>
<span class="line">cmd <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    tesseract_path<span class="token punctuation">,</span></span>
<span class="line">    input_image<span class="token punctuation">,</span></span>
<span class="line">    out_base<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;-l&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vie&quot;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Chạy lệnh và chờ hoàn tất</span></span>
<span class="line">subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> check<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> stdout<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>DEVNULL<span class="token punctuation">,</span> stderr<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>DEVNULL<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Đọc kết quả từ file .txt</span></span>
<span class="line"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>out_base<span class="token punctuation">}</span></span><span class="token string">.txt&quot;</span></span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line">    text <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;OCR Result: </span><span class="token interpolation"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>✔️ Ưu điểm so với pytesseract:</p><ul><li><p>✧ Có thể dùng toàn bộ tính năng và tham số của CLI (thậm chí cả những tham số mà pytesseract chưa hỗ trợ).</p></li><li><p>✧ Tránh phụ thuộc vào thư viện trung gian, chỉ cần Tesseract đã cài.</p></li></ul></li><li><p>❌ Nhược điểm:</p><ul><li><p>✧ Do sinh file tạm ghi kết quả, nên cần đọc kết quả từ file trung gian (hoặc stdout), chậm hơn một chút (không đáng kể).</p></li><li><p>✧ Không tiện khi xử lý ảnh trong RAM (phải lưu ra file tạm).</p></li></ul></li></ul><h3 id="_4️⃣-cach-chay-ma-nguon-python" tabindex="-1"><a class="header-anchor" href="#_4️⃣-cach-chay-ma-nguon-python"><span>4️⃣ Cách chạy mã nguồn Python</span></a></h3><ul><li>Khi đã viết xong code Python OCR với Tesseract, bạn có hai cách để chạy:</li></ul><h4 id="❶-cach-1-—-chay-truc-tiep-bang-python" tabindex="-1"><a class="header-anchor" href="#❶-cach-1-—-chay-truc-tiep-bang-python"><span>❶ Cách 1 — Chạy trực tiếp bằng Python</span></a></h4><ul><li>Mở terminal hoặc Command Prompt:</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">python main.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>✔️ Ưu điểm: nhanh, dễ debug.</p></li><li><p>❌ Nhược điểm: máy chạy cần có Python và các thư viện cần thiết đi kèm (pytesseract, opencv-python, Pillow, ...). Tại sao cần opencv-python hay Pillow sẽ đề cập ở các phần sau.</p></li></ul><h4 id="❷-cach-2-—-build-thanh-file-exe-bang-pyinstaller" tabindex="-1"><a class="header-anchor" href="#❷-cach-2-—-build-thanh-file-exe-bang-pyinstaller"><span>❷ Cách 2 — Build thành file .exe bằng PyInstaller</span></a></h4><ul><li><p>➀ Cài PyInstaller:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pip <span class="token function">install</span> pyinstaller</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>➁ Build</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pyinstaller <span class="token parameter variable">--onefile</span> <span class="token parameter variable">--windowed</span> <span class="token parameter variable">--name</span> ocr_tool main.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Trong đó: <ul><li>✧ --onefile: tạo 1 file .exe duy nhất</li><li>✧ --name ocr_tool: tên file đầu ra</li><li>✧ --windowed: nếu muốn tool chạy ngầm và không hiển thị cửa sổ terminal (thường khi phát triển sẽ bỏ option này để dễ check log)</li></ul></li></ul></li><li><p>Sau khi build xong, file .exe sẽ nằm trong thư mục dist/ocr_tool.exe</p></li><li><p>✔️ Ưu điểm: có thể chạy trên máy khác mà không cần cài Python (nhưng vẫn cần cài Tesseract hoặc copy hoặc đóng gói cả Tesseract OCR vào cùng .exe nếu không muốn cài Tesseract trên máy đích).</p></li></ul><h3 id="_5️⃣-cac-loai-output-khi-ocr-voi-tesseract" tabindex="-1"><a class="header-anchor" href="#_5️⃣-cac-loai-output-khi-ocr-voi-tesseract"><span>5️⃣ Các loại Output khi OCR với Tesseract</span></a></h3><ul><li>Nhiều người mới dùng Tesseract không biết rằng ngoài việc xuất plain text, nó còn có thể xuất dữ liệu dạng bảng (TSV) chứa nhiều thông tin chi tiết hơn.</li></ul><h4 id="❶-output-dang-text-thuan" tabindex="-1"><a class="header-anchor" href="#❶-output-dang-text-thuan"><span>❶ Output dạng Text thuần</span></a></h4><ul><li><p>Mặc định Tesseract sẽ trả về chuỗi văn bản thuần túy chỉ chứa nội dung nhận dạng được.</p></li><li><p>● pytesseract:</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> pytesseract <span class="token keyword">import</span> image_to_string</span>
<span class="line">text <span class="token operator">=</span> image_to_string<span class="token punctuation">(</span>img<span class="token punctuation">,</span> lang<span class="token operator">=</span><span class="token string">&quot;eng&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>● Tesseract CLI (gọi từ Python):</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> subprocess</span>
<span class="line"></span>
<span class="line">subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;tesseract&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;input.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;output&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> check<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># Sinh ra file output.txt</span></span>
<span class="line"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;output.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line">    text <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>✅ Ưu điểm: đơn giản, dễ dùng.</p></li><li><p>❌ Nhược điểm: không có thông tin vị trí, độ tin cây, không phân tích chi tiết từng từ.</p></li></ul><h4 id="❷-output-dang-tsv-tab-separated-values" tabindex="-1"><a class="header-anchor" href="#❷-output-dang-tsv-tab-separated-values"><span>❷ Output dạng TSV (Tab-Separated Values)</span></a></h4><ul><li><p>Xuất dữ liệu dạng bảng (tab-separated values) gồm các cột:</p><table><thead><tr><th>Cột</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td><strong>level</strong></td><td>Cấp độ của đối tượng OCR: <br>1 = page, 2 = block, 3 = paragraph, 4 = line, 5 = word</td></tr><tr><td><strong>page_num</strong></td><td>Số thứ tự trang (nếu OCR nhiều trang)</td></tr><tr><td><strong>block_num</strong></td><td>Số thứ tự block trong trang (block = vùng text lớn)</td></tr><tr><td><strong>par_num</strong></td><td>Số thứ tự đoạn văn (paragraph) trong block</td></tr><tr><td><strong>line_num</strong></td><td>Số thứ tự dòng trong đoạn văn</td></tr><tr><td><strong>word_num</strong></td><td>Số thứ tự từ trong dòng</td></tr><tr><td><strong>left</strong></td><td>Tọa độ X (bên trái) của bounding box từ OCR (pixel)</td></tr><tr><td><strong>top</strong></td><td>Tọa độ Y (trên cùng) của bounding box (pixel)</td></tr><tr><td><strong>width</strong></td><td>Chiều rộng của bounding box (pixel)</td></tr><tr><td><strong>height</strong></td><td>Chiều cao của bounding box (pixel)</td></tr><tr><td><strong>conf</strong></td><td>Confidence (độ tin cậy OCR), giá trị từ <strong>-1</strong> (không xác định) hoặc <strong>0–100</strong> (cao hơn là tốt hơn)</td></tr><tr><td><strong>text</strong></td><td>Nội dung ký tự/từ được OCR. Nếu rỗng nghĩa là không nhận diện được</td></tr></tbody></table></li><li><p>● pytesseract:</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> pytesseract <span class="token keyword">import</span> image_to_data</span>
<span class="line">data <span class="token operator">=</span> image_to_data<span class="token punctuation">(</span>img<span class="token punctuation">,</span> lang<span class="token operator">=</span><span class="token string">&quot;eng&quot;</span><span class="token punctuation">,</span> output_type<span class="token operator">=</span><span class="token string">&quot;dict&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token string">&quot;conf&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>● Tesseract CLI (gọi từ Python):</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;tesseract&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;input.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;output&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--psm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tsv&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> check<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;output.tsv&quot;</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>● Ví dụ 1 dòng TSV:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">5	1	1	1	1	1	100	200	50	20	92	Hello</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>✅ Ưu điểm: có bounding box, confidence score → rất hữu ích để hậu xử lý (lọc theo độ tin cậy, highlight vùng OCR).</p></li><li><p>❌ Nhược điểm: dữ liệu phức tạp hơn, tốc độ chậm hơn và cần code thêm để phân tích hay get text.</p></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-D72msq1U.js" defer></script>
  </body>
</html>
