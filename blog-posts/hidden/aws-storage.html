<!doctype html>
<html lang="vi-VN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/vuepress-blog/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,500,600,700&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><title>Dịch vụ lưu trữ - S3 & EBS | Kiến Thức Từ Trải Nghiệm</title><meta name="description" content="Một blog được tạo bằng VuePress">
    <link rel="preload" href="/vuepress-blog/assets/style-B07U0idc.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-B07U0idc.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-CzWcKWvr.js"><link rel="modulepreload" href="/vuepress-blog/assets/aws-storage.html-9Cj9or2V.js">
    <link rel="prefetch" href="/vuepress-blog/assets/index.html-Dc4ftdC6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-B_HoWAzO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-c1EF8Efl.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1vMwiwQM.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-C-DwNue5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/fastapi-base-project.html-BfV__MrI.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/mov-to-mp4-converter.html-CgHInCg6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tesseract-series.html-DX5ppw0u.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/plsql-training-series.html-B3sGtrsW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-advanced.html-BmRXJGz-.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-basic.html-DUKg3UIS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-training-saa-series.html-B3bXo5tz.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jenkins.html-DVi-kxIb.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-series.html-CERmfz7M.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-automation.html-Bm2FK7m2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-cloud-computing.html-BI1IdVdK.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-database.html-BxlQg3xC.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-ec2.html-CaB5_Wsl.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-gioi-thieu-aws.html-BXZ4XLyO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-iam.html-BEsJCvR2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-monitoring.html-6Laa9h4g.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-networking.html-B1Gzt5fy.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-practice.html-CtfI40m2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-serverless.html-bocMqBBk.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-beginner.html-CZotu8FJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-intermediate.html-_dGagHGV.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-shell-script.html-DFYesCex.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-accuracy-perfomance.html-RQJk3uYR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-cache-tesseract.html-CL1UqktW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-gioi-thieu-tesseract.html-BWCvm3H7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-practical.html-DHyrNkLs.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-template-matching.html-bI_EBDVW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tong-quan.html-DT62Gz2I.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-training-tesseract.html-C99KNYeP.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-advanced.html-fiQGIzvw.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-beginner.html-BYzB1XCD.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-expert.html-oxLve5vO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-intermediate.html-DW1qFQ5r.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git-practices.html--euXnUpJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-DntP-NjT.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-BVDo47Wh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-BibAiuCd.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-C1JF6kAM.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/setupDevtools-7MC2TMWH-DLySVtt7.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-blog/"><img class="vp-site-logo" src="/vuepress-blog/images/logo.png" alt="Kiến Thức Từ Trải Nghiệm"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Kiến Thức Từ Trải Nghiệm</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/hidden/aws-storage.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/hidden/aws-storage.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="storage-cac-dich-vu-luu-tru-s3-ebs" tabindex="-1"><a class="header-anchor" href="#storage-cac-dich-vu-luu-tru-s3-ebs"><span>Storage - Các dịch vụ lưu trữ (S3 &amp; EBS)</span></a></h1><p><img src="/vuepress-blog/assets/aws-storage-DlbaneF0.png" alt="Storage"></p><p>Lưu trữ là một thành phần cốt lõi giúp hệ thống hoạt động linh hoạt và mở rộng dễ dàng. Bài viết này giới thiệu hai dịch vụ lưu trữ phổ biến nhất là Amazon S3 và Amazon EBS.</p><p><a href="#1">1. Tổng quan các dịch vụ lưu trữ Storage</a></p><p><a href="#2">2. Các dịch vụ dịch chuyển dữ liệu</a></p><p><a href="#3">3. Độ bền dữ liệu (durability)</a></p><p><a href="#4">4. Amazone EBS</a></p><p><a href="#5">5. Amazone S3</a></p><p><a name="1"></a></p><h2 id="📌-1-tong-quan-cac-dich-vu-luu-tru-storage" tabindex="-1"><a class="header-anchor" href="#📌-1-tong-quan-cac-dich-vu-luu-tru-storage"><span>📌 1. Tổng quan các dịch vụ lưu trữ Storage</span></a></h2><ul><li>Các dịch vụ lưu trữ trên AWS được chia làm 3 nhóm: <ul><li><p>❶ Block Storage (dịch vụ tiêu biểu là Amazone EBS) - Lưu trữ khối</p><ul><li><p>● Dữ liệu/file được chia thành các khối độc lập có kích thước bằng nhau.</p></li><li><p>● Khi chỉnh sửa file, Block Storage sẽ chỉ cập nhật những khối chứa phần dữ liệu thay đổi.</p></li><li><p>● Thường chỉ được sử dụng trên 1 máy tính duy nhất tại 1 thời điểm.</p></li><li><p>● Khi muốn chia sẻ dữ liệu giữa các máy ảo, ta sẽ sử dụng các dịch vụ File System.</p></li><li><p>● Thích hợp với lưu trữ dữ liệu yêu cầu I/O cao, cơ sở dữ liệu, hệ điều hành, và bất kỳ ứng dụng nào cần truy cập dữ liệu khối.</p></li></ul></li><li><p>❷ File System (dịch vụ tiêu biểu như Amazone EFS/FSx) - Lưu trữ file</p><ul><li><p>● Tổ chức dữ liệu dưới dạng cây thư mục, cho phép kết nối với nhiều máy ảo EC2 khác nhau một lúc.</p></li><li><p>● Các dịch vụ File System trên AWS:</p><ul><li>✧ EFS: thường được dùng cho các máy chủ Linux.</li><li>✧ FSx FSx for Windows File Server: thường được sử dụng cho các máy chủ Window.</li><li>✧ FSx for Lustre: dùng cho các ứng dụng dữ liệu lớn, đòi hỏi hiệu năng đọc ghi lớn.</li></ul></li><li><p>● Thích hợp với nhu cầu cần chia sẻ tệp giữa nhiều ứng dụng, lưu trữ các tệp dữ liệu lớn như video hoặc hình ảnh, ứng dụng cần hệ thống tệp có khả năng chia sẻ.</p></li></ul></li><li><p>❸ Object Storage (dịch vụ tiêu biểu là Amazone S3) - Lưu trữ đối tượng</p><ul><li><p>● Lưu trữ các file dưới dạng một đơn vị duy nhất gọi là object mà không chia nhỏ.</p></li><li><p>● Khi chỉnh sửa sẽ cần xóa object cũ và tải object mới. Vì vậy không thường sử dụng lưu trữ dữ liệu thay đổi thường xuyên.</p></li><li><p>● Thích hợp với lưu trữ dữ liệu lâu dài, sao lưu, lưu trữ dữ liệu quy định cần giữ trong nhiều năm nhưng không yêu cầu truy cập thường xuyên với chi phí thấp.</p></li></ul></li></ul></li></ul><p><a name="2"></a></p><h2 id="📌-2-cac-dich-vu-dich-chuyen-du-lieu" tabindex="-1"><a class="header-anchor" href="#📌-2-cac-dich-vu-dich-chuyen-du-lieu"><span>📌 2. Các dịch vụ dịch chuyển dữ liệu</span></a></h2><ul><li><p>Bổ trợ cho các dịch vụ lưu trữ là dịch vụ dịch chuyển dữ liệu.</p></li><li><p>AWS cung cấp nhiều dịch vụ dịch chuyển dữ liệu khác nhau cho những trường hợp sử dụng khác nhau: backup, big data, machine learning, v.v.</p></li><li><p>Các dịch vụ dịch chuyển dữ liệu được chia làm 2 nhóm chính:</p></li></ul><h3 id="_1️⃣-nhom-cac-dich-vu-dich-chuyen-du-lieu-online-dich-chuyen-qua-mang" tabindex="-1"><a class="header-anchor" href="#_1️⃣-nhom-cac-dich-vu-dich-chuyen-du-lieu-online-dich-chuyen-qua-mang"><span>1️⃣ Nhóm các dịch vụ dịch chuyển dữ liệu online (Dịch chuyển qua mạng)</span></a></h3><ul><li><p>● AWS DataSync</p></li><li><p>● AWS Transfer Family</p></li><li><p>● S3 Transfer Acceleration</p></li></ul><h3 id="_2️⃣-nhom-cac-dich-vu-dich-chuyen-du-lieu-offline-dich-chuyen-ngoai-tuyen" tabindex="-1"><a class="header-anchor" href="#_2️⃣-nhom-cac-dich-vu-dich-chuyen-du-lieu-offline-dich-chuyen-ngoai-tuyen"><span>2️⃣ Nhóm các dịch vụ dịch chuyển dữ liệu offline (Dịch chuyển ngoại tuyến)</span></a></h3><ul><li><p>Thường được sử dụng khi đường truyền từ nơi phát sinh dữ liệu kém, hoặc để sao lưu dữ liệu tại nơi không có internet, hoặc khối lượng dữ liệu phát sinh quá lớn vượt quá khả năng dịch chuyển dữ liệu online.</p></li><li><p>AWS sẽ cung cấp các thiết bị vật lý để khách hàng sao chép và gửi ngược lại cho AWS. AWS sẽ thực hiện việc sao chép dữ liệu vào các dịch vụ lưu trữ của AWS.</p></li><li><p>Bao gồm các dịch vụ:</p><ul><li>● AWS Snowcone</li><li>● AWS Snowball</li><li>● AWS Snowmobile</li></ul></li><li><p>AWS cũng cung cấp dịch vụ đường truyền vật lý (AWS Direct Connect) kéo thẳng từ trung tâm dữ liệu của khách hàng đến Region của AWS.</p></li></ul><p><a name="3"></a></p><h2 id="📌-3-đo-ben-du-lieu-durability" tabindex="-1"><a class="header-anchor" href="#📌-3-đo-ben-du-lieu-durability"><span>📌 3. Độ bền dữ liệu (durability)</span></a></h2><ul><li><p>Được đo bằng tỷ lệ dữ liệu không bị mất trong khoảng thời gian 1 năm.</p><ul><li>Ví dụ độ bền là 99.99% có nghĩa là nếu chúng ta lưu 1 file thì sau 1 năm tỷ lệ file đó bị mất là 0.01% .</li></ul></li><li><p>Bạn có thể tăng độ bên dữ liệu bằng cách sao lưu file ra nhiều kho lưu trữ khác nhau.</p><p><img src="/vuepress-blog/assets/aws-durability-ChcYlhIJ.png" alt="Độ bền dữ liệu"></p></li></ul><p><a name="4"></a></p><h2 id="📌-4-amazone-ebs" tabindex="-1"><a class="header-anchor" href="#📌-4-amazone-ebs"><span>📌 4. Amazone EBS</span></a></h2><ul><li><p>Amazon EBS (Elastic Block Store) là một dịch vụ lưu trữ thuộc nhóm Block Storage được thiết kế để sử dụng với các Amazon EC2 instance.</p><ul><li>✔️ EBS cung cấp khả năng lưu trữ khối tương tự như cách ổ cứng vật lý hoạt động trên máy chủ vật lý.</li><li>✔️ EBS cung cấp hiệu năng rất cao, linh hoạt và dễ mở rộng.</li><li>✔️ EBS rất dễ sử dụng, linh hoạt và dễ mở rộng.</li><li>✔️ EBS đảm bảo độ bền dữ liệu lên tới 99.999%.</li></ul><p><img src="/vuepress-blog/assets/aws-ebs-mv3im766.png" alt="Amazone EBS"></p></li><li><p>Các trường hợp sử dụng của EBS bao gồm:</p><ul><li>➀ Lưu trữ dùng cho các ứng dụng doanh nghiệp: SAP ERP, Oracle ERP, Microsoft SharePoint, Microsoft Exchange.</li><li>➁ Dùng cho các hệ cơ sở dữ liệu: MySQL, PostgreSQL, Oracle DB, SQL Server hay phi quan hệ như MongoDB.</li><li>➂ Ứng dụng phân tích dữ liệu lớn.</li></ul></li></ul><h3 id="📂-cac-dong-o-đia-ebs" tabindex="-1"><a class="header-anchor" href="#📂-cac-dong-o-đia-ebs"><span>📂 Các dòng ổ đĩa EBS</span></a></h3><ul><li><p>❶ HDD: Hiệu năng kém hơn, giá thành thấp hơn SSD.</p></li><li><p>❷ SSD: Hiệu năng tốt hơn, giá thành cao hơn HDD.</p></li></ul><h3 id="🛠-bao-ve-du-lieu-voi-ebs-snapshot" tabindex="-1"><a class="header-anchor" href="#🛠-bao-ve-du-lieu-voi-ebs-snapshot"><span>🛠 Bảo vệ dữ liệu với EBS snapshot</span></a></h3><ul><li><p>Là tính năng sao lưu dữ liệu tại một thời điểm nào đó để backup.</p><ul><li>Bạn có thể snapshot thủ công từ AWS Console hay AWS CLI hoặc viết các đoạn mã script hoặc sử dụng các công cụ tự động để định kỳ thực hiện snapshot ổ đĩa EBS.</li></ul></li><li><p>EBS thực hiện việc snapshot theo cơ chế Incremental, có nghĩa là:</p><ul><li>● Lần đầu snapshot sẽ sao lưu toàn bộ dữ liệu.</li><li>● Những lần snapshot sau sẽ chỉ sao lưu dữ liệu bị thay đổi.</li></ul></li><li><p>Các bản snapshot này sau đó sẽ được chuyển đến dịch vụ Object Storage Amazone S3 để lưu trữ để đảm bảo độ bền dữ liệu cao.</p></li><li><p>Data Lifecycle Manager (DLM):</p><ul><li>● Là tính năng quản lý vòng đời các phiên bản snapshot tự động.</li><li>● DLM cho phép tự động luân chuyển các bản snapshot cũ vào các lớp ít truy cập dữ liệu của Amazone S3, cũng như xóa các bản snapshop quá cũ 1 cách tự động để tiết kiệm chi phí.</li></ul></li></ul><h3 id="🧐-so-sanh-ebs-va-instance-storage" tabindex="-1"><a class="header-anchor" href="#🧐-so-sanh-ebs-va-instance-storage"><span>🧐 So sánh EBS và Instance Storage</span></a></h3><ul><li><p>Về bản chất, những ổ đĩa EBS sẽ nằm trên thiết bị vật lý hoàn toàn độc lập với máy ảo EC2 và được kết nối đến máy ảo EC2 thông qua mạng nội bộ.</p><ul><li>✔️ Ưu điểm: linh hoạt và khả năng mở rộng cao</li><li>❌ Nhược điểm: độ trễ khi thực hiện tác vụ đọc ghi sẽ tăng lên</li><li>⚠️ Dù thực chất độ trễ EBS cũng sẵn đang là rất thấp, nhưng trong trường hợp cần độ trễ thấp hơn nữa thì chúng ta cần thiết bị lưu trữ kết nội trực tiếp đến máy ảo EC2 ở mức vật lý mà không cần thông qua mạng nội bộ.</li><li>👉 Để giải quyết vấn đề đó, chúng ta có EC2 Instance Storage.</li></ul></li><li><p>EC2 Instance Storage:</p><ul><li>✔️ Ưu điểm: là loại ổ đĩa gắn liền với thiết bị vật lý của EC2.</li><li>❌ Nhược điểm: không phải tất cả các loại máy ảo EC2 đều hỗ trợ Instane Storage.</li><li>⚠️ Do gắn liền với thiết bị thiết bị vật lý của EC2. Nên khi cần di chuyển sang máy ảo khác (ví dụ do sự cố) thì Instance Storage không thể di chuyển theo =&gt; bị mất dữ liệu trong Instance Storage.</li><li>👉 Chỉ nên sử dụng để lưu trữ các loại dữ liệu tạm thời.</li></ul></li></ul><p><a name="5"></a></p><h2 id="📌-5-amazone-s3" tabindex="-1"><a class="header-anchor" href="#📌-5-amazone-s3"><span>📌 5. Amazone S3</span></a></h2><ul><li><p>Simple Storage Service (S3) là một dịch vụ lưu trữ Object Storage mạnh mẽ được dùng cho nhiều trường hợp lưu trữ khác nhau như:</p><ul><li>File tĩnh, ảnh, video, v.v. làm kho lưu trữ cho các hệ thống lữ trữ dữ liệu lớn hoặc kho lưu trữ dữ liệu ít truy cập với giá rẻ hoặc dữ liệu backup.</li></ul><p><img src="/vuepress-blog/assets/aws-s3-1-DCJFi8m1.png" alt="Amazone S3"></p></li><li><p>✅ Điểm mạnh của S3:</p><ul><li>● Dễ sử dụng, được vận hành hoàn toàn bởi AWS.</li><li>● Do lưu trữ dưới dạng Object nên có khả năng mở rộng vô hạn, tự động co giãn.</li><li>● Chi phí lưu trữ rẻ.</li></ul></li><li><p>Khi sử dụng S3 sẽ tạo ra các thùng chứa dữ liệu (Bucket).</p><ul><li>● Một Bucket như là một folder tổng chứa file (các file khi được upload lên còn gọi là các Object).</li></ul><p><img src="/vuepress-blog/assets/aws-s3-2-DFzDatcD.png" alt="Amazone S3"></p><ul><li>● Mỗi Object được lưu dưới dạng key-value: <ul><li>✧ Key: tên file</li><li>✧ Value: dữ liệu bên trong file</li></ul></li></ul></li><li><p>S3 đảm bảo độ bền dữ liệu lên tới 99.999999999% (lưu trữ 10 triệu file thì trung bình 10 nghìn năm sẽ mất 1 file).</p><ul><li>Lý do là mỗi khi tải dữ liệu lên S3 nó sẽ sao lưu ra nhiều thiết bị lưu trữ khác nhau ở trên 3 Availability Zones khác nhau trong cùng Region.</li></ul></li></ul><h3 id="🔨-ma-hoa-du-lieu-trong-s3" tabindex="-1"><a class="header-anchor" href="#🔨-ma-hoa-du-lieu-trong-s3"><span>🔨 Mã hóa dữ liệu trong S3</span></a></h3><ul><li>Để bảo vệ dữ liệu, S3 hỗ trợ cả việc mã hóa trên đường truyền (Encryption in transit) và mã hóa tại nơi lưu trữ (Encryption at rest).</li></ul><h4 id="_1️⃣-encryption-in-transit" tabindex="-1"><a class="header-anchor" href="#_1️⃣-encryption-in-transit"><span>1️⃣ Encryption in transit</span></a></h4><ul><li>S3 sử dụng HTTPS/TLS.</li></ul><h4 id="_2️⃣-encryption-at-rest" tabindex="-1"><a class="header-anchor" href="#_2️⃣-encryption-at-rest"><span>2️⃣ Encryption at rest</span></a></h4><ul><li>Gồm 2 phương thức: <ul><li><p>❶ Mã hóa Server side: mã hóa phía máy chủ (phía Amazone S3)</p><ul><li><p>● Chúng ta sẽ tải file lên ở dạng chưa mã hóa và S3 sẽ tự động mã hóa trước khi đẩy vào kho lưu trữ.</p></li><li><p>● Một số lựa chọn khóa mã hóa:</p><ul><li><p>✧ SSE-S3 (Server side Encryption S3): khóa mã hóa được quản lý hoàn toàn bởi S3.</p></li><li><p>✧ SSE-KMS: khóa mã hóa do chúng ta tạo ra và quản lý nó trên dịch vụ KMS (key management service).Người dùng muốn tải file lên S3 hoặc lấy file về, ngoài quyền truy cập S3 còn phải có quyền sử dụng khóa mã hóa trên KMS.</p></li><li><p>✧ SSE-C (customer-provided keys): sử dụng các công cụ quản lý khóa mã hóa của riêng chúng ta. Người dùng muốn tải file lên S3 hoặc tải file về sẽ cần đính kèm khóa mã hóa.</p></li></ul></li></ul></li><li><p>❷ Mã hóa client side: chúng ta tự thực hiện quản lý khóa mã hóa và mã hóa dữ liệu phía client trước khi tải lên S3.</p><ul><li>AWS hỗ trợ Encryption SDK để hỗ trợ loại mã hóa này.</li></ul></li></ul></li></ul><h3 id="👀-access-control-kiem-soat-truy-cap-vao-s3" tabindex="-1"><a class="header-anchor" href="#👀-access-control-kiem-soat-truy-cap-vao-s3"><span>👀 Access Control - Kiểm soát truy cập vào S3</span></a></h3><ul><li><p>● Chúng ta có thể cấp quyền cho người dùng truy cập vào S3 bằng các IAM Policy.</p></li><li><p>● Ngoài ra, S3 cũng có các cơ chế quản lý truy cập của riêng: Amazone S3 bucket policy, Amazone S3 access control lists.</p></li></ul><h4 id="_1️⃣-amazone-s3-bucket-policy" tabindex="-1"><a class="header-anchor" href="#_1️⃣-amazone-s3-bucket-policy"><span>1️⃣ Amazone S3 bucket policy</span></a></h4><ul><li><p>● Tương tự IAM Policy, S3 bucket policy cũng là một tài liệu JSON chỉ định những tác vụ có thể hoặc không thể làm.</p></li><li><p>● Điểm khác biệt là Policy này sẽ gắn vào Bucket thay vì người dùng (User), và nó sẽ chỉ định những người dùng nào bị ảnh hưởng bởi Policy này.</p></li></ul><h4 id="_2️⃣-amazone-s3-access-control-lists" tabindex="-1"><a class="header-anchor" href="#_2️⃣-amazone-s3-access-control-lists"><span>2️⃣ Amazone S3 access control lists</span></a></h4><ul><li><p>● Là một cơ chế phân quyền cũ của S3, được định nghĩa dưới dạng XML với độ linh hoạt kém hơn Bucket Policy.</p></li><li><p>● AWS khuyên dùng Bucket Policy.</p></li></ul><h3 id="📊-s3-access-points" tabindex="-1"><a class="header-anchor" href="#📊-s3-access-points"><span>📊 S3 Access Points</span></a></h3><ul><li><p>S3 bucket policy là cơ chế tốt để quản lý tập trung việc truy cập vào các S3 Bucket và Object.</p></li><li><p>Tuy nhiên, nếu chúng ta có 1 bucket được chia sẻ cho rất nhiều người dùng và ứng dụng khác nhau với quyền hạn khác nhau thì Bucket Policy vẫn có một vài nhược điểm:</p><ul><li><p>● Mỗi nhóm người dùng có chính sách phân quyền khác nhau. Khi có sự thay đổi cách phân quyền của 1 nhóm mà chỉnh sửa policy chung thì sẽ gây ảnh hưởng đến các nhóm người dùng khác.</p></li><li><p>● Bucket Policy có giới hạn độ dài. Nếu có quá nhiều người dùng thì có thể vượt quá độ dài cho phép.</p></li></ul></li></ul><p>🔥 Sử dụng S3 Access Points để giải quyết vấn đề trên.</p><ul><li>Về cơ bản, mỗi access point là một endpoint riêng biệt có địa chỉ và Access Point Policy riêng: <ul><li><p>● Access Point Policy cũng tương tự Bucket Policy.</p></li><li><p>● Access Point Policy cho phép phân nhóm người dùng mà vẫn đảm bảo quản lý truy cập tập trung.</p></li></ul></li></ul><h3 id="📂-s3-storage-classes-cac-lop-luu-tru-trong-s3" tabindex="-1"><a class="header-anchor" href="#📂-s3-storage-classes-cac-lop-luu-tru-trong-s3"><span>📂 S3 Storage Classes - Các lớp lưu trữ trong S3</span></a></h3><ul><li><p>S3 có các lớp lưu trữ khác nhau phù hợp với các loại file với tần suất truy cập khác nhau với chi phí khác nhau. Việc hiểu rõ sẽ giúp tối ưu chi phí.</p><p><img src="/vuepress-blog/assets/aws-s3-storage-classes-6qJS1k9p.png" alt="S3 Storage Classes"></p></li></ul><h4 id="_1️⃣-s3-standard" tabindex="-1"><a class="header-anchor" href="#_1️⃣-s3-standard"><span>1️⃣ S3 Standard</span></a></h4><ul><li><p>Là lớp lưu trữ mặc định trong S3.</p></li><li><p>Được tối ưu cho việc lưu trữ thường xuyên và truy cập nhanh.</p></li><li><p>Không có yêu cầu tối thiểu về thời gian lưu trữ hay phí truy cập</p></li><li><p>✔️ Phù hợp lưu trữ dữ liệu mà bạn cần truy cập thường xuyên và đòi hỏi hiệu suất cao, như website, ứng dụng di động, hoặc các dịch vụ streaming.</p></li></ul><h4 id="_2️⃣-s3-standard-ia-infrequent-access" tabindex="-1"><a class="header-anchor" href="#_2️⃣-s3-standard-ia-infrequent-access"><span>2️⃣ S3 Standard-IA (Infrequent Access)</span></a></h4><ul><li><p>Lớp lưu trữ chi phí thấp hơn cho các dữ liệu truy cập không thường xuyên, nhưng vẫn cần truy cập nhanh khi cần.</p></li><li><p>Chi phí lưu trữ thấp, và chi phí cho mỗi lượt truy cập cao hơn.</p></li><li><p>✔️ Phù hợp lưu trữ dữ liệu không cần truy cập thường xuyên nhưng cần khả năng truy cập nhanh khi có yêu cầu, như dữ liệu backup hoặc các bản ghi cũ.</p></li></ul><h4 id="_3️⃣-s3-one-zone-ia" tabindex="-1"><a class="header-anchor" href="#_3️⃣-s3-one-zone-ia"><span>3️⃣ S3 One Zone-IA</span></a></h4><ul><li><p>Giống như S3 Standard-IA nhưng lưu trữ dữ liệu chỉ trong một Availability Zone (AZ) thay vì nhiều AZ.</p></li><li><p>Chi phí thấp hơn so với S3 Standard-IA.</p></li><li><p>Độ bền và tính sẵn sàng kém hơn (không có tính dự phòng trong nhiều AZ).</p></li><li><p>✔️ Phù hợp lưu trữ dữ liệu không cần mức độ chịu lỗi cao hoặc có thể dễ dàng khôi phục lại, chẳng hạn như các bản sao lưu thứ cấp hoặc dữ liệu đã có thể tái tạo.</p></li></ul><h4 id="_4️⃣-s3-glacier" tabindex="-1"><a class="header-anchor" href="#_4️⃣-s3-glacier"><span>4️⃣ S3 Glacier</span></a></h4><ul><li><p>Lớp lưu trữ chi phí thấp được thiết kế cho dữ liệu lưu trữ dài hạn, ít khi truy cập.</p></li><li><p>Khi cần truy cập, dữ liệu có thể mất từ vài phút đến vài giờ để phục hồi.</p></li><li><p>Chi phí rất thấp, độ bền cao.</p></li><li><p>✔️ Phù hợp lưu trữ dữ liệu lâu dài mà không cần truy cập nhanh, chẳng hạn như dữ liệu cũ, hay các bản backup rất ít khi dùng đến.</p></li></ul><h4 id="_5️⃣-s3-glacier-deep-archive" tabindex="-1"><a class="header-anchor" href="#_5️⃣-s3-glacier-deep-archive"><span>5️⃣ S3 Glacier Deep Archive</span></a></h4><ul><li><p>Là lớp lưu trữ có chi phí thấp nhất, dành cho dữ liệu ít truy cập nhất và cần lưu trữ trong thời gian rất dài.</p></li><li><p>Chi phí rẻ hơn Glacier thông thường.</p></li><li><p>Phù hợp lưu trữ dữ liệu rất cũ, rất rất ít khi dùng đến.</p></li></ul><h4 id="🚀-luan-chuyen-du-lieu-giua-cac-lop-luu-tru" tabindex="-1"><a class="header-anchor" href="#🚀-luan-chuyen-du-lieu-giua-cac-lop-luu-tru"><span>🚀 Luân chuyển dữ liệu giữa các lớp lưu trữ:</span></a></h4><ul><li><p>Cách cơ bản nhất là thực hiện thủ công bằng cách cấu hình trên từng Object.</p></li><li><p>❌ Tuy nhiên cách trên không hiệu quả khi khối lượng dữ liệu lớn.</p></li><li><p>✔️ Tính năng S3 lifecircle sẽ giúp tự động luân chuyển các lớp lưu trữ:</p><ul><li><p>● Cho phép chúng ta thay đổi lớp lưu trữ hoặc xóa từng object theo một mốc thười gian nhất định.</p></li><li><p>● Ví dụ:</p><ul><li><p>✧ Video của camera an ninh thường được truy cập nhiều trong 1 tháng đầu tiên. Ít truy cập hơn trong 1 năm tiếp theo. Trong các năm tiếp theo, hầu như ta sẽ không truy cập vào nữa nhưng vẫn cần lưu trữ dữ phòng trong 10 năm.</p></li><li><p>✧ Khi các video được tạo ra ta lưu chứng vào S3 Standard. Sau đó cấu hình lifecircle để chuyển các video vào S3 Standard-IA sau 1 tháng. Tiếp túc đẩy vào S3 Glacier Deep Archive sau 1 năm và tự động xóa video sau 10 năm.</p></li></ul></li><li><p>● Trường hợp chúng ta không nắm rõ sự thay đổi về tần suất, có thể sử dụng lớp lưu trữ cuối cùng S3 Intelligent-Tiering:</p><ul><li><p>✧ Về bản chất, đây không phải 1 lớp lưu trữ riêng biệt.</p></li><li><p>✧ Khi Object đẩy vào lớp này, nó sẽ tự động giám sát lượt truy cập object đó và tự động luân chuyển vào các lớp lưu trữ khác của S3 để tối ưu chi phí.</p></li><li><p>✧ Giúp tối ưu chi phí tự động mà không cần quản lý thủ công.</p></li></ul></li></ul></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-CzWcKWvr.js" defer></script>
  </body>
</html>
