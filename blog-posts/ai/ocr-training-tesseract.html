<!doctype html>
<html lang="vi-VN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/vuepress-blog/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,500,600,700&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><title>Huáº¥n luyá»‡n Tesseract (training AI OCR) | Kiáº¿n Thá»©c Tá»« Tráº£i Nghiá»‡m</title><meta name="description" content="Má»™t blog Ä‘Æ°á»£c táº¡o báº±ng VuePress">
    <link rel="preload" href="/vuepress-blog/assets/style-VnzZgpKD.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-VnzZgpKD.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-Bnxn8RC5.js"><link rel="modulepreload" href="/vuepress-blog/assets/ocr-training-tesseract.html-BRxXD0jA.js">
    <link rel="prefetch" href="/vuepress-blog/assets/index.html-CjBLykZj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-B1HSbkc8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-CrldPB5Y.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-6m6xH6kn.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-DYO5givE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/fastapi-base-project.html-kOP20uaN.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-accuracy-perfomance.html-Bzonh6lL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-cache-tesseract.html-BHM77pci.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-gioi-thieu-tesseract.html-CE_l-sIV.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tong-quan.html-8pbegGJ5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-advanced.html-DcDNXYEZ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-beginner.html-PEbxemP5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-expert.html-BUVowsA5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-intermediate.html-MVp0SCg9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-advanced.html-DMU3bw2y.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-basic.html-BneMpQoW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-cloud-computing.html-BUDrTXPO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-database.html-JKkAu8rC.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-ec2.html-BGZK7uyC.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-gioi-thieu-aws.html-21cyLjvB.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-iam.html-Fpo4BUP5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-storage.html-p0g6-rbe.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-beginner.html-Bwjb74Ji.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-intermediate.html-ro2657rw.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-shell-script.html-BqMjK8va.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-training-saa-series.html-DsUUnMjB.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tesseract-series.html-D9u0JZJc.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/plsql-training-series.html-ByEhb2pK.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-DJLWoYfI.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-Cu7zFGi6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-CidSwDW8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-CiGycLNO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/setupDevtools-7MC2TMWH-B2zD4x96.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-blog/"><img class="vp-site-logo" src="/vuepress-blog/images/logo.png" alt="Kiáº¿n Thá»©c Tá»« Tráº£i Nghiá»‡m"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Kiáº¿n Thá»©c Tá»« Tráº£i Nghiá»‡m</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chá»§"><!---->Trang Chá»§<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dá»± Ãn"><!---->Dá»± Ãn<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Vá» TÃ´i"><!---->Vá» TÃ´i<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">NgÃ´n Ngá»¯</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">NgÃ´n Ngá»¯</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/ai/ocr-training-tesseract.html" aria-label="Tiáº¿ng Viá»‡t"><!---->Tiáº¿ng Viá»‡t<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chá»§"><!---->Trang Chá»§<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dá»± Ãn"><!---->Dá»± Ãn<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Vá» TÃ´i"><!---->Vá» TÃ´i<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">NgÃ´n Ngá»¯</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">NgÃ´n Ngá»¯</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/ai/ocr-training-tesseract.html" aria-label="Tiáº¿ng Viá»‡t"><!---->Tiáº¿ng Viá»‡t<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="huan-luyen-tesseract-training-ai-ocr" tabindex="-1"><a class="header-anchor" href="#huan-luyen-tesseract-training-ai-ocr"><span>Huáº¥n luyá»‡n Tesseract (training AI OCR)</span></a></h1><ul><li><p>Máº·c dÃ¹ Tesseract OCR Ä‘Ã£ Ä‘Æ°á»£c huáº¥n luyá»‡n sáºµn vá»›i nhiá»u ngÃ´n ngá»¯ vÃ  chá»¯ sá»‘, nhÆ°ng trong thá»±c táº¿ (vÃ­ dá»¥: mÃ n hÃ¬nh mÃ¡y Ä‘o, thiáº¿t bá»‹ cÃ´ng nghiá»‡p, báº£ng hiá»ƒn thá»‹ sá»‘, font chá»¯ Ä‘áº·c thÃ¹, dá»¯ liá»‡u má»/nhá») thÃ¬ káº¿t quáº£ nháº­n dáº¡ng thÆ°á»ng chÆ°a chÃ­nh xÃ¡c.</p></li><li><p>LÃºc nÃ y, training Tesseract trÃªn dá»¯ liá»‡u thá»±c táº¿ sáº½ giÃºp:</p><ul><li><p>âœ”ï¸ TÄƒng Ä‘á»™ chÃ­nh xÃ¡c khi nháº­n dáº¡ng kÃ½ tá»± Ä‘áº·c thÃ¹.</p></li><li><p>âœ”ï¸ Giáº£m lá»—i nháº§m láº«n giá»¯a cÃ¡c kÃ½ tá»± dá»… bá»‹ OCR Ä‘á»c sai (vÃ­ dá»¥: 0 â†” O, 1 â†” I, 5 â†” S, 2 â†” 7, 3 â†” 8, A â†” 4, v.v.).</p></li><li><p>âœ”ï¸ TÃ¹y biáº¿n linh hoáº¡t: chá»‰ cáº§n train trÃªn bá»™ kÃ½ tá»± nhá» (digit-only, kÃ½ tá»± Ä‘áº·c biá»‡t), khÃ´ng báº¯t buá»™c pháº£i huáº¥n luyá»‡n toÃ n bá»™ bá»™ chá»¯.</p></li></ul></li></ul><p><a href="#1">1. Giá»›i thiá»‡u</a></p><p><a href="#2">2. CÃ¡c phÆ°Æ¡ng phÃ¡p training</a></p><p><a href="#3">3. Fine-tuning Tesseract</a></p><p><a href="#4">4. Báº£n cháº¥t cá»§a viá»‡c training trong Tesseract</a></p><p><a name="1"></a></p><h2 id="ğŸ“Œ-1-gioi-thieu" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-1-gioi-thieu"><span>ğŸ“Œ 1. Giá»›i thiá»‡u</span></a></h2><ul><li><p>NhÆ° Ä‘Ã£ biáº¿t, Tesseract v4+ (Ä‘Ã£ tÃ­ch há»£p LSTM â€“ má»™t dáº¡ng AI OCR). VÃ  cÅ©ng chÃ­nh tá»« phiÃªn báº£n 4 trá»Ÿ Ä‘i, Tesseract há»— trá»£ training/fine-tuning LSTM model.</p></li><li><p>Æ¯u Ä‘iá»ƒm thÃ¬ Ä‘Ã£ nháº¯c Ä‘áº¿n ngay Ä‘áº§u bÃ i viáº¿t, cÃ²n vá» nhÆ°á»£c Ä‘iá»ƒm:</p><ul><li><p>âŒ Cáº§n thá»i gian, kiáº¿n thá»©c Ä‘á»ƒ chuáº©n bá»‹ vÃ  huáº¥n luyá»‡n.</p></li><li><p>âŒ Model cÃ ng lá»›n cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng performance.</p></li></ul></li></ul><p><a name="2"></a></p><h2 id="ğŸ“Œ-2-cac-phuong-phap-training" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-2-cac-phuong-phap-training"><span>ğŸ“Œ 2. CÃ¡c phÆ°Æ¡ng phÃ¡p training</span></a></h2><ul><li>CÃ³ hai phÆ°Æ¡ng phÃ¡p chÃ­nh Ä‘á»ƒ huáº¥n luyá»‡n Tesseract nháº±m cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c OCR:</li></ul><h3 id="_1ï¸âƒ£-fine-tuning-huan-luyen-bo-sung" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-fine-tuning-huan-luyen-bo-sung"><span>1ï¸âƒ£ Fine-tuning (Huáº¥n luyá»‡n bá»• sung)</span></a></h3><ul><li><p>Dá»±a trÃªn model ngÃ´n ngá»¯ cÃ³ sáºµn cá»§a Tesseract (vd: eng.traineddata) vÃ  huáº¥n luyá»‡n thÃªm báº±ng dá»¯ liá»‡u thá»±c táº¿.</p></li><li><p>âœ… Æ¯u Ä‘iá»ƒm:</p><ul><li><p>âœ§ Nhanh chÃ³ng, khÃ´ng cáº§n nhiá»u dá»¯ liá»‡u.</p></li><li><p>âœ§ PhÃ¹ há»£p khi chá»‰ muá»‘n cáº£i thiá»‡n má»™t nhÃ³m kÃ½ tá»± (vÃ­ dá»¥: chá»¯ sá»‘, kÃ½ hiá»‡u Ä‘áº·c biá»‡t).</p></li><li><p>âœ§ Ãt tá»‘n tÃ i nguyÃªn.</p></li></ul></li><li><p>âŒ NhÆ°á»£c Ä‘iá»ƒm:</p><ul><li><p>âœ§ Náº¿u dá»¯ liá»‡u khÃ¡c biá»‡t quÃ¡ nhiá»u so vá»›i model gá»‘c, Ä‘á»™ chÃ­nh xÃ¡c váº«n háº¡n cháº¿.</p></li><li><p>âœ§ Bá»™ máº·c Ä‘á»‹nh cá»§a Tesseract chá»©a cáº£ chá»¯ cÃ¡i, sá»‘, kÃ½ hiá»‡u. Náº¿u báº¡n chá»‰ muá»‘n model chuyÃªn biá»‡t (vÃ­ dá»¥ Ä‘á»c cÃ¡c sá»‘ 0-9) thÃ¬ base trÃªn model cÃ³ sáºµn sáº½ gÃ¢y náº·ng, cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n tá»‘c Ä‘á»™.</p></li></ul></li></ul><h3 id="_2ï¸âƒ£-full-training-training-tu-Ä‘au" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-full-training-training-tu-Ä‘au"><span>2ï¸âƒ£ Full training (Training tá»« Ä‘áº§u)</span></a></h3><ul><li><p>XÃ¢y dá»±ng model OCR má»›i hoÃ n toÃ n tá»« dá»¯ liá»‡u thu tháº­p Ä‘Æ°á»£c.</p></li><li><p>âœ… Æ¯u Ä‘iá»ƒm:</p><ul><li><p>âœ§ Kiá»ƒm soÃ¡t toÃ n diá»‡n bá»™ kÃ½ tá»±, font chá»¯, ngÃ´n ngá»¯.</p></li><li><p>âœ§ Model táº­p trung há»c nháº­n dáº¡ng, giáº£m nhiá»…u, tÄƒng Ä‘á»™ chÃ­nh xÃ¡c vÃ  cáº£i thiá»‡n tá»‘c Ä‘á»™ hÆ¡n.</p></li></ul></li><li><p>âŒ NhÆ°á»£c Ä‘iá»ƒm:</p><ul><li><p>âœ§ YÃªu cáº§u ráº¥t nhiá»u dá»¯ liá»‡u vÃ  cÃ´ng sá»©c.</p></li><li><p>âœ§ Thá»i gian huáº¥n luyá»‡n lÃ¢u, Ä‘Ã²i há»i tÃ i nguyÃªn tÃ­nh toÃ¡n máº¡nh.</p></li></ul></li><li><p>ğŸš€ Trong bÃ i viáº¿t nÃ y chÃºng ta sáº½ chá»‰ táº­p trung phÆ°Æ¡ng phÃ¡p Fine-tuning.</p></li></ul><p><a name="3"></a></p><h2 id="ğŸ“Œ-3-fine-tuning-tesseract" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-3-fine-tuning-tesseract"><span>ğŸ“Œ 3. Fine-tuning Tesseract</span></a></h2><ul><li><p>Model LSTM chuáº©n (Ä‘Ã£ training sáºµn cá»§a Tesseract 4.x, 5.x) Ä‘Ã£ Ä‘Æ°á»£c train trÃªn nhiá»u ngÃ´n ngá»¯ vÃ  bá»™ dá»¯ liá»‡u Ä‘a dáº¡ng:</p><ul><li><p>âœ”ï¸ Tá»‘c Ä‘á»™ xá»­ lÃ½ khÃ¡ nhanh, tá»‘i Æ°u tá»‘t trÃªn pháº§n lá»›n mÃ¡y tÃ­nh hiá»‡n Ä‘áº¡i.</p></li><li><p>âœ”ï¸ Äá»™ chÃ­nh xÃ¡c khÃ¡ cao, phÃ¹ há»£p vá»›i nhiá»u trÆ°á»ng há»£p.</p></li><li><p>ğŸ‘‰ ThÆ°á»ng khÃ´ng cáº§n training láº¡i hoáº·c chá»‰ nÃªn training nháº¹ (fine-tune trÃªn bá»™ dá»¯ liá»‡u thá»±c táº¿).</p></li></ul></li><li><p>ğŸ”¥ Äá»ƒ cho trá»±c quan hÆ¡n khi Ä‘i vÃ o cÃ¡c bÆ°á»›c Fine-tuning, má»i ngÆ°á»i cÃ³ thá»ƒ káº¿t há»£p xem qua video hÆ°á»›ng dáº«n cá»§a cÃ¡c phÃ¡p sÆ° áº¤n Äá»™ <a href="https://www.youtube.com/watch?v=SvhoBT-PnME" target="_blank" rel="noopener noreferrer">táº¡i Ä‘Ã¢y</a>.</p></li></ul><h3 id="_1ï¸âƒ£-yeu-cau-ban-Ä‘au" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-yeu-cau-ban-Ä‘au"><span>1ï¸âƒ£ YÃªu cáº§u ban Ä‘áº§u</span></a></h3><ul><li><p>â€ Tesseract v4.x, 5x (cÃ³ sáºµn LSTM OCR).</p></li><li><p>â Python khuyÃªn dÃ¹ng 3.8 hoáº·c 3.9 hay 3.10, trÃ¡nh báº£n má»›i nháº¥t vÃ¬ cÃ³ thá»ƒ Tessract chÆ°a á»•n Ä‘á»‹nh trÃªn báº£n má»›i.</p></li><li><p>â‚ MÃ¡y chá»§ training: Náº¿u dÃ¹ng vá»›i tÃ i nguyÃªn giá»›i háº¡n (RAM hoáº·c CPU), thá»i gian cÃ³ thá»ƒ cháº­m hÆ¡n Ä‘Ã¡ng ká»ƒ, tháº­m chÃ­ dá»… bá»‹ out-of-memory:</p><ul><li><p>âœ§ Ubuntu/Linux (khuyÃªn dÃ¹ng WSL náº¿u Windows).</p></li><li><p>âœ§ RAM: tá»‘i thiá»ƒu 8GB</p></li><li><p>âœ§ Dung lÆ°á»£ng: ~5GB trá»‘ng</p></li></ul></li></ul><h3 id="_2ï¸âƒ£-thiet-lap-moi-truong" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-thiet-lap-moi-truong"><span>2ï¸âƒ£ Thiáº¿t láº­p mÃ´i trÆ°á»ng</span></a></h3><ul><li><p>MÃ´i trÆ°á»ng build vÃ  compile cá»§a Tesseract cá»±c ká»³ thÃ¢n thiá»‡n vá»›i Linux.</p></li><li><p>TrÆ°á»ng há»£p váº«n muá»‘n training Tesseract trÃªn Windows â†’ khuyÃªn dÃ¹ng WSL (Windows Subsystem for Linux) Ä‘á»ƒ trÃ¡nh gáº·p cÃ¡c lá»—i ká»³ quáº·c do khÃ´ng tÆ°Æ¡ng thÃ­ch trÃªn Windows.</p></li></ul><h4 id="â¶-kiem-tra-may-Ä‘a-cai-wsl-chua" tabindex="-1"><a class="header-anchor" href="#â¶-kiem-tra-may-Ä‘a-cai-wsl-chua"><span>â¶ Kiá»ƒm tra mÃ¡y Ä‘Ã£ cÃ i WSL chÆ°a</span></a></h4><ul><li><p>Má»Ÿ Command Prompt hoáº·c PowerShell, gÃµ:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">wsl <span class="token parameter variable">--list</span> <span class="token parameter variable">--verbose</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Náº¿u tháº¥y nhÆ° dÆ°á»›i tá»©c lÃ  báº¡n Ä‘Ã£ cÃ i WSL vÃ  cÃ³ Ubuntu sáºµn.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">NAME      STATE           VERSION</span>
<span class="line">Ubuntu    Running         <span class="token number">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Náº¿u hiá»‡n lá»—i kiá»ƒu nhÆ° dÆ°á»›i, hoáº·c khÃ´ng tháº¥y Ubuntu trong danh sÃ¡ch â†’ báº¡n chÆ°a cÃ i WSL â†’ xem bÆ°á»›c 2.:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token string">&#39;wsl&#39;</span> is not recognized as an internal or external <span class="token builtin class-name">command</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="â·-cai-Ä‘at-wsl-ubuntu-neu-chua-co" tabindex="-1"><a class="header-anchor" href="#â·-cai-Ä‘at-wsl-ubuntu-neu-chua-co"><span>â· CÃ i Ä‘áº·t WSL + Ubuntu (náº¿u chÆ°a cÃ³)</span></a></h4><ul><li><p>Má»Ÿ PowerShell (Admin) rá»“i cháº¡y:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">wsl <span class="token parameter variable">--install</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>ğŸ‘‰ Sau khi xong, báº¡n cáº§n restart mÃ¡y.</p></li></ul><h4 id="â¸-mo-ubuntu-wsl-va-kiem-tra" tabindex="-1"><a class="header-anchor" href="#â¸-mo-ubuntu-wsl-va-kiem-tra"><span>â¸ Má»Ÿ Ubuntu (WSL) vÃ  kiá»ƒm tra</span></a></h4><ul><li><p>âœ¦ Sau khi cÃ i xong, tÃ¬m &quot;Ubuntu&quot; trong Start Menu â†’ má»Ÿ lÃªn.</p></li><li><p>âœ¦ Nháº­p username + password láº§n Ä‘áº§u.</p></li><li><p>âœ¦ Sau Ä‘Ã³ thá»­ Ä‘á»ƒ cháº¯c cháº¯n WSL hoáº¡t Ä‘á»™ng:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ls</span> ~</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="âƒ-tesseract" tabindex="-1"><a class="header-anchor" href="#âƒ-tesseract"><span>âƒ Tesseract</span></a></h4><ul><li><p>ÄÆ°Æ¡ng nhiÃªn training Tesseract thÃ¬ cáº§n cÃ i Tesseract trÃªn Ubuntu (WSL).</p></li><li><p>Náº¿u báº¡n dÃ¹ng Ubuntu 22.04 vÃ  cáº§n training â†’ báº¡n nÃªn build Tesseract tá»« source phiÃªn báº£n Ä‘áº§y Ä‘á»§ vÃ¬ phiÃªn báº£n máº·c Ä‘á»‹nh thÆ°á»ng khÃ´ng Ä‘i kÃ¨m cÃ¡c tool training (combine_tessdata, lstmtraining, text2image,...):</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> tesseract-ocr</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> tesseract-ocr-all</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libtesseract-dev</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libleptonica-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_3ï¸âƒ£-tao-project-training" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-tao-project-training"><span>3ï¸âƒ£ Táº¡o project training</span></a></h3><ul><li><p>Táº¡o má»™t thÆ° má»¥c project riÃªng Ä‘á»ƒ:</p><ul><li><p>Chuáº©n bá»‹ dá»¯ liá»‡u.</p></li><li><p>Fine-tune mÃ´ hÃ¬nh sáºµn cÃ³.</p></li><li><p>LÆ°u cÃ¡c file .traineddata Ä‘áº§u ra sau khi training.</p></li></ul></li></ul><h4 id="â¶-cai-Ä‘at-cac-goi-phu-thuoc-cho-tesstrain" tabindex="-1"><a class="header-anchor" href="#â¶-cai-Ä‘at-cac-goi-phu-thuoc-cho-tesstrain"><span>â¶ CÃ i Ä‘áº·t cÃ¡c gÃ³i phá»¥ thuá»™c cho tesstrain</span></a></h4><ul><li><p>Má»Ÿ Ubuntu:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> build-essential <span class="token function">git</span> <span class="token function">make</span> pkg-config <span class="token punctuation">\</span></span>
<span class="line">    libpng-dev libjpeg8-dev libtiff5-dev zlib1g-dev <span class="token punctuation">\</span></span>
<span class="line">    libicu-dev libpango1.0-dev libcairo2-dev <span class="token punctuation">\</span></span>
<span class="line">    python3 python3-venv python3-pip libleptonica-dev <span class="token punctuation">\</span></span>
<span class="line">    tesseract-ocr</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>NgoÃ i ra, Ä‘á»ƒ cháº¡y lá»‡nh huáº¥n luyá»‡n, cáº§n cÃ i thÃªm <code>make</code> - cÃ´ng cá»¥ chuáº©n Ä‘á»ƒ cháº¡y cÃ¡c tÃ¡c vá»¥ tá»± Ä‘á»™ng hÃ³a:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">make</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="â·-clone-repo-tesstrain-â€“-cong-cu-chuan-Ä‘e-training-tesseract" tabindex="-1"><a class="header-anchor" href="#â·-clone-repo-tesstrain-â€“-cong-cu-chuan-Ä‘e-training-tesseract"><span>â· Clone repo tesstrain â€“ cÃ´ng cá»¥ chuáº©n Ä‘á»ƒ training Tesseract</span></a></h4><ul><li><p>CÃ i git:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span> <span class="token parameter variable">-y</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Thá»±c hiá»‡n clone:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">git</span> clone https://github.com/tesseract-ocr/tesstrain.git</span>
<span class="line"><span class="token builtin class-name">cd</span> tesstrain</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ğŸ¯ Táº¡i sao cáº§n tesstrain?</p><ul><li><p>âœ”ï¸ Repo tesstrain nÃ y lÃ  nÆ¡i chá»©a:</p><ul><li>âœ§ CÃ¡c script vÃ  Makefile Ä‘á»ƒ xá»­ lÃ½ táº­p dá»¯ liá»‡u.</li><li>âœ§ CÃ¡c vÃ­ dá»¥ máº«u vá» cÃ¡ch train/fine-tune.</li><li>âœ§ Logic gá»i combine_tessdata, lstmtraining, text2image, v.v.</li></ul></li><li><p>âœ”ï¸ Viá»‡c training Tesseract thá»§ cÃ´ng ráº¥t phá»©c táº¡p. tesstrain giÃºp:</p><ul><li>âœ§ Quáº£n lÃ½ dá»¯ liá»‡u (áº£nh + groundtruth .gt.txt).</li><li>âœ§ Tá»± Ä‘á»™ng gá»i Ä‘Ãºng lá»‡nh lstmtraining.</li><li>âœ§ Tá»± Ä‘á»™ng sinh .traineddata vá»›i model káº¿ thá»«a (--continue_from).</li></ul></li></ul></li></ul><h4 id="â¸-tao-moi-truong-ao" tabindex="-1"><a class="header-anchor" href="#â¸-tao-moi-truong-ao"><span>â¸ Táº¡o mÃ´i trÆ°á»ng áº£o</span></a></h4><ul><li><p>CÃ i thÃªm gÃ³i venv cho Python (vÃ­ dá»¥ cho Python v3.10):</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3.10-venv</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Táº¡o mÃ´i trÆ°á»ng áº£o Python vÃ  kÃ­ch hoáº¡t:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">python3.10 <span class="token parameter variable">-m</span> venv venv</span>
<span class="line"><span class="token builtin class-name">source</span> venv/bin/activate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="â¹-cai-Ä‘at-cac-dependencies-can-thiet-cho-tesstrain" tabindex="-1"><a class="header-anchor" href="#â¹-cai-Ä‘at-cac-dependencies-can-thiet-cho-tesstrain"><span>â¹ CÃ i Ä‘áº·t cÃ¡c dependencies cáº§n thiáº¿t cho tesstrain</span></a></h4><ul><li><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_4ï¸âƒ£-chuan-bi-du-lieu-training" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-chuan-bi-du-lieu-training"><span>4ï¸âƒ£ Chuáº©n bá»‹ dá»¯ liá»‡u training</span></a></h3><ul><li><p>âœ¦ Tesseract training cáº§n:</p><ul><li>âœ§ áº¢nh (thÆ°á»ng lÃ  áº£nh Ä‘en tráº¯ng hoáº·c áº£nh mÃ u TIFF hoáº·c PNG).</li><li>âœ§ File <code>.gt.txt</code>: chá»©a ná»™i dung chÃ­nh xÃ¡c cá»§a áº£nh tÆ°Æ¡ng á»©ng (ground truth text).</li><li>âœ§ File <code>.box</code> (tÃ¹y chá»n): Ä‘á»‹nh nghÄ©a vá»‹ trÃ­ bounding box vÃ  kÃ½ tá»± trÃªn áº£nh.</li></ul></li><li><p>âœ¦ ThÃ´ng thÆ°á»ng báº¡n sáº½ dÃ¹ng cáº·p: áº£nh + .gt.txt hoáº·c áº£nh + .box.</p></li></ul><h4 id="â¶-chuan-bi-anh" tabindex="-1"><a class="header-anchor" href="#â¶-chuan-bi-anh"><span>â¶ Chuáº©n bá»‹ áº£nh</span></a></h4><ul><li><p>âœ¦ áº¢nh nÃªn Ä‘Æ°á»£c crop Ä‘Ãºng vÃ¹ng chá»©a chá»¯ cáº§n training. Tá»‘t hÆ¡n lÃ  thÃªm cáº£ padding (viá»n tráº¯ng) cho vÃ¹ng áº£nh.</p></li><li><p>âœ¦ áº¢nh nÃªn cÃ³ Ä‘á»‹nh dáº¡ng TIFF hoáº·c PNG, nhÆ°ng <code>.tif</code> Ä‘Æ°á»£c Tesseract Æ°u thÃ­ch hÆ¡n cáº£ khi training.</p><ul><li>VÃ­ dá»¥:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">001.tif</span>
<span class="line">002.tif</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>ğŸ’¡ MÃ¬nh thÆ°á»ng thÃªm logic lÆ°u áº£nh sau khi tiá»n xá»­ lÃ½ vÃ  comment out. LÃºc nÃ o cáº§n áº£nh training thÃ¬ bá» comment out vÃ  cháº¡y láº¡i Ä‘á»ƒ láº¥y data training.</p></li></ul><h4 id="â·-tao-file-ground-truth-text-gt-txt" tabindex="-1"><a class="header-anchor" href="#â·-tao-file-ground-truth-text-gt-txt"><span>â· Táº¡o file ground truth text (.gt.txt)</span></a></h4><ul><li><p>âœ¦ ÄÃ¢y lÃ  file text thuáº§n chá»©a ná»™i dung kÃ½ tá»± chÃ­nh xÃ¡c tÆ°Æ¡ng á»©ng áº£nh.</p></li><li><p>âœ¦ TÃªn file giá»‘ng tÃªn áº£nh, vÃ­ dá»¥: 123.gt.txt â†’ chá»©a text cá»§a 123.tif</p><ul><li>VÃ­ dá»¥ ná»™i dung file 123.gt.txt:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token number">123</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="_5ï¸âƒ£-setup-cau-truc-moi-truong-training" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-setup-cau-truc-moi-truong-training"><span>5ï¸âƒ£ Setup cáº¥u trÃºc mÃ´i trÆ°á»ng training</span></a></h3><h4 id="â¶-mo-thu-muc-lam-viec-trong-wsl-tu-windows-explorer" tabindex="-1"><a class="header-anchor" href="#â¶-mo-thu-muc-lam-viec-trong-wsl-tu-windows-explorer"><span>â¶ Má»Ÿ thÆ° má»¥c lÃ m viá»‡c trong WSL tá»« Windows Explorer</span></a></h4><ul><li><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">\</span><span class="token punctuation">\</span>wsl$<span class="token punctuation">\</span>Ubuntu-22.04<span class="token punctuation">\</span>home<span class="token punctuation">\</span>hosyduc<span class="token punctuation">\</span>train_data</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>âœ… Má»¥c Ä‘Ã­ch: Dá»… thao tÃ¡c file tá»« Windows dÃ¹ Ä‘ang lÃ m viá»‡c trÃªn Ubuntu (WSL).</p></li></ul><h4 id="â·-mo-folder-project-tesstrain-vua-clone" tabindex="-1"><a class="header-anchor" href="#â·-mo-folder-project-tesstrain-vua-clone"><span>â· Má»Ÿ folder project <code>tesstrain</code> vá»«a clone</span></a></h4><ul><li><p>âœ¦ Giáº£i nÃ©n thÆ° má»¥c <code>ocrd-testset</code> (dá»¯ liá»‡u Ä‘Ã£ cÃ³ sáºµn tesseract dÃ¹ng Ä‘á»ƒ training)</p></li><li><p>âœ¦ ÄÃ¢y lÃ  dataset máº«u chá»©a cÃ¡c vÃ­ dá»¥ áº£nh <code>.tif/.png</code> vÃ  text <code>.gt.txt</code> Ä‘Ã£ dÃ¹ng Ä‘á»ƒ training.</p></li></ul><h4 id="â¸-tao-thu-muc-data-trong-project-va-di-chuyen-thu-muc-ocrd-testset-vua-giai-nen-vao" tabindex="-1"><a class="header-anchor" href="#â¸-tao-thu-muc-data-trong-project-va-di-chuyen-thu-muc-ocrd-testset-vua-giai-nen-vao"><span>â¸ Táº¡o thÆ° má»¥c <code>data</code> trong project vÃ  di chuyá»ƒn thÆ° má»¥c <code>ocrd-testset</code> vá»«a giáº£i nÃ©n vÃ o</span></a></h4><h4 id="â¹-Ä‘oi-ten-thu-muc-data-ocrd-testset" tabindex="-1"><a class="header-anchor" href="#â¹-Ä‘oi-ten-thu-muc-data-ocrd-testset"><span>â¹ Äá»•i tÃªn thÆ° má»¥c <code>/data/ocrd-testset</code></span></a></h4><ul><li><p>âœ¦ CÃ³ thá»ƒ Ä‘á»•i thÃ nh tÃªn báº¥t ká»³ lÃ m model training cho báº¡n nhÆ°ng cáº§n káº¿t thÃºc báº±ng ground-truth Ä‘á»ƒ tesstrain nháº­n diá»‡n.</p><ul><li>VÃ­ dá»¥: <code>hsd-ground-truth</code></li></ul></li><li><p>âœ¦ CÃ¡c áº£nh <code>.tif</code> vÃ  text <code>.gt.txt</code> Ä‘Ã£ chuáº©n bá»‹ trÆ°á»›c Ä‘Ã³ cÅ©ng sáº½ Ä‘Æ°a vÃ o trong thÆ° má»¥c nÃ y Ä‘á»ƒ mÃ´ hÃ¬nh má»›i sáº½ káº¿ thá»«a vÃ  Ä‘Æ°á»£c fine-tune thÃªm báº±ng áº£nh báº¡n cung cáº¥p.</p></li></ul><h4 id="âº-tai-mo-hinh-goc-Ä‘e-fine-tune-start-model" tabindex="-1"><a class="header-anchor" href="#âº-tai-mo-hinh-goc-Ä‘e-fine-tune-start-model"><span>âº Táº£i mÃ´ hÃ¬nh gá»‘c Ä‘á»ƒ fine-tune (START_MODEL)</span></a></h4><ul><li><p>âœ¦ Äá»ƒ fine-tune, báº¡n cáº§n má»™t mÃ´ hÃ¬nh ná»n Ä‘Ã£ há»c cÆ¡ báº£n, gá»i lÃ  START_MODEL nhÆ° <code>eng.traineddata</code>, <code>deu.traineddata</code>, <code>deu_latf.traineddata</code>, v.v.</p></li><li><p>âœ¦ Download file START_MODEL (vÃ­ dá»¥ <code>deu_latf.traineddata</code>) táº¡i:</p><ul><li>ğŸ”— https://github.com/tesseract-ocr/tessdata_best/blob/main/deu_latf.traineddata</li></ul></li></ul><h4 id="â»-tao-thu-muc-tessdata-cung-cap-voi-thu-muc-project-tesstrain" tabindex="-1"><a class="header-anchor" href="#â»-tao-thu-muc-tessdata-cung-cap-voi-thu-muc-project-tesstrain"><span>â» Táº¡o thÆ° má»¥c <code>tessdata</code> cÃ¹ng cáº¥p vá»›i thÆ° má»¥c project <code>tesstrain</code></span></a></h4><ul><li><p>Copy file START_MODEL <code>deu_latf.traineddata</code> vá»«a táº£i táº¡i bÆ°á»›c â‘¤ vÃ o thÆ° má»¥c <code>tessdata</code>.</p></li><li><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tesstrain/</span>
<span class="line">â”œâ”€â”€ data/</span>
<span class="line">â”‚   â””â”€â”€ hsd-ground-truth/</span>
<span class="line">â”‚       â”œâ”€â”€ sample1.tif</span>
<span class="line">â”‚       â”œâ”€â”€ sample1.gt.txt</span>
<span class="line">â”‚       â”œâ”€â”€ <span class="token punctuation">..</span>.</span>
<span class="line">tesstrain/</span>
<span class="line">â”œâ”€â”€ deu_latf.traineddata</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_6ï¸âƒ£-tien-hanh-huan-luyen-mo-hinh" tabindex="-1"><a class="header-anchor" href="#_6ï¸âƒ£-tien-hanh-huan-luyen-mo-hinh"><span>6ï¸âƒ£ Tiáº¿n hÃ nh huáº¥n luyá»‡n mÃ´ hÃ¬nh</span></a></h3><h4 id="â¶-mo-lai-ubuntu-tai-moi-truong-ao-Ä‘a-kich-hoat" tabindex="-1"><a class="header-anchor" href="#â¶-mo-lai-ubuntu-tai-moi-truong-ao-Ä‘a-kich-hoat"><span>â¶ Má»Ÿ láº¡i Ubuntu (táº¡i mÃ´i trÆ°á»ng áº£o Ä‘Ã£ kÃ­ch hoáº¡t)</span></a></h4><ul><li><p>âœ¦ Cháº¡y lá»‡nh training vÃ­ dá»¥ sau:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">make</span> training <span class="token assign-left variable">MODEL_NAME</span><span class="token operator">=</span>hsd <span class="token assign-left variable">START_MODEL</span><span class="token operator">=</span>deu_latf <span class="token assign-left variable">TESSDATA</span><span class="token operator">=</span><span class="token punctuation">..</span>/tessdata <span class="token assign-left variable">MAX_ITERATIONS</span><span class="token operator">=</span><span class="token number">500</span> <span class="token assign-left variable">LEARNING_RATE</span><span class="token operator">=</span><span class="token number">0.001</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>âœ¦ Ã nghÄ©a cÃ¡c tham sá»‘:</p><table><thead><tr><th style="text-align:center;">Tham sá»‘</th><th style="text-align:center;">Ã nghÄ©a</th></tr></thead><tbody><tr><td style="text-align:center;">MODEL_NAME</td><td style="text-align:center;">TÃªn mÃ´ hÃ¬nh má»›i (hsd.traineddata)</td></tr><tr><td style="text-align:center;">START_MODEL</td><td style="text-align:center;">MÃ´ hÃ¬nh gá»‘c Ä‘á»ƒ fine-tune (deu_latf.traineddata)</td></tr><tr><td style="text-align:center;">TESSDATA</td><td style="text-align:center;">ÄÆ°á»ng dáº«n Ä‘áº¿n thÆ° má»¥c chá»©a mÃ´ hÃ¬nh gá»‘c</td></tr><tr><td style="text-align:center;">MAX_ITERATIONS</td><td style="text-align:center;">Sá»‘ vÃ²ng láº·p huáº¥n luyá»‡n (quÃ¡ cao cÃ³ thá»ƒ overfit)</td></tr><tr><td style="text-align:center;">LEARNING_RATE</td><td style="text-align:center;">Tá»‘c Ä‘á»™ há»c â€“ nhá» thÃ¬ há»c ká»¹, lá»›n thÃ¬ há»c nhanh (nhÆ°ng dá»… sai)</td></tr></tbody></table><ul><li>âš ï¸ Tham kháº£o thÃªm Ã½ nghÄ©a cÃ¡c tham sá»‘ trong file README.md táº¡i thÆ° má»¥c dá»± Ã¡n <a href="https://github.com/tesseract-ocr/tesstrain" target="_blank" rel="noopener noreferrer">tesstrain</a>.</li></ul></li></ul><h4 id="â·-Ä‘oi-lenh-training-chay-xong-se-tao-ra-file-traineddata-tai-tesstrain-data-vi-du-hsd-traineddata" tabindex="-1"><a class="header-anchor" href="#â·-Ä‘oi-lenh-training-chay-xong-se-tao-ra-file-traineddata-tai-tesstrain-data-vi-du-hsd-traineddata"><span>â· Äá»£i lá»‡nh training cháº¡y xong, sáº½ táº¡o ra file <code>.traineddata</code> táº¡i <code>\tesstrain\data\</code> (vÃ­ dá»¥: <code>hsd.traineddata</code>)</span></a></h4><ul><li><p>âœ¦ QuÃ¡ trÃ¬nh training Tesseract cÃ³ thá»ƒ kÃ©o dÃ i khÃ¡ lÃ¢u, tÃ¹y vÃ o cÃ¡c yáº¿u tá»‘ sau:</p><ul><li>â€ Sá»‘ lÆ°á»£ng áº£nh báº¡n dÃ¹ng Ä‘á»ƒ huáº¥n luyá»‡n.</li><li>â Cáº¥u hÃ¬nh há»‡ thá»‘ng cá»§a báº¡n.</li><li>â‚ GiÃ¡ trá»‹ cÃ¡c tham sá»‘ thiáº¿t Ä‘á»‹nh nhÆ°: MAX_ITERATIONS.</li></ul></li><li><p>âœ¦ Khi training cÃ³ thá»ƒ báº¡n sáº½ tháº¥y cÃ¡c dÃ²ng log nhÆ°:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token number">2</span> Percent improvement time-162, best error was <span class="token number">11.087</span> @ <span class="token number">1211</span></span>
<span class="line">At iteration <span class="token number">1373</span>/1800/1800, Mean <span class="token assign-left variable">rms</span><span class="token operator">=</span><span class="token number">0.744</span>%, <span class="token assign-left variable">delta</span><span class="token operator">=</span><span class="token number">1.13</span>%, char <span class="token assign-left variable">train</span><span class="token operator">=</span><span class="token number">8.625</span>%, word <span class="token assign-left variable">train</span><span class="token operator">=</span><span class="token number">13.878</span>%, skip <span class="token assign-left variable">ratio</span><span class="token operator">=</span><span class="token number">0</span>%, New best char error <span class="token operator">=</span> <span class="token number">8.625</span> wrote best model:data/svc/checkpoints/hsd8.625_1373.checkpoint wrote checkpoint.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Giáº£i thÃ­ch: <table><thead><tr><th style="text-align:center;">ThÃ nh pháº§n</th><th style="text-align:center;">Ã nghÄ©a</th></tr></thead><tbody><tr><td style="text-align:center;">iteration 7124/8200/8200</td><td style="text-align:center;">Äang á»Ÿ vÃ²ng láº·p thá»© 7124, tá»•ng sá»‘ lÃ  8200</td></tr><tr><td style="text-align:center;">Mean rms=0.6.508%</td><td style="text-align:center;">Má»©c lá»—i trung bÃ¬nh theo kiá»ƒu root-mean-square (giÃ¡ trá»‹ cÃ ng tháº¥p cÃ ng tá»‘t, thÆ°á»ng &lt; 1% má»›i lÃ  tá»‘t)</td></tr><tr><td style="text-align:center;">delta=6.154%</td><td style="text-align:center;">Má»©c thay Ä‘á»•i gáº§n Ä‘Ã¢y nháº¥t trong lá»—i, pháº£n Ã¡nh má»©c cáº£i thiá»‡n so vá»›i checkpoint trÆ°á»›c</td></tr><tr><td style="text-align:center;">char train=228.95%</td><td style="text-align:center;">Má»©c huáº¥n luyá»‡n kÃ½ tá»±, &gt; 100% nghÄ©a lÃ  Ä‘ang bá»‹ &quot;overfitting&quot; hoáº·c dá»¯ liá»‡u chÆ°a á»•n Ä‘á»‹nh</td></tr><tr><td style="text-align:center;">word train=99.2%</td><td style="text-align:center;">Má»©c huáº¥n luyá»‡n tá»«, thÆ°á»ng ~ 100% lÃ  tá»‘t</td></tr><tr><td style="text-align:center;">skip ratio=0%</td><td style="text-align:center;">Tá»· lá»‡ áº£nh bá»‹ bá» qua vÃ¬ lá»—i. Náº¿u &gt; 0% thÃ¬ cÃ³ váº¥n Ä‘á» vá»›i dá»¯ liá»‡u (lstmf lá»—i, áº£nh sai)</td></tr><tr><td style="text-align:center;">wrote checkpoint</td><td style="text-align:center;">ÄÃ£ lÆ°u checkpoint <code>.checkpoint</code> Ä‘á»ƒ resume náº¿u cáº§n</td></tr></tbody></table></li></ul></li></ul><h3 id="_7ï¸âƒ£-su-dung-mo-hinh-vua-huan-luyen-voi-tesseract" tabindex="-1"><a class="header-anchor" href="#_7ï¸âƒ£-su-dung-mo-hinh-vua-huan-luyen-voi-tesseract"><span>7ï¸âƒ£ Sá»­ dá»¥ng mÃ´ hÃ¬nh vá»«a huáº¥n luyá»‡n vá»›i Tesseract</span></a></h3><h4 id="â¶-copy-file-traineddata-vua-train-vao-thu-muc-tessdata-cua-tesseract-ocr" tabindex="-1"><a class="header-anchor" href="#â¶-copy-file-traineddata-vua-train-vao-thu-muc-tessdata-cua-tesseract-ocr"><span>â¶ Copy file <code>.traineddata</code> vá»«a train vÃ o thÆ° má»¥c <code>tessdata</code> cá»§a <code>Tesseract-OCR</code></span></a></h4><ul><li>VÃ­ dá»¥:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">C:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>Tesseract-OCR<span class="token punctuation">\</span>tessdata<span class="token punctuation">\</span>hsd.traineddata</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="â·-su-dung-voi-tesseract-cli-bang-python" tabindex="-1"><a class="header-anchor" href="#â·-su-dung-voi-tesseract-cli-bang-python"><span>â· Sá»­ dá»¥ng vá»›i Tesseract CLI báº±ng Python</span></a></h4><ul><li><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">cmd <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    TESSERACT_CMD<span class="token punctuation">,</span></span>
<span class="line">    tmp_path<span class="token punctuation">,</span></span>
<span class="line">    out_base<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;-l&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hsd&quot;</span><span class="token punctuation">,</span> <span class="token comment"># ğŸ‘ˆ DÃ²ng nÃ y thÃªm vÃ o Ä‘á»ƒ sá»­ dá»¥ng model huáº¥n luyá»‡n má»›i (MODEL_NAME)</span></span>
<span class="line">    <span class="token string">&quot;--psm&quot;</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>psm<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> output_type <span class="token operator">==</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">:</span></span>
<span class="line">    cmd<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;tsv&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> whitelist<span class="token punctuation">:</span></span>
<span class="line">    cmd <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f&quot;tessedit_char_whitelist=</span><span class="token interpolation"><span class="token punctuation">{</span>whitelist<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> check<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> stdout<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>DEVNULL<span class="token punctuation">,</span> stderr<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>DEVNULL<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="ğŸ“-luu-y" tabindex="-1"><a class="header-anchor" href="#ğŸ“-luu-y"><span>ğŸ“ LÆ°u Ã½:</span></a></h3><ul><li><p>â¶ TrÆ°á»ng há»£p báº¡n muá»‘n tiáº¿p tá»¥c huáº¥n luyá»‡n (fine-tune tiáº¿p) do cáº§n thÃªm dá»¯ liá»‡u training (áº£nh):</p><ul><li>Chá»‰ cáº§n thÃªm áº£nh má»›i vÃ o <code>ground-truth/</code> vÃ  cháº¡y láº¡i lá»‡nh huáº¥n luyá»‡n, nÃ³ sáº½ tiáº¿p tá»¥c tá»« checkpoint cÅ©.</li></ul></li><li><p>â· TrÆ°á»ng há»£p báº¡n muá»‘n Fine-tuning láº¡i tá»« Ä‘áº§u (reset):</p><ul><li><p>âœ§ XoÃ¡ toÃ n bá»™ thÆ° má»¥c <code>data/&lt;MODEL_NAME&gt;</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> data/hsd</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>âœ§ XoÃ¡ file <code>hsd.traineddata</code> náº¿u Ä‘Ã£ sinh ra trÆ°á»›c Ä‘Ã³:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">rm</span> <span class="token parameter variable">-f</span> svc.traineddata</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>âœ§ Sau Ä‘Ã³ cháº¡y láº¡i lá»‡nh huáº¥n luyá»‡n.</p></li><li><p>âœ§ Náº¿u khÃ´ng xoÃ¡ sáº¡ch <code>data/svc/</code>, Tesseract sáº½ cá»‘ tiáº¿p tá»¥c tá»« checkpoint cÅ© (mÃ  cÃ³ thá»ƒ khÃ´ng cÃ²n há»£p lá»‡), dáº«n Ä‘áº¿n lá»—i.</p></li></ul></li></ul><h3 id="ğŸ‘€-box-file-box-va-lstm-training-file-lstmf" tabindex="-1"><a class="header-anchor" href="#ğŸ‘€-box-file-box-va-lstm-training-file-lstmf"><span>ğŸ‘€ Box file (<code>.box</code>) vÃ  LSTM training file (<code>.lstmf</code>):</span></a></h3><ul><li>Sau khi cháº¡y lá»‡nh huáº¥n luyá»‡n, cÃ¡c file tá»± Ä‘á»™ng sinh ra tá»« <code>image.tif</code> + <code>image.gt.txt</code> lÃ  file <code>.box</code> vÃ  <code>.lstm</code>.</li></ul><h4 id="â¶-box-file-box-du-lieu-nhan-label-file-Ä‘i-kem-voi-anh-tif" tabindex="-1"><a class="header-anchor" href="#â¶-box-file-box-du-lieu-nhan-label-file-Ä‘i-kem-voi-anh-tif"><span>â¶ Box file (<code>.box</code>) - dá»¯ liá»‡u nhÃ£n (label file) Ä‘i kÃ¨m vá»›i áº£nh <code>.tif</code></span></a></h4><ul><li><p>âœ¦ Má»—i dÃ²ng chá»©a kÃ½ tá»±, bounding box (tá»a Ä‘á»™), vÃ  sá»‘ trang.</p></li><li><p>âœ¦ Cáº¥u trÃºc:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;char&gt; &lt;x0&gt; &lt;y0&gt; &lt;x1&gt; &lt;y1&gt; &lt;page&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Trong Ä‘Ã³: <ul><li>âœ§ <code>char</code>: kÃ½ tá»± mÃ  bounding box nÃ y Ä‘áº¡i diá»‡n (nhÃ£n ground-truth). VÃ­ dá»¥: A, 1, @, v.v.</li><li>âœ§ <code>x0</code> vÃ  <code>y0</code>: tá»a Ä‘á»™ gÃ³c dÆ°á»›i bÃªn trÃ¡i (bottom-left) cá»§a bounding box, tÃ­nh theo pixel.</li><li>âœ§ <code>x1</code> vÃ  <code>y1</code>: tá»a Ä‘á»™ gÃ³c trÃªn bÃªn pháº£i (top-right) cá»§a bounding box. <ul><li><code>x1</code> &gt; <code>x0</code> vÃ  <code>y1</code> &gt; <code>y0</code></li></ul></li><li>âœ§ <code>page</code>: sá»‘ trang trong áº£nh gá»‘c (Ä‘a pháº§n lÃ  0, trá»« khi file <code>.tif</code> cÃ³ nhiá»u trang).</li></ul></li></ul></li><li><p>âœ¦ VÃ­ dá»¥:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">1  10 12 28 40 0</span>
<span class="line">2  35 12 53 40 0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>NghÄ©a lÃ : kÃ½ tá»± 1 náº±m trong khung (10,12) â†’ (28,40) trÃªn trang 0.</li></ul></li><li><p>âœ¦ Ã nghÄ©a: chá»‰ ra kÃ½ tá»± nÃ o náº±m á»Ÿ Ä‘Ã¢u trong áº£nh, Ä‘á»ƒ Tesseract há»c cÃ¡ch map pixel â†’ kÃ½ tá»±.</p></li></ul><h4 id="â·-lstm-training-file-lstmf" tabindex="-1"><a class="header-anchor" href="#â·-lstm-training-file-lstmf"><span>â· LSTM training file (<code>.lstmf</code>)</span></a></h4><ul><li><p>âœ¦ ÄÃ¢y má»›i lÃ  input trá»±c tiáº¿p cho vÃ²ng huáº¥n luyá»‡n.</p></li><li><p>âœ¦ Ná»™i dung : binary format (khÃ´ng Ä‘á»c tay Ä‘Æ°á»£c), chá»©a:</p><ul><li>â€ Features Ä‘Ã£ trÃ­ch xuáº¥t tá»« áº£nh (<code>image.tif</code>)</li><li>â NhÃ£n ground-truth (<code>image.gt.txt</code>).</li><li>â‚ Map unicharset - táº­p há»£p táº¥t cáº£ kÃ½ tá»± mÃ  model biáº¿t vÃ  cÃ³ thá»ƒ OCR</li></ul></li></ul><h3 id="ğŸ’¡-kinh-nghiem" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-kinh-nghiem"><span>ğŸ’¡ Kinh nghiá»‡m:</span></a></h3><ul><li><p>âœ”ï¸ TrÆ°á»ng há»£p lá»—i ngay tá»« khi vá»«a cháº¡y lá»‡nh huáº¥n luyá»‡n, nguyÃªn nhÃ¢n cÃ³ thá»ƒ Ä‘áº¿n tá»« viá»‡c file <code>.gt.txt</code> chÆ°a khá»›p vá»›i áº£nh file <code>.tif</code>.</p></li><li><p>âœ”ï¸ Sau khi cháº¡y lá»‡nh huáº¥n luyá»‡n láº§n Ä‘áº§u, cáº§n kiá»ƒm tra box file (<code>.box</code>). CÃ³ thá»ƒ cáº§n chá»‰nh tay box file náº¿u phÃ¡t hiá»‡n sai lá»‡ch:</p><ul><li>â€ Kiá»ƒm tra nhÃ£n (<code>char</code>) Ä‘Ã£ khá»›p chÆ°a.</li><li>â Äo tá»a Ä‘á»™ pixel báº±ng <code>Paint</code> app vÃ  chá»‰nh láº¡i x0 y0 x1 y1 sao cho Ã´ bao trá»n kÃ½ tá»±, khÃ´ng cáº¯t, khÃ´ng quÃ¡ rá»™ng.</li></ul></li></ul><p><a name="4"></a></p><h2 id="ğŸ“Œ-4-ban-chat-cua-viec-training-trong-tesseract" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-4-ban-chat-cua-viec-training-trong-tesseract"><span>ğŸ“Œ 4. Báº£n cháº¥t cá»§a viá»‡c training trong Tesseract</span></a></h2><h3 id="_1ï¸âƒ£-tesseract-dung-lstm-â€“-mot-loai-mang-hoc-sau" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-tesseract-dung-lstm-â€“-mot-loai-mang-hoc-sau"><span>1ï¸âƒ£ Tesseract dÃ¹ng LSTM â€“ má»™t loáº¡i máº¡ng há»c sÃ¢u</span></a></h3><ul><li><p>âœ¦ Khi training:</p><ul><li>âœ§ Báº¡n cung cáº¥p áº£nh Ä‘áº§u vÃ o (dÃ²ng text tháº­t sá»± chá»©a kÃ½ tá»± cáº§n OCR).</li><li>âœ§ Báº¡n cung cáº¥p ground truth text tÆ°Æ¡ng á»©ng (<code>.gt.txt</code>).</li></ul></li><li><p>âœ¦ Tesseract sá»­ dá»¥ng cÃ¡c data nÃ y Ä‘á»ƒ:</p><ul><li>âœ”ï¸ So sÃ¡nh áº£nh vÃ  ná»™i dung tháº­t (label).</li><li>âœ”ï¸ DÃ¹ng thuáº­t toÃ¡n há»c sÃ¢u tá»‘i Æ°u láº¡i mÃ´ hÃ¬nh, sao cho Ä‘áº§u ra tá»« áº£nh cÃ ng gáº§n label cÃ ng tá»‘t.</li><li>âœ”ï¸ Cáº­p nháº­t Ä‘á»ƒ â€œhiá»ƒuâ€ tá»‘t hÆ¡n má»‘i quan há»‡ giá»¯a hÃ¬nh dáº¡ng áº£nh vÃ  kÃ½ tá»±.</li></ul></li><li><p>ğŸ‘‰ Tesseract khÃ´ng &quot;ghi nhá»›&quot; tá»«ng áº£nh â†’ mÃ  há»c mÃ´ hÃ¬nh tá»•ng quÃ¡t (hÃ¬nh dáº¡ng sá»‘ 1 nhÃ¬n nhÆ° nÃ o, sá»± thay Ä‘á»•i ra sao váº«n lÃ  sá»‘ 1).</p><ul><li>NÃ´m na lÃ  mÃ´ hÃ¬nh há»c Ä‘Æ°á»£c &quot;báº£n cháº¥t&quot;, chá»© khÃ´ng chá»‰ nhá»› áº£nh cá»¥ thá»ƒ.</li></ul></li></ul><h3 id="_2ï¸âƒ£-can-bao-nhieu-anh-la-Ä‘u-traning" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-can-bao-nhieu-anh-la-Ä‘u-traning"><span>2ï¸âƒ£ Cáº§n bao nhiÃªu áº£nh lÃ  Ä‘á»§ traning?</span></a></h3><ul><li><p>ğŸ“„ Giáº£ sá»­ báº¡n Ä‘ang khÃ´ng Ä‘á»c Ä‘Æ°á»£c giÃ¡ trá»‹ táº¡i áº£nh sá»‘ 1 vÃ  áº£nh sá»‘ 11:</p><ul><li><p>âœ§ CÃ³ nghÄ©a náº¿u hÃ¬nh dáº¡ng sá»‘ 1 trong áº£nh sá»‘ 1 vÃ  sá»‘ 11 giá»‘ng nhau, thÃ¬ chá»‰ cáº§n 1 áº£nh Ä‘á»ƒ training lÃ  Ä‘á»§.</p></li><li><p>âœ§ NgÆ°á»£c láº¡i, náº¿u cÃ³ sá»± khÃ¡c biá»‡t vá» hÃ¬nh dáº¡ng, nÃªn cung cáº¥p nhiá»u áº£nh hÆ¡n vá» Ä‘á»™ Ä‘a dáº¡ng cá»§a sá»‘ Ä‘Ã³ Ä‘á»ƒ mÃ´ hÃ¬nh training má»›i há»c Ä‘Æ°á»£c báº£n cháº¥t cá»§a sá»‘ Ä‘Ã³.</p></li></ul></li><li><p>âš ï¸ Náº¿u báº¡n chá»‰ toÃ n training vá»›i &quot;11&quot; vÃ  chÆ°a tá»«ng tháº¥y &quot;1&quot; Ä‘á»©ng má»™t mÃ¬nh:</p><ul><li><p>CÃ³ kháº£ nÄƒng mÃ´ hÃ¬nh khÃ´ng hiá»ƒu &quot;1&quot; Ä‘á»©ng Ä‘Æ¡n láº» lÃ  má»™t kÃ½ tá»± há»£p lá»‡ (nháº¥t lÃ  khi khoáº£ng cÃ¡ch áº£nh khÃ¡c nhau).</p></li><li><p>ğŸ‘‰ NÃªn cÃ³ má»™t sá»‘ áº£nh chá»©a &quot;1&quot; Ä‘á»©ng má»™t mÃ¬nh, hoáº·c &quot;10&quot;, &quot;21&quot;, &quot;1A&quot;,... Ä‘á»ƒ mÃ´ hÃ¬nh tháº¥y &quot;1&quot; trong nhiá»u ngá»¯ cáº£nh.</p></li></ul></li></ul><h3 id="_3ï¸âƒ£-co-che-hoat-Ä‘ong-tesseract" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-co-che-hoat-Ä‘ong-tesseract"><span>3ï¸âƒ£ CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng Tesseract</span></a></h3><ul><li><p>ğŸ§  Tesseract máº·c Ä‘á»‹nh dÃ¹ng <code>eng.traineddata</code> Ä‘á»ƒ OCR áº£nh vá»›i mÃ´ hÃ¬nh tiáº¿ng Anh chuáº©n. CÃ³ thá»ƒ xem táº¡i: <code>Tesseract-OCR\tessdata\eng.traineddata</code></p></li><li><p>ğŸš€ Khi chá»‰ Ä‘á»‹nh model má»›i, Tesseract sáº½ bá» qua <code>eng</code> vÃ  chá»‰ dÃ¹ng model báº¡n Ä‘Ã£ training.</p></li></ul><h3 id="_4ï¸âƒ£-start-model-mo-hinh-goc-Ä‘e-fine-tune" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-start-model-mo-hinh-goc-Ä‘e-fine-tune"><span>4ï¸âƒ£ START_MODEL - MÃ´ hÃ¬nh gá»‘c Ä‘á»ƒ fine-tune</span></a></h3><ul><li><p>NhÆ° Ä‘Ã£ biáº¿t:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Fine-tuning = Khá»Ÿi Ä‘á»™ng tá»« 1 mÃ´ hÃ¬nh Ä‘Ã£ há»c (START_MODEL) + dá»¯ liá»‡u má»›i.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>CÃ³ thá»ƒ dÃ¹ng <code>eng.traineddata</code> Ä‘á»ƒ fine-tune luÃ´n, bá»Ÿi nÃ³ lÃ  mÃ´ hÃ¬nh máº·c Ä‘á»‹nh tiáº¿ng Anh, há»c ráº¥t tá»‘t cÃ¡c kÃ½ tá»± Latin.</p></li><li><p>âš ï¸ Tuy nhiÃªn:</p><ul><li><p><code>eng.traineddata</code> Ä‘Æ°á»£c huáº¥n luyá»‡n Ä‘á»ƒ tá»•ng quÃ¡t nhiá»u font, layout, nÃªn cÃ³ thá»ƒ hÆ¡i &quot;chung chung&quot;.</p></li><li><p>ğŸ‘‰ Náº¿u báº¡n cáº§n OCR vÄƒn báº£n kiá»ƒu chá»¯ Gothic, hay font cÃ´ng nghiá»‡p hiáº¿m, nÃªn chá»n <code>deu_latf</code>, <code>osd</code>, hoáº·c custom model khÃ¡c.</p></li></ul></li></ul><h4 id="ğŸ§-nen-fine-tune-tu-model-goc-nao" tabindex="-1"><a class="header-anchor" href="#ğŸ§-nen-fine-tune-tu-model-goc-nao"><span>ğŸ§ NÃªn fine-tune tá»« model gá»‘c nÃ o?</span></a></h4><table><thead><tr><th style="text-align:center;">TrÆ°á»ng há»£p</th><th style="text-align:center;">START_MODEL phÃ¹ há»£p</th></tr></thead><tbody><tr><td style="text-align:center;">OCR kÃ½ tá»± Ä‘Æ¡n giáº£n, rÃµ rÃ ng, tiáº¿ng Anh, sá»‘ serial, barcode</td><td style="text-align:center;">eng.traineddata</td></tr><tr><td style="text-align:center;">OCR kÃ½ tá»± dáº¡ng cá»• Ä‘iá»ƒn, hoáº·c font mÃ¡y mÃ³c cÅ©</td><td style="text-align:center;">deu_latf<br> osd</td></tr><tr><td style="text-align:center;">OCR tiáº¿ng Viá»‡t hoáº·c cÃ³ dáº¥u</td><td style="text-align:center;">vie.traineddata</td></tr></tbody></table><ul><li>Viá»‡c chá»n START_MODEL (mÃ´ hÃ¬nh gá»‘c Ä‘á»ƒ fine-tune) áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n performance cá»§a mÃ´ hÃ¬nh cuá»‘i cÃ¹ng (cáº£ vá» Ä‘á»™ chÃ­nh xÃ¡c láº«n tá»‘c Ä‘á»™ nháº­n diá»‡n):</li></ul><h4 id="â¶-anh-huong-Ä‘en-Ä‘o-chinh-xac-accuracy" tabindex="-1"><a class="header-anchor" href="#â¶-anh-huong-Ä‘en-Ä‘o-chinh-xac-accuracy"><span>â¶ áº¢nh hÆ°á»Ÿng Ä‘áº¿n Ä‘á»™ chÃ­nh xÃ¡c (Accuracy)</span></a></h4><table><thead><tr><th style="text-align:center;">START_MODEL</th><th style="text-align:center;">áº¢nh hÆ°á»Ÿng Ä‘áº¿n</th><th style="text-align:center;">Giáº£i thÃ­ch</th></tr></thead><tbody><tr><td style="text-align:center;">Gáº§n vá»›i kiá»ƒu dá»¯ liá»‡u thá»±c táº¿</td><td style="text-align:center;">âœ… TÄƒng Ä‘á»™ chÃ­nh xÃ¡c</td><td style="text-align:center;">VÃ¬ mÃ´ hÃ¬nh Ä‘Ã£ há»c gáº§n Ä‘Ãºng kiá»ƒu dá»¯ liá»‡u cáº§n OCR</td></tr><tr><td style="text-align:center;">QuÃ¡ khÃ¡c biá»‡t (VD: dÃ¹ng mÃ´ hÃ¬nh Gothic Ä‘á»ƒ OCR font cÃ´ng nghiá»‡p)</td><td style="text-align:center;">âŒ Giáº£m Ä‘á»™ chÃ­nh xÃ¡c</td><td style="text-align:center;">Model khÃ´ng nháº­n diá»‡n tá»‘t kÃ½ tá»±/font/layout mÃ  nÃ³ chÆ°a tá»«ng há»c</td></tr><tr><td style="text-align:center;">Model best (tessdata_best)</td><td style="text-align:center;">âœ… ChÃ­nh xÃ¡c, nhÆ°ng cháº­m hÆ¡n</td><td style="text-align:center;">VÃ¬ Ä‘Ã£ huáº¥n luyá»‡n sÃ¢u hÆ¡n trÃªn nhiá»u dáº¡ng kÃ½ tá»±</td></tr></tbody></table><h4 id="â·-anh-huong-Ä‘en-toc-Ä‘o-nhan-dien-speed" tabindex="-1"><a class="header-anchor" href="#â·-anh-huong-Ä‘en-toc-Ä‘o-nhan-dien-speed"><span>â· áº¢nh hÆ°á»Ÿng Ä‘áº¿n tá»‘c Ä‘á»™ nháº­n diá»‡n (Speed)</span></a></h4><ul><li>Náº¿u truy cáº­p ğŸ”— https://github.com/tesseract-ocr Ä‘á»ƒ táº£i START_MODEL, chÃºng ta sáº½ tháº¥y 2 loáº¡i: <code>tessdata_fast</code> vÃ  <code>tessdata_best</code></li></ul><table><thead><tr><th style="text-align:center;">Loáº¡i model</th><th style="text-align:center;">Tá»‘c Ä‘á»™</th><th style="text-align:center;">Ghi chÃº</th></tr></thead><tbody><tr><td style="text-align:center;">tessdata_fast</td><td style="text-align:center;">âš¡ Ráº¥t nhanh</td><td style="text-align:center;">ÄÆ°á»£c tá»‘i Æ°u cho tá»‘c Ä‘á»™, phÃ¹ há»£p vá»›i mÃ´i trÆ°á»ng real-time</td></tr><tr><td style="text-align:center;">tessdata_best</td><td style="text-align:center;">ğŸ¢ Cháº­m hÆ¡n</td><td style="text-align:center;">ChÃ­nh xÃ¡c hÆ¡n, nhÆ°ng náº·ng hÆ¡n do dÃ¹ng LSTM nhiá»u táº§ng hÆ¡n</td></tr><tr><td style="text-align:center;">Fine-tune tá»« base nháº¹ (nhÆ° tessdata_fast)</td><td style="text-align:center;">âš–ï¸ CÃ¢n báº±ng</td><td style="text-align:center;">Náº¿u training Ä‘Ãºng hÆ°á»›ng, váº«n Ä‘áº¡t accuracy tá»‘t mÃ  khÃ´ng bá»‹ cháº­m</td></tr></tbody></table><h4 id="â¸-anh-huong-Ä‘en-kha-nang-generalization-kha-nang-mo-hinh-hoc-tot-du-lieu-moi" tabindex="-1"><a class="header-anchor" href="#â¸-anh-huong-Ä‘en-kha-nang-generalization-kha-nang-mo-hinh-hoc-tot-du-lieu-moi"><span>â¸ áº¢nh hÆ°á»Ÿng Ä‘áº¿n kháº£ nÄƒng generalization (kháº£ nÄƒng mÃ´ hÃ¬nh há»c tá»‘t dá»¯ liá»‡u má»›i)</span></a></h4><ul><li><p>âœ¦ START_MODEL tá»•ng quÃ¡t (multi-font, nhiá»u kÃ½ tá»±) â†’ há»c cháº­m hÆ¡n, cáº§n nhiá»u áº£nh Ä‘á»ƒ fine-tune triá»‡t Ä‘á»ƒ.</p></li><li><p>âœ¦ START_MODEL chuyÃªn biá»‡t (VD: eng Ä‘Ã£ há»c font tÆ°Æ¡ng tá»± áº£nh báº¡n) â†’ dá»… fine-tune, nhanh converge.</p></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-Bnxn8RC5.js" defer></script>
  </body>
</html>
