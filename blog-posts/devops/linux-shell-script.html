<!doctype html>
<html lang="vi-VN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/vuepress-blog/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,500,600,700&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><title>Linux - Shell Script | Kiến Thức Từ Trải Nghiệm</title><meta name="description" content="Một blog được tạo bằng VuePress">
    <link rel="preload" href="/vuepress-blog/assets/style-B1g75gDY.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-B1g75gDY.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-wzLy2rS-.js"><link rel="modulepreload" href="/vuepress-blog/assets/linux-shell-script.html-D-weMyj1.js">
    <link rel="prefetch" href="/vuepress-blog/assets/index.html-DK1Dc7yJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-CY96D3hw.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7lpy93z1.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-fkssykwS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-CG0IeHnF.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/fastapi-base-project.html-BoUVPngJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/mov-to-mp4-converter.html-BPBQUgB2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-accuracy-perfomance.html-Rx-Vynjw.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-cache-tesseract.html-B8kH-vR7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-gioi-thieu-tesseract.html-4UE1SHzT.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-practical.html-DUhEZiUP.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-template-matching.html-Dhb1WS9s.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tong-quan.html-CeapAUgI.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-training-tesseract.html-3LssXqcG.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-advanced.html-DQuWVmZz.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-beginner.html-DvUp2ZBK.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-expert.html-fFCJq472.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/oracle-plsql-intermediate.html-DAlFN3vd.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-advanced.html-CjrsJmcS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/redis-basic.html-CQSpop-Q.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-cloud-computing.html-HJgrpIwm.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-database.html--Uwj4Gsj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-ec2.html-ByRdeycH.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-gioi-thieu-aws.html-BqVw2Lhs.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-iam.html-b672yUWx.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-monitoring.html-DDI5MUeX.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-networking.html-BOojF4OS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-storage.html-CpdHuZvE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jenkins.html-CsgTTD45.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-beginner.html-CDS62YXf.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/linux-intermediate.html-CbVYrh1r.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/aws-training-saa-series.html-Dyb9UIuX.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ocr-tesseract-series.html-CF6zJV_E.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/plsql-training-series.html-BwQre8dl.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git-practices.html-Bns8xdLk.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-Dz_J17ym.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-jQosT5_k.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-BH3dBn8O.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-BLZLaB9J.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/setupDevtools-7MC2TMWH-Dbgd51nz.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-blog/"><img class="vp-site-logo" src="/vuepress-blog/images/logo.png" alt="Kiến Thức Từ Trải Nghiệm"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Kiến Thức Từ Trải Nghiệm</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/devops/linux-shell-script.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="Trang Chủ"><!---->Trang Chủ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/project/" aria-label="Dự Án"><!---->Dự Án<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/blog/" aria-label="Blog"><!---->Blog<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/about/" aria-label="Về Tôi"><!---->Về Tôi<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Ngôn Ngữ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/blog-posts/devops/linux-shell-script.html" aria-label="Tiếng Việt"><!---->Tiếng Việt<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/en/" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="shell-script" tabindex="-1"><a class="header-anchor" href="#shell-script"><span>Shell Script</span></a></h1><p>Shell Script giúp bạn tự động hóa các thao tác trên Linux thay vì nhập từng lệnh thủ công.</p><p><a href="#1">1. Shell Script là gì?</a></p><p><a href="#2">2. Trình soạn thảo nano</a></p><p><a href="#3">3. Biến trong Shell Script</a></p><p><a href="#4">4. Thực hiện các phép tính trong Shell Bash</a></p><p><a href="#5">5. Cấu trúc điều kiện</a></p><p><a href="#6">6. Cấu trúc vòng lặp</a></p><p><a href="#7">7. Mảng trong Shell Script</a></p><p><a href="#8">8. Hàm trong Shell Script</a></p><p><a href="#9">9. Debug trong Shell Script</a></p><p><a name="1"></a></p><h2 id="📌-1-shell-script-la-gi" tabindex="-1"><a class="header-anchor" href="#📌-1-shell-script-la-gi"><span>📌 1. Shell Script là gì?</span></a></h2><p>Là một tập hợp các lệnh Linux được viết trong một file script (đuôi .sh) và có thể thực thi như một chương trình.</p><h3 id="🔹-vi-du-đon-gian" tabindex="-1"><a class="header-anchor" href="#🔹-vi-du-đon-gian"><span>🔹 Ví dụ đơn giản:</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash # Đánh dấu việc sử dụng bash để thực thi</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello, Linux!&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-cach-chay-script" tabindex="-1"><a class="header-anchor" href="#🔹-cach-chay-script"><span>🔹 Cách chạy script:</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> +x script.sh  <span class="token comment"># Cấp quyền thực thi</span></span>
<span class="line">./script.sh         <span class="token comment"># Chạy script</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-luu-y" tabindex="-1"><a class="header-anchor" href="#🔹-luu-y"><span>🔹 Lưu ý:</span></a></h3><ul><li><p>Mỗi dòng lệnh được viết trên một dòng riêng.</p></li><li><p>Bắt đầu script bằng dòng shebang <em>#!/bin/bash</em> để chỉ định shell mà script sẽ sử dụng (trường hợp này là bash).</p></li><li><p>Kết thúc mỗi dòng lệnh bằng dấu chấm phẩy hoặc không cần dấu chấm phẩy nếu mỗi lệnh đươc viết trên một dòng.</p></li></ul><p><a name="2"></a></p><h2 id="📌-2-trinh-soan-thao-nano" tabindex="-1"><a class="header-anchor" href="#📌-2-trinh-soan-thao-nano"><span>📌 2. Trình soạn thảo nano</span></a></h2><p>Khi viết Shell Script, cần một trình soạn thảo để chỉnh sửa nội dung file .sh.</p><p>Trình soạn thảo nano là một trong những lựa chọn phổ biến:</p><ul><li>Dễ sử dụng hơn so với Vim.</li><li>Hỗ trợ cú pháp đơn giản &amp; gợi ý lệnh.</li><li>Tạo và chỉnh sửa nhanh chóng.</li><li>Phù hợp với người mới bắt đầu làm quen với Shell Script.</li></ul><p>Để mở file trong trình soạn thảo nano:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">nano</span> myscript.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Dưới đây là một số thao tác cơ bản khi sử dụng trình soạn thảo nano:</p><h3 id="🔹-đieu-huong-trong-nano" tabindex="-1"><a class="header-anchor" href="#🔹-đieu-huong-trong-nano"><span>🔹 Điều hướng trong nano</span></a></h3><table><thead><tr><th style="text-align:center;">Action</th><th style="text-align:center;">Lệnh</th></tr></thead><tbody><tr><td style="text-align:center;">Di chuyển con trỏ</td><td style="text-align:center;">Dùng phím mũi tên</td></tr><tr><td style="text-align:center;">Nhảy đến dòng cụ thể</td><td style="text-align:center;">Ctrl + _, nhập số dòng, nhấn Enter</td></tr><tr><td style="text-align:center;">Tìm kiếm từ khóa</td><td style="text-align:center;">Ctrl + W, nhập từ khóa, nhấn Enter</td></tr><tr><td style="text-align:center;">Tìm kiếm tiếp theo</td><td style="text-align:center;">Ctrl + W rồi nhấn Enter lần nữa</td></tr></tbody></table><h3 id="🔹-chinh-sua-va-luu-file" tabindex="-1"><a class="header-anchor" href="#🔹-chinh-sua-va-luu-file"><span>🔹 Chỉnh sửa và lưu file</span></a></h3><table><thead><tr><th style="text-align:center;">Action</th><th style="text-align:center;">Lệnh</th></tr></thead><tbody><tr><td style="text-align:center;">Xóa dòng hiện tại</td><td style="text-align:center;">Ctrl + K</td></tr><tr><td style="text-align:center;">Sao chép dòng</td><td style="text-align:center;">Alt + 6 (đánh dấu), Ctrl + K (cắt), Ctrl + U (dán)</td></tr><tr><td style="text-align:center;">Lưu file</td><td style="text-align:center;">Ctrl + O, nhấn Enter</td></tr><tr><td style="text-align:center;">Thoát nano</td><td style="text-align:center;">Ctrl + X, nếu có thay đổi, chọn Y để lưu hoặc N để bỏ</td></tr></tbody></table><h3 id="🔹-mot-so-phim-tat-huu-ich" tabindex="-1"><a class="header-anchor" href="#🔹-mot-so-phim-tat-huu-ich"><span>🔹 Một số phím tắt hữu ích</span></a></h3><table><thead><tr><th style="text-align:center;">Action</th><th style="text-align:center;">Lệnh</th></tr></thead><tbody><tr><td style="text-align:center;">Bật/tắt đánh số dòng</td><td style="text-align:center;">Alt + Shift + #</td></tr><tr><td style="text-align:center;">Hoàn tác</td><td style="text-align:center;">Alt + U</td></tr><tr><td style="text-align:center;">Làm lại (Redo)</td><td style="text-align:center;">Alt + E</td></tr></tbody></table><p><a name="3"></a></p><h2 id="📌-3-bien-trong-shell-script" tabindex="-1"><a class="header-anchor" href="#📌-3-bien-trong-shell-script"><span>📌 3. Biến trong Shell Script</span></a></h2><p>Shell hỗ trợ biến hệ thống và biến do người dùng định nghĩa.</p><h3 id="🔹-bien-he-thong-co-san" tabindex="-1"><a class="header-anchor" href="#🔹-bien-he-thong-co-san"><span>🔹 Biến hệ thống (có sẵn)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;User hiện tại: <span class="token environment constant">$USER</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Thư mục HOME: <span class="token environment constant">$HOME</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell đang dùng: <span class="token environment constant">$SHELL</span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-bien-tu-đinh-nghia" tabindex="-1"><a class="header-anchor" href="#🔹-bien-tu-đinh-nghia"><span>🔹 Biến tự định nghĩa</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;Linux&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Chào mừng bạn đến với <span class="token variable">$name</span>!&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-mot-so-quy-đinh-ve-ten-bien" tabindex="-1"><a class="header-anchor" href="#🔹-mot-so-quy-đinh-ve-ten-bien"><span>🔹 Một số quy định về tên biến</span></a></h3><ul><li><p>Bắt đầu bằng ký tự hoặc dấu gạch chân (_)</p></li><li><p>Không được có khoảng trắng</p></li><li><p>Biến có phân biệt chữ hoa chữ thường</p></li><li><p>Có thể khai báo một biến có giá trị NULL như sau:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">var1</span><span class="token operator">=</span></span>
<span class="line"><span class="token comment"># hoặc</span></span>
<span class="line"><span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Không dùng ?, * để đặt tên biến</p></li></ul><p><a name="4"></a></p><h2 id="📌-4-thuc-hien-cac-phep-tinh-trong-shell-bash" tabindex="-1"><a class="header-anchor" href="#📌-4-thuc-hien-cac-phep-tinh-trong-shell-bash"><span>📌 4. Thực hiện các phép tính trong Shell Bash</span></a></h2><p>Bash không hỗ trợ trực tiếp toán học như các ngôn ngữ lập trình khác, nhưng có nhiều cách để thực hiện các phép tính.</p><h3 id="🔹-su-dung-expr-phep-toan-co-ban" tabindex="-1"><a class="header-anchor" href="#🔹-su-dung-expr-phep-toan-co-ban"><span>🔹 Sử dụng expr (Phép toán cơ bản)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">5</span></span>
<span class="line"><span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a + $b<span class="token variable">)</span></span>    <span class="token comment"># Cộng</span></span>
<span class="line"><span class="token assign-left variable">diff</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a - $b<span class="token variable">)</span></span>   <span class="token comment"># Trừ</span></span>
<span class="line"><span class="token assign-left variable">prod</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">)</span></span>  <span class="token comment"># Nhân (* phải có \ do là ký tự đặc biệt trong shell)</span></span>
<span class="line"><span class="token assign-left variable">quot</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a / $b<span class="token variable">)</span></span>   <span class="token comment"># Chia (chỉ lấy phần nguyên)</span></span>
<span class="line"><span class="token assign-left variable">mod</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a % $b<span class="token variable">)</span></span>    <span class="token comment"># Lấy dư</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-su-dung-let-tuong-tu-expr-nhung-gon-hon" tabindex="-1"><a class="header-anchor" href="#🔹-su-dung-let-tuong-tu-expr-nhung-gon-hon"><span>🔹 Sử dụng let (Tương tự expr nhưng gọn hơn)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">3</span></span>
<span class="line"><span class="token builtin class-name">let</span> <span class="token string">&quot;a += b&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a sau khi cộng: <span class="token variable">$a</span>&quot;</span>  <span class="token comment"># 13</span></span>
<span class="line"><span class="token comment"># cách viết khác</span></span>
<span class="line"><span class="token builtin class-name">let</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>+3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-su-dung-cach-tot-nhat" tabindex="-1"><a class="header-anchor" href="#🔹-su-dung-cach-tot-nhat"><span>🔹 Sử dụng $(( )) (Cách tốt nhất)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">3</span></span>
<span class="line"><span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">+</span> b<span class="token variable">))</span></span></span>
<span class="line"><span class="token assign-left variable">diff</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">-</span> b<span class="token variable">))</span></span></span>
<span class="line"><span class="token assign-left variable">prod</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">*</span> b<span class="token variable">))</span></span></span>
<span class="line"><span class="token assign-left variable">quot</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">/</span> b<span class="token variable">))</span></span>  <span class="token comment"># Lấy phần nguyên</span></span>
<span class="line"><span class="token assign-left variable">mod</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">%</span> b<span class="token variable">))</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-su-dung-bc-tinh-toan-so-thuc" tabindex="-1"><a class="header-anchor" href="#🔹-su-dung-bc-tinh-toan-so-thuc"><span>🔹 Sử dụng bc (Tính toán số thực)</span></a></h3><p>Do expr, $(( )) chỉ hỗ trợ số nguyên, sử dụng bc để tính toán số thực như sau:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;scale=2; 5 / 3&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>  <span class="token comment"># 1.66</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><a name="5"></a></p><h2 id="📌-5-cau-truc-đieu-kien" tabindex="-1"><a class="header-anchor" href="#📌-5-cau-truc-đieu-kien"><span>📌 5. Cấu trúc điều kiện</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Nhập số:&quot;</span></span>
<span class="line"><span class="token builtin class-name">read</span> num</span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-gt</span> <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Số lớn hơn 10&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Số nhỏ hơn hoặc bằng 10&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>🔥 Một số toán tử kiểm tra:</p><table><thead><tr><th style="text-align:center;">Toán tử</th><th style="text-align:center;">Ý nghĩa</th></tr></thead><tbody><tr><td style="text-align:center;">-eq</td><td style="text-align:center;">Bằng</td></tr><tr><td style="text-align:center;">-ne</td><td style="text-align:center;">Khác</td></tr><tr><td style="text-align:center;">-gt</td><td style="text-align:center;">Lớn hơn</td></tr><tr><td style="text-align:center;">-lt</td><td style="text-align:center;">Nhỏ hơn</td></tr><tr><td style="text-align:center;">-ge</td><td style="text-align:center;">Lớn hơn hoặc bằng</td></tr><tr><td style="text-align:center;">-le</td><td style="text-align:center;">Nhỏ hơn hoặc bằng</td></tr><tr><td style="text-align:center;">= hoặc ==</td><td style="text-align:center;">So sánh bằng nhưng dùng cho chuỗi</td></tr><tr><td style="text-align:center;">!=</td><td style="text-align:center;">So sánh khác nhưng dùng cho chuỗi</td></tr></tbody></table><p><a name="6"></a></p><h2 id="📌-6-cau-truc-vong-lap" tabindex="-1"><a class="header-anchor" href="#📌-6-cau-truc-vong-lap"><span>📌 6. Cấu trúc vòng lặp</span></a></h2><h3 id="🔹-vong-lap-for" tabindex="-1"><a class="header-anchor" href="#🔹-vong-lap-for"><span>🔹 Vòng lặp for</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Số: <span class="token variable">$i</span>&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-vong-lap-while" tabindex="-1"><a class="header-anchor" href="#🔹-vong-lap-while"><span>🔹 Vòng lặp while</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$count</span> <span class="token parameter variable">-le</span> <span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Lần <span class="token variable">$count</span>&quot;</span></span>
<span class="line">    <span class="token variable"><span class="token punctuation">((</span>count<span class="token operator">++</span><span class="token punctuation">))</span></span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="7"></a></p><h2 id="📌-7-mang-trong-shell-script" tabindex="-1"><a class="header-anchor" href="#📌-7-mang-trong-shell-script"><span>📌 7. Mảng trong Shell Script</span></a></h2><p>Bash hỗ trợ mảng chỉ số (indexed array) và mảng kết hợp (associative array).</p><h3 id="🔹-mang-chi-so-indexed-array" tabindex="-1"><a class="header-anchor" href="#🔹-mang-chi-so-indexed-array"><span>🔹 Mảng chỉ số (Indexed Array)</span></a></h3><ul><li><p>Khai báo mảng:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Khởi tạo mảng</span></span>
<span class="line"><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token number">20</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Cách khác</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">20</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">30</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">40</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;Hello&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Truy cập phần tử trong mảng:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Lấy giá trị của một phần tử (chỉ số bắt đầu từ 0)</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Lấy toàn bộ giá trị của mảng</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10 20 30 40 Hello</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10 20 30 40 Hello</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Lấy số lượng phần tử trong mảng</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 5</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Lấy danh sách chỉ mục (index) của mảng</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 0 1 2 3 4</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Duyệt mảng:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Duyệt mảng bằng for</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$item</span>&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Duyệt mảng bằng chỉ mục (for và seq)</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Phần tử <span class="token variable">$i</span>: <span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Thêm, sửa, xóa phần tử trong mảng:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Thêm phần tử vào mảng</span></span>
<span class="line"><span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token number">50</span> <span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># Thêm nhiều phần tử</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10 20 30 40 Hello 50 60</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Cập nhật giá trị</span></span>
<span class="line">arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">100</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10 100 30 40 Hello</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Xóa phần tử khỏi mảng</span></span>
<span class="line"><span class="token builtin class-name">unset</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># 10 100 40 Hello</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Xóa toàn bộ mảng</span></span>
<span class="line"><span class="token builtin class-name">unset</span> arr</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># Không còn phần tử nào</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="🔹-mang-ket-hop-associative-array" tabindex="-1"><a class="header-anchor" href="#🔹-mang-ket-hop-associative-array"><span>🔹 Mảng kết hợp (Associative Array)</span></a></h3><p>Chỉ hỗ trợ trong Bash 4.0+</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> user</span>
<span class="line">user<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;John&quot;</span></span>
<span class="line">user<span class="token punctuation">[</span>age<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">25</span></span>
<span class="line">user<span class="token punctuation">[</span>email<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;john@example.com&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Tên: <span class="token variable">${user<span class="token punctuation">[</span>name<span class="token punctuation">]</span>}</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Tuổi: <span class="token variable">${user<span class="token punctuation">[</span>age<span class="token punctuation">]</span>}</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Email: <span class="token variable">${user<span class="token punctuation">[</span>email<span class="token punctuation">]</span>}</span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Để duyệt mảng kết hợp:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">key</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>user<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$key</span>: <span class="token variable">${user<span class="token punctuation">[</span>$key<span class="token punctuation">]</span>}</span>&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="8"></a></p><h2 id="📌-8-ham-trong-shell-script" tabindex="-1"><a class="header-anchor" href="#📌-8-ham-trong-shell-script"><span>📌 8. Hàm trong Shell Script</span></a></h2><p>Shell Script cũng hỗ trợ hàm để tái sử dụng code.</p><h3 id="🔹-khai-bao-goi-ham" tabindex="-1"><a class="header-anchor" href="#🔹-khai-bao-goi-ham"><span>🔹 Khai báo &amp; gọi hàm</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Khai báo hàm</span></span>
<span class="line"><span class="token function-name function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Xin chào, <span class="token variable">$1</span>!&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Gọi hàm</span></span>
<span class="line">hello <span class="token string">&quot;Linux&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-ham-tra-ve-gia-tri" tabindex="-1"><a class="header-anchor" href="#🔹-ham-tra-ve-gia-tri"><span>🔹 Hàm trả về giá trị</span></a></h3><ul><li><p><strong>Cách 1:</strong> Trả về giá trị bằng return</p><ul><li>return chỉ trả về mã trạng thái (exit code), thường dùng để kiểm tra thành công/thất bại.</li><li>Số trả về nằm trong khoảng 0-255.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function-name function">check_even</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">local</span> <span class="token assign-left variable">num</span><span class="token operator">=</span><span class="token variable">$1</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">return</span> <span class="token number">0</span>  <span class="token comment"># Thành công</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">        <span class="token builtin class-name">return</span> <span class="token number">1</span>  <span class="token comment"># Thất bại</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">check_even <span class="token number">10</span></span>
<span class="line"><span class="token comment"># Dùng $? lấy giá trị return của hàm</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;10 là số chẵn&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;10 là số lẻ&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Cách 2:</strong> Trả về giá trị bằng echo</p><ul><li>Dùng echo để trả về chuỗi, số nguyên, mảng, hoặc bất kỳ dữ liệu nào.</li><li>Kết hợp với $(...) để lấy giá trị trả về.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function-name function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin class-name">local</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">$1</span></span>
<span class="line">  <span class="token builtin class-name">local</span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token variable">$2</span></span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span>a <span class="token operator">+</span> b<span class="token variable">))</span></span>  <span class="token comment"># In kết quả ra màn hình</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">sum</span> <span class="token number">10</span> <span class="token number">20</span><span class="token variable">)</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Tổng là: <span class="token variable">$result</span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><a name="9"></a></p><h2 id="📌-9-debug-trong-shell-script" tabindex="-1"><a class="header-anchor" href="#📌-9-debug-trong-shell-script"><span>📌 9. Debug trong Shell Script</span></a></h2><h3 id="🔹-chay-script-o-che-đo-debug-x" tabindex="-1"><a class="header-anchor" href="#🔹-chay-script-o-che-đo-debug-x"><span>🔹 Chạy script ở chế độ debug (-x)</span></a></h3><p>Sử dụng bash -x script.sh hoặc thêm dòng set -x vào script để hiển thị từng lệnh được thực thi.</p><ul><li><p>Ví dụ 1: Chạy script với -x</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">bash</span> <span class="token parameter variable">-x</span> script.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>📝 Kết quả: Hiển thị từng lệnh trước khi thực thi, giúp dễ dàng kiểm tra lỗi.</p></li><li><p>Ví dụ 2: Thêm set -x vào script</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">set</span> <span class="token parameter variable">-x</span>  <span class="token comment"># Bật debug mode</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Bắt đầu script&quot;</span></span>
<span class="line"><span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token number">5</span></span>
<span class="line"><span class="token assign-left variable">y</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>x <span class="token operator">+</span> y<span class="token variable">))</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Tổng: <span class="token variable">$sum</span>&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">set</span> +x  <span class="token comment"># Tắt debug mode</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Script hoàn thành!&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>📝 Kết quả:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">+ <span class="token builtin class-name">echo</span> <span class="token string">&#39;Bắt đầu script&#39;</span></span>
<span class="line">Bắt đầu script</span>
<span class="line">+ <span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token number">5</span></span>
<span class="line">+ <span class="token assign-left variable">y</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line">+ <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">15</span></span>
<span class="line">+ <span class="token builtin class-name">echo</span> <span class="token string">&#39;Tổng: 15&#39;</span></span>
<span class="line">Tổng: <span class="token number">15</span></span>
<span class="line">+ <span class="token builtin class-name">set</span> +x</span>
<span class="line">Script hoàn thành<span class="token operator">!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="🔹-debug-tung-dong-bang-echo" tabindex="-1"><a class="header-anchor" href="#🔹-debug-tung-dong-bang-echo"><span>🔹 Debug từng dòng bằng echo</span></a></h3><p>Thêm echo để kiểm tra giá trị biến tại từng bước</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Script bắt đầu&quot;</span></span>
<span class="line"><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">&quot;Linux&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Giá trị của var: <span class="token variable">$var</span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="🔹-kiem-tra-loi-cu-phap-n" tabindex="-1"><a class="header-anchor" href="#🔹-kiem-tra-loi-cu-phap-n"><span>🔹 Kiểm tra lỗi cú pháp (-n)</span></a></h3><p>Dùng bash -n script.sh để kiểm tra lỗi cú pháp mà không chạy script.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">bash</span> <span class="token parameter variable">-n</span> script.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>📝 Kết quả: Nếu có lỗi cú pháp, bash sẽ báo lỗi ngay.</p><h3 id="🔹-hien-thi-loi-chi-tiet-v" tabindex="-1"><a class="header-anchor" href="#🔹-hien-thi-loi-chi-tiet-v"><span>🔹 Hiển thị lỗi chi tiết (-v)</span></a></h3><p>Dùng bash -v script.sh để hiển thị từng dòng lệnh trước khi thực thi.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">bash</span> <span class="token parameter variable">-v</span> script.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="🔹-bat-loi-runtime-set-e-set-u" tabindex="-1"><a class="header-anchor" href="#🔹-bat-loi-runtime-set-e-set-u"><span>🔹 Bắt lỗi runtime (set -e, set -u)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>  <span class="token comment"># Dừng khi gặp lỗi</span></span>
<span class="line"><span class="token builtin class-name">set</span> <span class="token parameter variable">-u</span>  <span class="token comment"># Báo lỗi khi dùng biến chưa khai báo</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Chạy lệnh...&quot;</span></span>
<span class="line"><span class="token function">ls</span> /khong_ton_tai   <span class="token comment"># Lệnh này sẽ gây lỗi và dừng script</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;Dòng này sẽ không chạy&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>📝 Kết quả:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Chạy lệnh<span class="token punctuation">..</span>.</span>
<span class="line">ls: cannot access <span class="token string">&#39;/khong_ton_tai&#39;</span><span class="token builtin class-name">:</span> No such <span class="token function">file</span> or directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Lệnh echo &quot;Dòng này sẽ không chạy&quot; không được thực thi do set -e.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-wzLy2rS-.js" defer></script>
  </body>
</html>
