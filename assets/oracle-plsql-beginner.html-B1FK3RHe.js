import{_ as s,c as a,d as e,o as t}from"./app-BUdGD3uz.js";const l="/vuepress-blog/assets/oracle-plsql-kien-truc-DgbdZl4E.png",i={};function p(c,n){return t(),a("div",null,n[0]||(n[0]=[e('<h1 id="lam-quen-voi-pl-sql" tabindex="-1"><a class="header-anchor" href="#lam-quen-voi-pl-sql"><span>L√†m quen v·ªõi PL/SQL</span></a></h1><p><a href="#1">1. Gi·ªõi thi·ªáu v·ªÅ PL/SQL</a></p><p><a href="#2">2. C√∫ ph√°p c∆° b·∫£n trong PL/SQL</a></p><p><a href="#3">3. C·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn</a></p><p><a href="#4">4. X·ª≠ l√Ω ngo·∫°i l·ªá</a></p><p><a name="1"></a></p><h2 id="üìå-1-gioi-thieu-ve-pl-sql" tabindex="-1"><a class="header-anchor" href="#üìå-1-gioi-thieu-ve-pl-sql"><span>üìå 1. Gi·ªõi thi·ªáu v·ªÅ PL/SQL</span></a></h2><h3 id="üîπ-pl-sql-la-gi" tabindex="-1"><a class="header-anchor" href="#üîπ-pl-sql-la-gi"><span>üîπ PL/SQL l√† g√¨?</span></a></h3><ul><li><p>SQL th√¨ kh√¥ng l·∫° l·∫´m g√¨, l√† vi·∫øt t·∫Øt c·ªßa Structural Query Language (ng√¥n ng·ªØ truy v·∫•n c√≥ c·∫•u tr√∫c). V·∫≠y PL trong PL/SQL l√† g√¨?</p></li><li><p>PL ·ªü ƒë√¢y l√† Procedural Language extensions (ph·∫ßn m·ªü r·ªông ng√¥n ng·ªØ th·ªß t·ª•c).</p></li><li><p>PL/SQL (Procedural Language/SQL) l√† m·ªôt ph·∫ßn m·ªü r·ªông c·ªßa SQL do Oracle ph√°t tri·ªÉn, gi√∫p vi·∫øt c√°c ch∆∞∆°ng tr√¨nh ƒëi·ªÅu khi·ªÉn logic, x·ª≠ l√Ω d·ªØ li·ªáu m·ªôt c√°ch m·∫°nh m·∫Ω trong Oracle Database.</p></li><li><p>PL/SQL l√† m·ªôt ng√¥n ng·ªØ b·∫≠c cao, c√≥ th·ªÉ xem n√≥ nh∆∞ l√† m·ªôt ng√¥n ng·ªØ l·∫≠p tr√¨nh:</p><ul><li>Cho ph√©p khai b√°o h·∫±ng s·ªë v√† bi·∫øn, th·ªß t·ª•c v√† c√°c h√†m, ki·ªÉu d·ªØ li·ªáu v√† bi·∫øn c·ªßa c√°c ki·ªÉu d·ªØ li·ªáu, ƒëi·ªÅu ki·ªán, v√≤ng l·∫∑p, v√† c√°c trigger.</li><li>C√≥ th·ªÉ s·ª≠ l√Ω c√°c ngo·∫°i l·ªá (l·ªói t·∫°i th·ªùi gian ch·∫°y).</li><li>M·∫£ng c≈©ng ƒë∆∞·ª£c h·ªó tr·ª£ n√¢ng c·∫•p ƒë·ªÉ s·ª≠ d·ª•ng cho c√°c t·∫≠p h·ª£p trong PL/SQL.</li></ul></li></ul><h3 id="üîπ-luu-y-ve-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-luu-y-ve-pl-sql"><span>üîπ L∆∞u √Ω v·ªÅ PL/SQL</span></a></h3><ul><li><p>PL/SQL l√† ng√¥n ng·ªØ nh√∫ng, kh√¥ng th·ªÉ ho·∫°t ƒë·ªông ƒë·ªôc l·∫≠p. B·∫£n th√¢n n√≥ ch·ªâ c√≥ th·ªÉ th·ª±c thi trong h·ªá c∆° s·ªü d·ªØ li·ªáu Oracle. Do v·∫≠y, ƒë·ª´ng nh·∫ßm l·∫´n n√≥ v·ªõi c√°c ng√¥n ng·ªØ l·∫≠p tr√¨nh kh√°c nh∆∞ Java, C++.</p></li><li><p>So s√°nh PL/SQL v·ªõi SQL thu·∫ßn:</p><table><thead><tr><th style="text-align:center;">SQL (thu·∫ßn)</th><th style="text-align:center;">SQL (thu·∫ßn)</th></tr></thead><tbody><tr><td style="text-align:center;">Ch·ªâ c√≥ th·ªÉ th·ª±c hi·ªán c√°c c√¢u l·ªánh ƒë∆°n nh∆∞ SELECT, INSERT, UPDATE, DELETE</td><td style="text-align:center;">C√≥ th·ªÉ vi·∫øt ch∆∞∆°ng tr√¨nh v·ªõi logic ph·ª©c t·∫°p: v√≤ng l·∫∑p, ƒëi·ªÅu ki·ªán, x·ª≠ l√Ω ngo·∫°i l·ªá</td></tr><tr><td style="text-align:center;">Kh√¥ng h·ªó tr·ª£ bi·∫øn</td><td style="text-align:center;">H·ªó tr·ª£ khai b√°o v√† s·ª≠ d·ª•ng bi·∫øn</td></tr><tr><td style="text-align:center;">Ch·∫°y t·ª´ng c√¢u l·ªánh SQL ri√™ng l·∫ª</td><td style="text-align:center;">C√≥ th·ªÉ ch·∫°y nhi·ªÅu c√¢u SQL c√πng m·ªôt l√∫c trong m·ªôt ch∆∞∆°ng tr√¨nh</td></tr><tr><td style="text-align:center;">Kh√¥ng h·ªó tr·ª£ x·ª≠ l√Ω ngo·∫°i l·ªá</td><td style="text-align:center;">C√≥ c∆° ch·∫ø x·ª≠ l√Ω ngo·∫°i l·ªá m·∫°nh m·∫Ω</td></tr></tbody></table></li></ul><h3 id="üîπ-kien-truc-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-kien-truc-pl-sql"><span>üîπ Ki·∫øn tr√∫c PL/SQL</span></a></h3><p>PL/SQL s·∫Ω ch·ªãu tr√°ch nhi·ªám bi√™n d·ªãch code ch√∫ng ta vi·∫øt th√†nh byte-code.</p><p>M·ªôt ƒëo·∫°n code t·ª´ PL/SQL block ƒë∆∞·ª£c g·ª≠i t·ªõi PL/SQL Engine, ƒëo·∫°n code s·∫Ω ƒë∆∞·ª£c bi√™n d·ªãch v√† th·ª±c thi ·ªü Oracle Database Server.</p><p><img src="'+l+`" alt="Ki·∫øn tr√∫c PL/SQL"></p><h3 id="üîπ-uu-nhuoc-ƒëiem-cua-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-uu-nhuoc-ƒëiem-cua-pl-sql"><span>üîπ ∆Øu nh∆∞·ª£c ƒëi·ªÉm c·ªßa PL/SQL</span></a></h3><ul><li><p>∆Øu ƒëi·ªÉm:</p><p>‚úîÔ∏è T√πy v√†o tr∆∞·ªùng h·ª£p c·ª• th·ªÉ, PL/SQL ƒëem l·∫°i m·ªôt hi·ªáu su·∫•t t·ªët h∆°n</p><p>‚úîÔ∏è PL/SQL h·ªó tr·ª£ OOP (h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng), cho ph√©p k·∫ø th·ª´a, v.v.</p><p>‚úîÔ∏è PL/SQL h·ªó tr·ª£ nhi·ªÅu c√¥ng c·ª• ph√°t tri·ªÉn Web (Web application)</p></li><li><p>Nh∆∞·ª£c ƒëi·ªÉm:</p><p>‚ùå Kh√¥ng c√≥ t√≠nh nƒÉng debug, ph·∫£i debug b·∫±ng m·∫Øt ch·ª© PL/SQL kh√¥ng h·ªó tr·ª£</p></li></ul><h3 id="üîπ-thanh-phan-trong-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-thanh-phan-trong-pl-sql"><span>üîπ Th√†nh ph·∫ßn trong PL/SQL</span></a></h3><ul><li><strong>Anonymous Block (Kh·ªëi ·∫©n danh)</strong>: M·ªôt ƒëo·∫°n m√£ PL/SQL kh√¥ng c√≥ t√™n, ch·ªâ th·ª±c thi m·ªôt l·∫ßn v√† kh√¥ng ƒë∆∞·ª£c l∆∞u trong database.</li><li><strong>Stored Procedure (Th·ªß t·ª•c l∆∞u tr·ªØ)</strong>: M·ªôt nh√≥m c√¢u l·ªánh SQL v√† PL/SQL ƒë∆∞·ª£c l∆∞u trong database v√† c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi l·∫°i nhi·ªÅu l·∫ßn.</li><li><strong>Function (H√†m)</strong>: Gi·ªëng nh∆∞ stored procedure, nh∆∞ng b·∫Øt bu·ªôc ph·∫£i tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã duy nh·∫•t.</li><li><strong>Package (G√≥i)</strong>: T·∫≠p h·ª£p c√°c function, procedure, bi·∫øn v√† ki·ªÉu d·ªØ li·ªáu ƒë∆∞·ª£c nh√≥m l·∫°i ƒë·ªÉ d·ªÖ qu·∫£n l√Ω.</li><li><strong>Trigger</strong>: M·ªôt ƒëo·∫°n PL/SQL t·ª± ƒë·ªông th·ª±c thi khi c√≥ s·ª± ki·ªán x·∫£y ra (INSERT, UPDATE, DELETE).</li><li><strong>Cursor (Con tr·ªè)</strong>: D√πng ƒë·ªÉ duy·ªát qua t·ª´ng d√≤ng d·ªØ li·ªáu c·ªßa m·ªôt t·∫≠p k·∫øt qu·∫£ truy v·∫•n.</li></ul><h3 id="üîπ-moi-truong-thuc-thi" tabindex="-1"><a class="header-anchor" href="#üîπ-moi-truong-thuc-thi"><span>üîπ M√¥i tr∆∞·ªùng th·ª±c thi</span></a></h3><p>ƒê·ªÉ c√≥ th·ªÉ ti·∫øp c·∫≠n nhanh v·ªõi PL/SQL c·∫ßn c√≥ m·ªôt c√¥ng c·ª• l·∫≠p tr√¨nh.</p><p>Kh√°c v·ªõi SQLServer ho·∫∑c MySQL c√≥ g√≥i download m√† khi c√†i ƒë·∫∑t xong n√≥ c√≥ s·∫µn c√¥ng c·ª• tr·ª±c quan ƒë·ªÉ l√†m vi·ªác. V·ªõi Oracle sau khi c√†i ƒë·∫∑t xong, c·∫ßn c√†i ƒë·∫∑t th√™m m·ªôt c√¥ng c·ª• tr·ª±c quan kh√°c.</p><p>M·ªôt v√†i l·ª±a ch·ªçn cho c√¥ng c·ª• s·ª≠ d·ª•ng nh∆∞:</p><ul><li><p><a href="http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html" target="_blank" rel="noopener noreferrer">Oracle SQL Developer</a>: Oracle cung c·∫•p mi·ªÖn ph√≠ m·ªôt c√¥ng c·ª• tr·ª±c quan Oracle SQL Developer, download t·∫°i:</p></li><li><p><a href="http://www.allroundautomations.com/plsqldev.html" target="_blank" rel="noopener noreferrer">PL/SQL Developer</a>: ƒê√¢y l√† m·ªôt ph·∫ßn m·ªÅm th∆∞∆°ng m·∫°i. So s√°nh v·ªõi c√°c ph·∫ßn m·ªÅm tr√™n c√≥ th·ªÉ th·∫•y n√≥ l√† t·ªët nh·∫•t.</p></li></ul><p><a name="2"></a></p><h2 id="üìå-2-cu-phap-co-ban-trong-pl-sql" tabindex="-1"><a class="header-anchor" href="#üìå-2-cu-phap-co-ban-trong-pl-sql"><span>üìå 2. C√∫ ph√°p c∆° b·∫£n trong PL/SQL</span></a></h2><h3 id="üîπ-cau-truc-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-cau-truc-pl-sql"><span>üîπ C·∫•u tr√∫c PL/SQL</span></a></h3><p>M·ªói ch∆∞∆°ng tr√¨nh PL/SQL ƒë·ªÅu tu√¢n theo m·ªôt c·∫•u tr√∫c c∆° b·∫£n, bao g·ªìm 3 ph·∫ßn ch√≠nh:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    <span class="token comment">-- Ph·∫ßn khai b√°o (t√πy ch·ªçn)</span></span>
<span class="line">    <span class="token comment">-- Khai b√°o bi·∫øn, h·∫±ng s·ªë, con tr·ªè...</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token comment">-- Ph·∫ßn x·ª≠ l√Ω ch√≠nh (b·∫Øt bu·ªôc)</span></span>
<span class="line">    <span class="token comment">-- Vi·∫øt c√°c c√¢u l·ªánh SQL, v√≤ng l·∫∑p, ƒëi·ªÅu ki·ªán...</span></span>
<span class="line">EXCEPTION</span>
<span class="line">    <span class="token comment">-- Ph·∫ßn x·ª≠ l√Ω ngo·∫°i l·ªá (t√πy ch·ªçn)</span></span>
<span class="line">    <span class="token comment">-- B·∫Øt l·ªói v√† x·ª≠ l√Ω l·ªói</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>V√≠ d·ª• ƒë∆°n gi·∫£n:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Hello, PL/SQL!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>‚û°Ô∏è Gi·∫£i th√≠ch:</p><ul><li>BEGIN ... END; ƒë√°nh d·∫•u ph·∫ßn ch∆∞∆°ng tr√¨nh ch√≠nh.</li><li>DBMS_OUTPUT.PUT_LINE(&#39;Hello, PL/SQL!&#39;); in ra m√†n h√¨nh m·ªôt th√¥ng b√°o.</li><li>/ d√πng ƒë·ªÉ th·ª±c thi ƒëo·∫°n m√£ PL/SQL tr√™n SQL*Plus ho·∫∑c SQL Developer.</li></ul><h3 id="üîπ-comment-trong-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-comment-trong-pl-sql"><span>üîπ Comment trong PL/SQL</span></a></h3><p>PL/SQL h·ªó tr·ª£ hai ki·ªÉu comment:</p><ul><li>Comment m·ªôt d√≤ng: --</li><li>Comment nhi·ªÅu d√≤ng: /_ ... _/</li></ul><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token comment">-- ƒê√¢y l√† comment m·ªôt d√≤ng</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Hello, PL/SQL!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">/* ƒê√¢y l√† comment nhi·ªÅu d√≤ng</span>
<span class="line">       C√≥ th·ªÉ vi·∫øt nhi·ªÅu d√≤ng b√™n trong */</span></span>
<span class="line">    <span class="token boolean">NULL</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="üîπ-kieu-du-lieu-trong-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-kieu-du-lieu-trong-pl-sql"><span>üîπ Ki·ªÉu d·ªØ li·ªáu trong PL/SQL</span></a></h3><h4 id="_1Ô∏è‚É£-kieu-du-lieu-so-numeric-data-types" tabindex="-1"><a class="header-anchor" href="#_1Ô∏è‚É£-kieu-du-lieu-so-numeric-data-types"><span>1Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu s·ªë (Numeric Data Types)</span></a></h4><table><thead><tr><th style="text-align:center;">Ki·ªÉu d·ªØ li·ªáu</th><th style="text-align:center;">M√¥ t·∫£</th></tr></thead><tbody><tr><td style="text-align:center;">NUMBER(p, s)</td><td style="text-align:center;">S·ªë c√≥ ƒë·ªô ch√≠nh x√°c c·ªë ƒë·ªãnh, p l√† t·ªïng s·ªë ch·ªØ s·ªë, s l√† s·ªë ch·ªØ s·ªë th·∫≠p ph√¢n</td></tr><tr><td style="text-align:center;">INTEGER</td><td style="text-align:center;">T∆∞∆°ng ƒë∆∞∆°ng NUMBER(38, 0), l∆∞u s·ªë nguy√™n</td></tr><tr><td style="text-align:center;">BINARY_FLOAT</td><td style="text-align:center;">Ki·ªÉu s·ªë th·ª±c (d·∫•u ph·∫©y ƒë·ªông, ƒë·ªô ch√≠nh x√°c ƒë∆°n)</td></tr><tr><td style="text-align:center;">BINARY_DOUBLE</td><td style="text-align:center;">Ki·ªÉu s·ªë th·ª±c (d·∫•u ph·∫©y ƒë·ªông, ƒë·ªô ch√≠nh x√°c k√©p)</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    v_num NUMBER<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> :<span class="token operator">=</span> <span class="token number">1234.56</span><span class="token punctuation">;</span></span>
<span class="line">    v_int <span class="token keyword">INTEGER</span> :<span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Number: &#39;</span> <span class="token operator">||</span> v_num<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Integer: &#39;</span> <span class="token operator">||</span> v_int<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2Ô∏è‚É£-kieu-du-lieu-ky-tu-character-data-types" tabindex="-1"><a class="header-anchor" href="#_2Ô∏è‚É£-kieu-du-lieu-ky-tu-character-data-types"><span>2Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu k√Ω t·ª± (Character Data Types)</span></a></h4><table><thead><tr><th style="text-align:center;">Ki·ªÉu d·ªØ li·ªáu</th><th style="text-align:center;">M√¥ t·∫£</th></tr></thead><tbody><tr><td style="text-align:center;">CHAR(n)</td><td style="text-align:center;">Chu·ªói k√Ω t·ª± c·ªë ƒë·ªãnh ƒë·ªô d√†i n</td></tr><tr><td style="text-align:center;">VARCHAR2(n)</td><td style="text-align:center;">Chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i thay ƒë·ªïi (t·ªëi ƒëa 32,767 byte)</td></tr><tr><td style="text-align:center;">CLOB</td><td style="text-align:center;">L∆∞u tr·ªØ chu·ªói vƒÉn b·∫£n l·ªõn (t·ªëi ƒëa 4GB)</td></tr><tr><td style="text-align:center;">NCHAR(n), NVARCHAR2(n)</td><td style="text-align:center;">T∆∞∆°ng t·ª± CHAR v√† VARCHAR2, nh∆∞ng h·ªó tr·ª£ Unicode</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    v_name VARCHAR2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> :<span class="token operator">=</span> <span class="token string">&#39;Hello PL/SQL&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span>v_name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3Ô∏è‚É£-kieu-du-lieu-ngay-va-thoi-gian-date-and-time-data-types" tabindex="-1"><a class="header-anchor" href="#_3Ô∏è‚É£-kieu-du-lieu-ngay-va-thoi-gian-date-and-time-data-types"><span>3Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu ng√†y v√† th·ªùi gian (Date and Time Data Types)</span></a></h4><table><thead><tr><th style="text-align:center;">Ki·ªÉu d·ªØ li·ªáu</th><th style="text-align:center;">M√¥ t·∫£</th></tr></thead><tbody><tr><td style="text-align:center;">DATE</td><td style="text-align:center;">L∆∞u ng√†y v√† gi·ªù (bao g·ªìm nƒÉm, th√°ng, ng√†y, gi·ªù, ph√∫t, gi√¢y)</td></tr><tr><td style="text-align:center;">TIMESTAMP</td><td style="text-align:center;">Gi·ªëng DATE, nh∆∞ng c√≥ th·ªÉ c√≥ ƒë·ªô ch√≠nh x√°c ƒë·∫øn mili-gi√¢y</td></tr><tr><td style="text-align:center;">TIMESTAMP WITH TIME ZONE</td><td style="text-align:center;">L∆∞u timestamp k√®m m√∫i gi·ªù</td></tr><tr><td style="text-align:center;">TIMESTAMP WITH LOCAL TIME ZONE</td><td style="text-align:center;">T·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi timestamp theo m√∫i gi·ªù ng∆∞·ªùi d√πng</td></tr><tr><td style="text-align:center;">INTERVAL YEAR TO MONTH</td><td style="text-align:center;">L∆∞u kho·∫£ng c√°ch th·ªùi gian theo nƒÉm/th√°ng</td></tr><tr><td style="text-align:center;">INTERVAL DAY TO SECOND</td><td style="text-align:center;">L∆∞u kho·∫£ng c√°ch th·ªùi gian theo ng√†y, gi·ªù, ph√∫t, gi√¢y</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    v_date <span class="token keyword">DATE</span> :<span class="token operator">=</span> SYSDATE<span class="token punctuation">;</span></span>
<span class="line">    v_timestamp <span class="token keyword">TIMESTAMP</span> :<span class="token operator">=</span> SYSTIMESTAMP<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Current Date: &#39;</span> <span class="token operator">||</span> TO_CHAR<span class="token punctuation">(</span>v_date<span class="token punctuation">,</span> <span class="token string">&#39;YYYY-MM-DD HH24:MI:SS&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Current Timestamp: &#39;</span> <span class="token operator">||</span> TO_CHAR<span class="token punctuation">(</span>v_timestamp<span class="token punctuation">,</span> <span class="token string">&#39;YYYY-MM-DD HH24:MI:SS.FF&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4Ô∏è‚É£-kieu-du-lieu-boolean-boolean-data-type" tabindex="-1"><a class="header-anchor" href="#_4Ô∏è‚É£-kieu-du-lieu-boolean-boolean-data-type"><span>4Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu Boolean (Boolean Data Type)</span></a></h4><p>Ch·ªâ c√≥ TRUE, FALSE, ho·∫∑c NULL.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">v_flag <span class="token keyword">BOOLEAN</span> :<span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_5Ô∏è‚É£-kieu-du-lieu-con-tro-cursor-data-type" tabindex="-1"><a class="header-anchor" href="#_5Ô∏è‚É£-kieu-du-lieu-con-tro-cursor-data-type"><span>5Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu con tr·ªè (Cursor Data Type)</span></a></h4><p>D√πng ƒë·ªÉ l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n. (S·∫Ω t√¨m hi·ªÉu k·ªπ h∆°n ·ªü c√°c ph·∫ßn sau)</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    <span class="token keyword">CURSOR</span> emp_cursor <span class="token operator">IS</span> <span class="token keyword">SELECT</span> emp_name <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span></span>
<span class="line">    v_emp_name employees<span class="token punctuation">.</span>emp_name<span class="token operator">%</span><span class="token keyword">TYPE</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token keyword">OPEN</span> emp_cursor<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">FETCH</span> emp_cursor <span class="token keyword">INTO</span> v_emp_name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">CLOSE</span> emp_cursor<span class="token punctuation">;</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Employee: &#39;</span> <span class="token operator">||</span> v_emp_name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6Ô∏è‚É£-kieu-du-lieu-tap-hop-collection-data-types" tabindex="-1"><a class="header-anchor" href="#_6Ô∏è‚É£-kieu-du-lieu-tap-hop-collection-data-types"><span>6Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu t·∫≠p h·ª£p (Collection Data Types)</span></a></h4><p>D√πng ƒë·ªÉ l∆∞u tr·ªØ danh s√°ch gi√° tr·ªã. (S·∫Ω t√¨m hi·ªÉu k·ªπ h∆°n ·ªü c√°c ph·∫ßn sau)</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    <span class="token keyword">TYPE</span> NumArray <span class="token operator">IS</span> VARRAY<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">OF</span> NUMBER<span class="token punctuation">;</span></span>
<span class="line">    v_numbers NumArray :<span class="token operator">=</span> NumArray<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span>v_numbers<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Output: 10</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7Ô∏è‚É£-kieu-du-lieu-lob-large-object-data-types" tabindex="-1"><a class="header-anchor" href="#_7Ô∏è‚É£-kieu-du-lieu-lob-large-object-data-types"><span>7Ô∏è‚É£ Ki·ªÉu d·ªØ li·ªáu LOB (Large Object Data Types)</span></a></h4><p>D√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu l·ªõn.</p><table><thead><tr><th style="text-align:center;">Ki·ªÉu d·ªØ li·ªáu</th><th style="text-align:center;">M√¥ t·∫£</th></tr></thead><tbody><tr><td style="text-align:center;">BLOB</td><td style="text-align:center;">L∆∞u tr·ªØ d·ªØ li·ªáu nh·ªã ph√¢n (·∫£nh, video)</td></tr><tr><td style="text-align:center;">CLOB</td><td style="text-align:center;">L∆∞u tr·ªØ vƒÉn b·∫£n l·ªõn (t·ªëi ƒëa 4GB)</td></tr><tr><td style="text-align:center;">NCLOB</td><td style="text-align:center;">T∆∞∆°ng t·ª± CLOB, nh∆∞ng h·ªó tr·ª£ Unicode</td></tr><tr><td style="text-align:center;">BFILE</td><td style="text-align:center;">L∆∞u tr·ªØ ƒë∆∞·ªùng d·∫´n file b√™n ngo√†i (kh√¥ng l∆∞u tr·ª±c ti·∫øp trong DB)</td></tr></tbody></table><h3 id="üîπ-khai-bao-bien" tabindex="-1"><a class="header-anchor" href="#üîπ-khai-bao-bien"><span>üîπ Khai b√°o bi·∫øn</span></a></h3><p>Bi·∫øn trong PL/SQL ph·∫£i ƒë∆∞·ª£c khai b√°o tr∆∞·ªõc khi s·ª≠ d·ª•ng.</p><p>C√∫ ph√°p:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">variable_name datatype <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> <span class="token keyword">value</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>V√≠ d·ª•:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    v_name VARCHAR2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    v_salary NUMBER :<span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L∆∞∆°ng: &#39;</span> <span class="token operator">||</span> v_salary<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>üî• ƒê·ªÉ g√°n gi√° tr·ªã cho bi·∫øn:</p><ul><li>D√πng := (g√°n tr·ª±c ti·∫øp)<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">v_salary :<span class="token operator">=</span> <span class="token number">6000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>D√πng SELECT INTO (l·∫•y t·ª´ database)<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SELECT</span> salary <span class="token keyword">INTO</span> v_salary <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> emp_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>D√πng DEFAULT khi khai b√°o<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">v_bonus NUMBER <span class="token keyword">DEFAULT</span> <span class="token number">1000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p>üî• %TYPE ‚Äì D√πng ki·ªÉu d·ªØ li·ªáu c·ªßa c·ªôt trong b·∫£ng: Thay v√¨ khai b√°o ki·ªÉu d·ªØ li·ªáu c·ªë ƒë·ªãnh, ta c√≥ th·ªÉ d√πng %TYPE ƒë·ªÉ k·∫ø th·ª´a ki·ªÉu d·ªØ li·ªáu t·ª´ b·∫£ng:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CURSOR</span> emp_cursor <span class="token operator">IS</span> <span class="token keyword">SELECT</span> emp_name <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span></span>
<span class="line">v_emp_name employees<span class="token punctuation">.</span>emp_name<span class="token operator">%</span><span class="token keyword">TYPE</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>üî• H·∫±ng s·ªë (Constant): D√πng CONSTANT ƒë·ªÉ t·∫°o gi√° tr·ªã kh√¥ng ƒë·ªïi.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">PI_VALUE CONSTANT NUMBER :<span class="token operator">=</span> <span class="token number">3.14159</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="üîπ-toan-tu-trong-pl-sql" tabindex="-1"><a class="header-anchor" href="#üîπ-toan-tu-trong-pl-sql"><span>üîπ To√°n t·ª≠ trong PL/SQL</span></a></h3><ul><li><p>To√°n t·ª≠ s·ªë h·ªçc:</p><table><thead><tr><th style="text-align:center;">To√°n t·ª≠</th><th style="text-align:center;">√ù nghƒ©a</th></tr></thead><tbody><tr><td style="text-align:center;">+</td><td style="text-align:center;">C·ªông</td></tr><tr><td style="text-align:center;">-</td><td style="text-align:center;">Tr·ª´</td></tr><tr><td style="text-align:center;">*</td><td style="text-align:center;">Nh√¢n</td></tr><tr><td style="text-align:center;">/</td><td style="text-align:center;">Chia</td></tr><tr><td style="text-align:center;">MOD</td><td style="text-align:center;">Chia l·∫•y d∆∞</td></tr></tbody></table></li><li><p>To√°n t·ª≠ so s√°nh:</p><table><thead><tr><th style="text-align:center;">To√°n t·ª≠</th><th style="text-align:center;">√ù nghƒ©a</th></tr></thead><tbody><tr><td style="text-align:center;">=</td><td style="text-align:center;">B·∫±ng</td></tr><tr><td style="text-align:center;">!= ho·∫∑c &lt;&gt;</td><td style="text-align:center;">Kh√°c</td></tr><tr><td style="text-align:center;">&gt;</td><td style="text-align:center;">L·ªõn h∆°n</td></tr><tr><td style="text-align:center;">&lt;</td><td style="text-align:center;">Nh·ªè h∆°n</td></tr><tr><td style="text-align:center;">&gt;=</td><td style="text-align:center;">L·ªõn h∆°n ho·∫∑c b·∫±ng</td></tr><tr><td style="text-align:center;">&lt;=</td><td style="text-align:center;">Nh·ªè h∆°n ho·∫∑c b·∫±ng</td></tr></tbody></table></li></ul><h2 id="üìå-3-cau-truc-ƒëieu-khien" tabindex="-1"><a class="header-anchor" href="#üìå-3-cau-truc-ƒëieu-khien"><span>üìå 3. C·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn</span></a></h2><h3 id="üîπ-cau-truc-ƒëieu-kien-if-else" tabindex="-1"><a class="header-anchor" href="#üîπ-cau-truc-ƒëieu-kien-if-else"><span>üîπ C·∫•u tr√∫c ƒëi·ªÅu ki·ªán (IF ... ELSE)</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">IF</span> condition <span class="token keyword">THEN</span></span>
<span class="line">    <span class="token comment">-- Th·ª±c thi n·∫øu ƒëi·ªÅu ki·ªán ƒë√∫ng</span></span>
<span class="line">ELSIF another_condition <span class="token keyword">THEN</span></span>
<span class="line">    <span class="token comment">-- Th·ª±c thi n·∫øu ƒëi·ªÅu ki·ªán n√†y ƒë√∫ng</span></span>
<span class="line"><span class="token keyword">ELSE</span></span>
<span class="line">    <span class="token comment">-- Th·ª±c thi n·∫øu t·∫•t c·∫£ ƒëi·ªÅu ki·ªán tr√™n ƒë·ªÅu sai</span></span>
<span class="line"><span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="üîπ-cau-truc-ƒëieu-kien-case" tabindex="-1"><a class="header-anchor" href="#üîπ-cau-truc-ƒëieu-kien-case"><span>üîπ C·∫•u tr√∫c ƒëi·ªÅu ki·ªán (CASE)</span></a></h3><h4 id="_1Ô∏è‚É£-dang-case-ƒëon-gian-simple-case" tabindex="-1"><a class="header-anchor" href="#_1Ô∏è‚É£-dang-case-ƒëon-gian-simple-case"><span>1Ô∏è‚É£ D·∫°ng CASE ƒë∆°n gi·∫£n (Simple CASE)</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CASE</span> expression</span>
<span class="line">    <span class="token keyword">WHEN</span> value1 <span class="token keyword">THEN</span> result1</span>
<span class="line">    <span class="token keyword">WHEN</span> value2 <span class="token keyword">THEN</span> result2</span>
<span class="line">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token keyword">ELSE</span> default_result</span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2Ô∏è‚É£-dang-case-tim-kiem-searched-case" tabindex="-1"><a class="header-anchor" href="#_2Ô∏è‚É£-dang-case-tim-kiem-searched-case"><span>2Ô∏è‚É£ D·∫°ng CASE t√¨m ki·∫øm (Searched CASE)</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CASE</span></span>
<span class="line">    <span class="token keyword">WHEN</span> condition1 <span class="token keyword">THEN</span> result1</span>
<span class="line">    <span class="token keyword">WHEN</span> condition2 <span class="token keyword">THEN</span> result2</span>
<span class="line">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token keyword">ELSE</span> default_result</span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="üîπ-cau-truc-vong-lap" tabindex="-1"><a class="header-anchor" href="#üîπ-cau-truc-vong-lap"><span>üîπ C·∫•u tr√∫c v√≤ng l·∫∑p</span></a></h3><h4 id="_1Ô∏è‚É£-vong-lap-loop-vo-han-can-exit" tabindex="-1"><a class="header-anchor" href="#_1Ô∏è‚É£-vong-lap-loop-vo-han-can-exit"><span>1Ô∏è‚É£ V√≤ng l·∫∑p LOOP (V√¥ h·∫°n, c·∫ßn EXIT)</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">    v_count NUMBER :<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token keyword">LOOP</span></span>
<span class="line">        DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L·∫ßn l·∫∑p: &#39;</span> <span class="token operator">||</span> v_count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        v_count :<span class="token operator">=</span> v_count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">EXIT</span> <span class="token keyword">WHEN</span> v_count <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">-- Tho√°t khi v_count &gt; 5</span></span>
<span class="line">    <span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2Ô∏è‚É£-vong-lap-while" tabindex="-1"><a class="header-anchor" href="#_2Ô∏è‚É£-vong-lap-while"><span>2Ô∏è‚É£ V√≤ng l·∫∑p WHILE</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">WHILE</span> v_count <span class="token operator">&lt;=</span> <span class="token number">5</span> <span class="token keyword">LOOP</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L·∫ßn l·∫∑p: &#39;</span> <span class="token operator">||</span> v_count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    v_count :<span class="token operator">=</span> v_count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3Ô∏è‚É£-vong-lap-for" tabindex="-1"><a class="header-anchor" href="#_3Ô∏è‚É£-vong-lap-for"><span>3Ô∏è‚É£ V√≤ng l·∫∑p FOR</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">FOR</span> i <span class="token operator">IN</span> <span class="token number">1.</span><span class="token number">.5</span> <span class="token keyword">LOOP</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L·∫ßn l·∫∑p: &#39;</span> <span class="token operator">||</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="üìå-4-xu-ly-ngoai-le" tabindex="-1"><a class="header-anchor" href="#üìå-4-xu-ly-ngoai-le"><span>üìå 4. X·ª≠ l√Ω ngo·∫°i l·ªá</span></a></h2><h3 id="üîπ-cu-phap" tabindex="-1"><a class="header-anchor" href="#üîπ-cu-phap"><span>üîπ C√∫ ph√°p</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span> </span>
<span class="line">  <span class="token operator">&lt;</span>declarations section<span class="token operator">&gt;</span> </span>
<span class="line"><span class="token keyword">BEGIN</span> </span>
<span class="line">  <span class="token comment">-- Code c√≥ th·ªÉ g√¢y l·ªói</span></span>
<span class="line">EXCEPTION </span>
<span class="line">  <span class="token keyword">WHEN</span> exception1 <span class="token keyword">THEN</span>  </span>
<span class="line">    <span class="token comment">-- Exception1 handling statements  </span></span>
<span class="line">  <span class="token keyword">WHEN</span> exception2  <span class="token keyword">THEN</span>  </span>
<span class="line">    <span class="token comment">-- Exception2 handling statements  </span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> </span>
<span class="line">  <span class="token keyword">WHEN</span> others <span class="token keyword">THEN</span> </span>
<span class="line">    <span class="token comment">-- Other exception handling statements </span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1Ô∏è‚É£-vi-du-bat-loi-chung-when-others" tabindex="-1"><a class="header-anchor" href="#_1Ô∏è‚É£-vi-du-bat-loi-chung-when-others"><span>1Ô∏è‚É£ V√≠ d·ª• b·∫Øt l·ªói chung (WHEN OTHERS)</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">  v_number NUMBER<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">  v_number :<span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">-- L·ªói chia cho 0</span></span>
<span class="line">EXCEPTION</span>
<span class="line">  <span class="token keyword">WHEN</span> OTHERS <span class="token keyword">THEN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;ƒê√£ x·∫£y ra l·ªói!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2Ô∏è‚É£-vi-du-bat-loi-cu-the" tabindex="-1"><a class="header-anchor" href="#_2Ô∏è‚É£-vi-du-bat-loi-cu-the"><span>2Ô∏è‚É£ V√≠ d·ª• b·∫Øt l·ªói c·ª• th·ªÉ</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span></span>
<span class="line">  v_number NUMBER<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">  v_number :<span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">-- L·ªói chia cho 0</span></span>
<span class="line">EXCEPTION</span>
<span class="line">  <span class="token keyword">WHEN</span> ZERO_DIVIDE <span class="token keyword">THEN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L·ªói chia cho 0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">WHEN</span> OTHERS <span class="token keyword">THEN</span></span>
<span class="line">    DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;L·ªói kh√¥ng x√°c ƒë·ªãnh&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="üîπ-raise-exception" tabindex="-1"><a class="header-anchor" href="#üîπ-raise-exception"><span>üîπ Raise Exception</span></a></h3><p>Ch√∫ng ta c√≥ th·ªÉ n√™u ra c√°c ngo·∫°i l·ªá m·ªôt c√°ch r√µ r√†ng b·∫±ng c√°ch s·ª≠ d·ª•ng l·ªánh RAISE:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DECLARE</span> </span>
<span class="line">  exception_name EXCEPTION<span class="token punctuation">;</span> <span class="token comment">-- Khai b√°o m·ªôt ngo·∫°i l·ªá c·ªßa ri√™ng m√¨nh</span></span>
<span class="line"><span class="token keyword">BEGIN</span> </span>
<span class="line">  <span class="token keyword">IF</span> condition <span class="token keyword">THEN</span> </span>
<span class="line">    RAISE exception_name<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span> </span>
<span class="line">EXCEPTION </span>
<span class="line">  <span class="token keyword">WHEN</span> exception_name <span class="token keyword">THEN</span> </span>
<span class="line">    statement<span class="token punctuation">;</span> </span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="üîπ-cac-ngoai-le-do-he-thong-xac-ƒëinh" tabindex="-1"><a class="header-anchor" href="#üîπ-cac-ngoai-le-do-he-thong-xac-ƒëinh"><span>üîπ C√°c ngo·∫°i l·ªá do h·ªá th·ªëng x√°c ƒë·ªãnh</span></a></h3><p>M·ªôt s·ªë ngo·∫°i l·ªá c√≥ s·∫µn trong PL/SQL:</p><table><thead><tr><th style="text-align:center;">Ngo·∫°i l·ªá</th><th style="text-align:center;">M√¥ t·∫£</th></tr></thead><tbody><tr><td style="text-align:center;">ACCESS_INTO_NULL</td><td style="text-align:center;">G·ªçi ph∆∞∆°ng th·ª©c tr√™n m·ªôt ƒë·ªëi t∆∞·ª£ng ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o</td></tr><tr><td style="text-align:center;">CASE_NOT_FOUND</td><td style="text-align:center;">Kh√¥ng c√≥ tr∆∞·ªùng h·ª£p n√†o ph√π h·ª£p trong CASE (v√† kh√¥ng c√≥ ELSE)</td></tr><tr><td style="text-align:center;">COLLECTION_IS_NULL</td><td style="text-align:center;">C·ªë g·∫Øng tham chi·∫øu m·ªôt collection ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o</td></tr><tr><td style="text-align:center;">CURSOR_ALREADY_OPEN</td><td style="text-align:center;">M·ªü m·ªôt con tr·ªè (cursor) ƒë√£ ƒë∆∞·ª£c m·ªü tr∆∞·ªõc ƒë√≥</td></tr><tr><td style="text-align:center;">DUP_VAL_ON_INDEX</td><td style="text-align:center;">Vi ph·∫°m r√†ng bu·ªôc UNIQUE tr√™n c·ªôt khi ch√®n d·ªØ li·ªáu</td></tr><tr><td style="text-align:center;">INVALID_CURSOR</td><td style="text-align:center;">C·ªë g·∫Øng thao t√°c tr√™n con tr·ªè (cursor) kh√¥ng h·ª£p l·ªá</td></tr><tr><td style="text-align:center;">INVALID_NUMBER</td><td style="text-align:center;">Chuy·ªÉn ƒë·ªïi ki·ªÉu d·ªØ li·ªáu s·ªë kh√¥ng h·ª£p l·ªá (v√≠ d·ª•: TO_NUMBER(&#39;abc&#39;))</td></tr><tr><td style="text-align:center;">LOGIN_DENIED</td><td style="text-align:center;">Sai username ho·∫∑c password khi k·∫øt n·ªëi CSDL</td></tr><tr><td style="text-align:center;">NO_DATA_FOUND</td><td style="text-align:center;">Kh√¥ng c√≥ d·ªØ li·ªáu n√†o ƒë∆∞·ª£c t√¨m th·∫•y trong truy v·∫•n SELECT INTO</td></tr><tr><td style="text-align:center;">NOT_LOGGED_ON</td><td style="text-align:center;">C·ªë g·∫Øng thao t√°c tr√™n database khi ch∆∞a ƒëƒÉng nh·∫≠p</td></tr><tr><td style="text-align:center;">PROGRAM_ERROR</td><td style="text-align:center;">L·ªói n·ªôi b·ªô c·ªßa PL/SQL (kh√¥ng mong mu·ªën x·∫£y ra)</td></tr><tr><td style="text-align:center;">ROWTYPE_MISMATCH</td><td style="text-align:center;">Ki·ªÉu d·ªØ li·ªáu c·ªßa m·ªôt h√†ng kh√¥ng kh·ªõp v·ªõi bi·∫øn nh·∫≠n</td></tr><tr><td style="text-align:center;">SELF_IS_NULL</td><td style="text-align:center;">G·ªçi ph∆∞∆°ng th·ª©c tr√™n m·ªôt instance ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o c·ªßa m·ªôt object</td></tr><tr><td style="text-align:center;">STORAGE_ERROR</td><td style="text-align:center;">H·∫øt b·ªô nh·ªõ ho·∫∑c l·ªói c·∫•p ph√°t b·ªô nh·ªõ</td></tr><tr><td style="text-align:center;">SUBSCRIPT_BEYOND_COUNT</td><td style="text-align:center;">Ch·ªâ m·ª•c (index) v∆∞·ª£t qu√° s·ªë ph·∫ßn t·ª≠ c√≥ trong collection</td></tr><tr><td style="text-align:center;">SUBSCRIPT_OUTSIDE_LIMIT</td><td style="text-align:center;">Ch·ªâ m·ª•c (index) ngo√†i ph·∫°m vi h·ª£p l·ªá c·ªßa collection</td></tr><tr><td style="text-align:center;">SYS_INVALID_ROWID</td><td style="text-align:center;">Gi√° tr·ªã ROWID kh√¥ng h·ª£p l·ªá</td></tr><tr><td style="text-align:center;">TIMEOUT_ON_RESOURCE</td><td style="text-align:center;">Qu√° th·ªùi gian ch·ªù khi truy c·∫≠p t√†i nguy√™n</td></tr><tr><td style="text-align:center;">TOO_MANY_ROWS</td><td style="text-align:center;">Truy v·∫•n SELECT INTO tr·∫£ v·ªÅ nhi·ªÅu h∆°n m·ªôt d√≤ng d·ªØ li·ªáu</td></tr><tr><td style="text-align:center;">VALUE_ERROR</td><td style="text-align:center;">L·ªói khi g√°n gi√° tr·ªã kh√¥ng h·ª£p l·ªá v√†o bi·∫øn (v√≠ d·ª•: tr√†n s·ªë)</td></tr><tr><td style="text-align:center;">ZERO_DIVIDE</td><td style="text-align:center;">L·ªói chia cho 0</td></tr></tbody></table>`,101)]))}const o=s(i,[["render",p],["__file","oracle-plsql-beginner.html.vue"]]),d=JSON.parse('{"path":"/blog-posts/back-end/oracle-plsql-beginner.html","title":"L√†m quen v·ªõi PL/SQL","lang":"vi-VN","frontmatter":{"title":"L√†m quen v·ªõi PL/SQL","summary":"PL/SQL l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa Oracle Database, gi√∫p vi·∫øt c√°c ch∆∞∆°ng tr√¨nh m·∫°nh m·∫Ω tr√™n c∆° s·ªü d·ªØ li·ªáu.","date":"2025-06-12","image":"/vuepress-blog/images/posts/plsql.png","category":"BACK-END","tags":["oracle","training-plsql"]},"headers":[{"level":2,"title":"üìå 1. Gi·ªõi thi·ªáu v·ªÅ PL/SQL","slug":"üìå-1-gioi-thieu-ve-pl-sql","link":"#üìå-1-gioi-thieu-ve-pl-sql","children":[{"level":3,"title":"üîπ PL/SQL l√† g√¨?","slug":"üîπ-pl-sql-la-gi","link":"#üîπ-pl-sql-la-gi","children":[]},{"level":3,"title":"üîπ L∆∞u √Ω v·ªÅ PL/SQL","slug":"üîπ-luu-y-ve-pl-sql","link":"#üîπ-luu-y-ve-pl-sql","children":[]},{"level":3,"title":"üîπ Ki·∫øn tr√∫c PL/SQL","slug":"üîπ-kien-truc-pl-sql","link":"#üîπ-kien-truc-pl-sql","children":[]},{"level":3,"title":"üîπ ∆Øu nh∆∞·ª£c ƒëi·ªÉm c·ªßa PL/SQL","slug":"üîπ-uu-nhuoc-ƒëiem-cua-pl-sql","link":"#üîπ-uu-nhuoc-ƒëiem-cua-pl-sql","children":[]},{"level":3,"title":"üîπ Th√†nh ph·∫ßn trong PL/SQL","slug":"üîπ-thanh-phan-trong-pl-sql","link":"#üîπ-thanh-phan-trong-pl-sql","children":[]},{"level":3,"title":"üîπ M√¥i tr∆∞·ªùng th·ª±c thi","slug":"üîπ-moi-truong-thuc-thi","link":"#üîπ-moi-truong-thuc-thi","children":[]}]},{"level":2,"title":"üìå 2. C√∫ ph√°p c∆° b·∫£n trong PL/SQL","slug":"üìå-2-cu-phap-co-ban-trong-pl-sql","link":"#üìå-2-cu-phap-co-ban-trong-pl-sql","children":[{"level":3,"title":"üîπ C·∫•u tr√∫c PL/SQL","slug":"üîπ-cau-truc-pl-sql","link":"#üîπ-cau-truc-pl-sql","children":[]},{"level":3,"title":"üîπ Comment trong PL/SQL","slug":"üîπ-comment-trong-pl-sql","link":"#üîπ-comment-trong-pl-sql","children":[]},{"level":3,"title":"üîπ Ki·ªÉu d·ªØ li·ªáu trong PL/SQL","slug":"üîπ-kieu-du-lieu-trong-pl-sql","link":"#üîπ-kieu-du-lieu-trong-pl-sql","children":[]},{"level":3,"title":"üîπ Khai b√°o bi·∫øn","slug":"üîπ-khai-bao-bien","link":"#üîπ-khai-bao-bien","children":[]},{"level":3,"title":"üîπ To√°n t·ª≠ trong PL/SQL","slug":"üîπ-toan-tu-trong-pl-sql","link":"#üîπ-toan-tu-trong-pl-sql","children":[]}]},{"level":2,"title":"üìå 3. C·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn","slug":"üìå-3-cau-truc-ƒëieu-khien","link":"#üìå-3-cau-truc-ƒëieu-khien","children":[{"level":3,"title":"üîπ C·∫•u tr√∫c ƒëi·ªÅu ki·ªán (IF ... ELSE)","slug":"üîπ-cau-truc-ƒëieu-kien-if-else","link":"#üîπ-cau-truc-ƒëieu-kien-if-else","children":[]},{"level":3,"title":"üîπ C·∫•u tr√∫c ƒëi·ªÅu ki·ªán (CASE)","slug":"üîπ-cau-truc-ƒëieu-kien-case","link":"#üîπ-cau-truc-ƒëieu-kien-case","children":[]},{"level":3,"title":"üîπ C·∫•u tr√∫c v√≤ng l·∫∑p","slug":"üîπ-cau-truc-vong-lap","link":"#üîπ-cau-truc-vong-lap","children":[]}]},{"level":2,"title":"üìå 4. X·ª≠ l√Ω ngo·∫°i l·ªá","slug":"üìå-4-xu-ly-ngoai-le","link":"#üìå-4-xu-ly-ngoai-le","children":[{"level":3,"title":"üîπ C√∫ ph√°p","slug":"üîπ-cu-phap","link":"#üîπ-cu-phap","children":[]},{"level":3,"title":"üîπ Raise Exception","slug":"üîπ-raise-exception","link":"#üîπ-raise-exception","children":[]},{"level":3,"title":"üîπ C√°c ngo·∫°i l·ªá do h·ªá th·ªëng x√°c ƒë·ªãnh","slug":"üîπ-cac-ngoai-le-do-he-thong-xac-ƒëinh","link":"#üîπ-cac-ngoai-le-do-he-thong-xac-ƒëinh","children":[]}]}],"git":{},"filePathRelative":"blog-posts/back-end/oracle-plsql-beginner.md"}');export{o as comp,d as data};
