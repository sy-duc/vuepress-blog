import{_ as n,c as e,d as i,o as a}from"./app-Dp46ydvk.js";const l="/vuepress-blog/assets/aws-VPC-7AMdMDrT.png",c="/vuepress-blog/assets/aws-vi-du-subnet-DOBQqsvb.png",h="/vuepress-blog/assets/aws-vi-du-security-group-DZo_NOb0.png",s="/vuepress-blog/assets/aws-vi-du-endpoint-9wH8RedB.png",r="/vuepress-blog/assets/aws-VPC-flow-logs-BUUGHi9D.png",p="/vuepress-blog/assets/aws-site-to-site-VPN-BxFbwOoK.png",u="/vuepress-blog/assets/aws-vi-du-VPC-peering-BqeoebIs.png",o="/vuepress-blog/assets/aws-vi-du-transit-gateway-DNKng_n1.png",g="/vuepress-blog/assets/aws-transit-gateway-BfncwzXt.png",d={};function b(m,t){return a(),e("div",null,t[0]||(t[0]=[i('<h1 id="networking-trong-aws" tabindex="-1"><a class="header-anchor" href="#networking-trong-aws"><span>Networking trong AWS</span></a></h1><ul><li><p>âœ¦ AWS cung cáº¥p má»™t loáº¡t cÃ¡c dá»‹ch vá»¥ máº¡ng Ä‘á»ƒ giÃºp báº¡n xÃ¢y dá»±ng vÃ  quáº£n lÃ½ máº¡ng trÃªn Ä‘Ã¡m mÃ¢y, Ä‘áº£m báº£o káº¿t ná»‘i, báº£o máº­t, vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.</p></li><li><p>âœ¦ Networking trong AWS thÆ°á»ng xoay quanh viá»‡c:</p><ul><li>âœ§ Cáº¥u hÃ¬nh vÃ  quáº£n lÃ½ tÃ i nguyÃªn máº¡ng.</li><li>âœ§ Äáº£m báº£o cÃ¡c tÃ i nguyÃªn máº¡ng cÃ³ thá»ƒ liÃªn láº¡c vá»›i nhau má»™t cÃ¡ch an toÃ n vÃ  hiá»‡u quáº£.</li></ul></li></ul><p><a href="#1">1. Tá»•ng quan vá» Amazone VPC</a></p><p><a href="#2">2. Thá»±c hÃ nh thiáº¿t káº¿ VPC Ä‘Æ¡n giáº£n</a></p><p><a href="#3">3. VPC Flow Logs</a></p><p><a href="#4">4. VPC Peering</a></p><p><a href="#5">5. Site-to-site VPN - Má»Ÿ rá»™ng máº¡ng táº¡i chá»— lÃªn Ä‘Ã¡m mÃ¢y</a></p><p><a href="#6">6. Direct Connect</a></p><p><a href="#7">7. Transit Gateway</a></p><p><a name="1"></a></p><h2 id="ğŸ“Œ-1-tong-quan-ve-amazone-vpc" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-1-tong-quan-ve-amazone-vpc"><span>ğŸ“Œ 1. Tá»•ng quan vá» Amazone VPC</span></a></h2><ul><li><p>âœ¦ VPC lÃ  cÃ´ng cá»¥ cho phÃ©p chÃºng ta táº¡o ra cÃ¡c vÃ¹ng máº¡ng riÃªng áº£o cá»§a mÃ¬nh bÃªn trong háº¡ táº§ng chia sáº» cá»§a AWS.</p></li><li><p>âœ¦ VPC giÃºp báº¡n kiá»ƒm soÃ¡t toÃ n bá»™ mÃ´i trÆ°á»ng máº¡ng, giá»‘ng nhÆ° cÃ³ má»™t trung tÃ¢m dá»¯ liá»‡u riÃªng trÃªn AWS.</p></li><li><p>âœ¦ Má»—i VPC lÃ  hoÃ n toÃ n Ä‘á»™c láº­p, cÃ¡c tÃ i nguyÃªn bÃªn trong cÃ¹ng VPC má»›i cÃ³ thá»ƒ nÃ³i chuyá»‡n vá»›i nhau.</p><ul><li>CÃ¡c tÃ i nguyÃªn bÃªn ngoÃ i muá»‘n truy cáº­p thÃ¬ pháº£i cáº§n cáº¥p phÃ©p.</li></ul><p><img src="'+l+`" alt="Tá»•ng quan VPC"></p></li><li><p>âœ¦ CÃ³ thá»ƒ káº¿t há»£p cÃ¡c VPC vá»›i nhau Ä‘á»ƒ táº¡o thÃ nh mÃ´ hÃ¬nh Network Topology cho nhá»¯ng há»‡ thá»‘ng phá»©c táº¡p.</p></li></ul><h3 id="ğŸ”¹-cac-thanh-phan-chinh-cua-vpc" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-cac-thanh-phan-chinh-cua-vpc"><span>ğŸ”¹ CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a VPC</span></a></h3><ul><li>ChÃºng ta sáº½ giá»›i thiá»‡u trÆ°á»›c qua cÃ¡c thÃ nh pháº§n chÃ­nh cá»§a VPC. Sau Ä‘Ã³ Ä‘á»ƒ dá»… hÃ¬nh dung thÃ¬ sáº½ láº¥y vÃ­ dá»¥ khi triá»ƒn khai thá»±c táº¿.</li></ul><h4 id="ğŸ -vpc-virtual-private-cloud" tabindex="-1"><a class="header-anchor" href="#ğŸ -vpc-virtual-private-cloud"><span>ğŸ  VPC (Virtual Private Cloud)</span></a></h4><ul><li><p>âœ¦ ÄÃ¢y chÃ­nh lÃ  máº¡ng riÃªng áº£o báº¡n táº¡o trÃªn AWS.</p></li><li><p>âœ¦ Khi táº¡o má»™t VPC, báº¡n pháº£i chá»n má»™t CIDR Block (vÃ­ dá»¥: 10.0.0.0/16), nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ cÃ³ khoáº£ng 65.536 Ä‘á»‹a chá»‰ IP.</p></li><li><p><strong>Note:</strong></p><ul><li><p>CIDR (Classless Inter-Domain Routing) lÃ  má»™t phÆ°Æ¡ng phÃ¡p phÃ¢n chia Ä‘á»‹a chá»‰ IP thÃ nh cÃ¡c máº¡ng con, cáº¥u trÃºc nhÆ° sau:</p><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx" data-title="nginx"><pre><code><span class="line">IP_ADDRESS / SUBNET_MASK</span>
<span class="line"><span class="token comment"># VÃ­ dá»¥</span></span>
<span class="line"><span class="token comment"># 10.0.0.0/16</span></span>
<span class="line"><span class="token comment"># 192.168.1.0/24</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Trong Ä‘Ã³:</p><ul><li>âœ¦ IP_ADDRESS lÃ  Ä‘á»‹a chá»‰ máº¡ng.</li><li>âœ¦ SUBNET_MASK (Ä‘á»™ dÃ i tiá»n tá»‘ - Prefix Length) lÃ  sá»‘ bit dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh pháº§n máº¡ng.</li></ul><p>VÃ­ dá»¥: 10.0.0.0/16</p><ul><li>âœ¦ Äá»™ dÃ i subnet mask: 16 bit â†’ Pháº§n network chiáº¿m 16 bit, pháº§n host chiáº¿m 16 bit cÃ²n láº¡i.</li><li>âœ¦ Sá»‘ lÆ°á»£ng IP cÃ³ thá»ƒ sá»­ dá»¥ng: <ul><li>âœ§ CÃ´ng thá»©c: 2^(32-16) = 2^16 = 65,536 Ä‘á»‹a chá»‰ IP.</li><li>âœ§ Dáº£i IP tá»« 10.0.0.0 Ä‘áº¿n 10.0.255.255.</li></ul></li></ul></li></ul></li></ul><h4 id="ğŸ“¦-subnet" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-subnet"><span>ğŸ“¦ Subnet</span></a></h4><ul><li><p>âœ¦ LÃ  táº­p há»£p cÃ¡c Ä‘á»‹a chá»‰ IP trong VPC Ä‘Æ°á»£c chia thÃ nh cÃ¡c máº¡ng nhá» hÆ¡n (Ä‘Æ°á»£c hiá»ƒu lÃ  máº¡ng con áº£o).</p></li><li><p>âœ¦ CÃ³ hai loáº¡i subnet:</p><ul><li>â¶ Public Subnet: Káº¿t ná»‘i trá»±c tiáº¿p vá»›i Internet thÃ´ng qua Internet Gateway.</li><li>â· Private Subnet: KhÃ´ng káº¿t ná»‘i trá»±c tiáº¿p vá»›i Internet, chá»‰ dÃ¹ng Ä‘á»ƒ cháº¡y cÃ¡c dá»‹ch vá»¥ ná»™i bá»™.</li></ul><p>ğŸš€ VÃ­ dá»¥:</p><ul><li>â¶ Public Subnet: Chá»©a EC2 cháº¡y website.</li><li>â· Private Subnet: Chá»©a database (RDS), chá»‰ cÃ³ thá»ƒ truy cáº­p tá»« EC2 trong public subnet.</li></ul></li><li><p>âœ¦ ThÆ°á»ng sáº½ táº¡o ra 1 public subnet vÃ  1 private subnet trÃªn má»—i Availability Zone.</p></li></ul><h4 id="ğŸŒ-internet-gateway-igw" tabindex="-1"><a class="header-anchor" href="#ğŸŒ-internet-gateway-igw"><span>ğŸŒ Internet Gateway (IGW)</span></a></h4><ul><li><p>âœ¦ Cho phÃ©p cÃ¡c tÃ i nguyÃªn trong public subnet truy cáº­p Internet.</p></li><li><p>âœ¦ Náº¿u khÃ´ng cÃ³ IGW, cÃ¡c instance trong VPC sáº½ khÃ´ng thá»ƒ giao tiáº¿p vá»›i bÃªn ngoÃ i.</p></li></ul><h4 id="ğŸ”„-route-table-rtb" tabindex="-1"><a class="header-anchor" href="#ğŸ”„-route-table-rtb"><span>ğŸ”„ Route Table (RTB)</span></a></h4><ul><li><p>âœ¦ LÃ  báº£ng Ä‘á»‹nh tuyáº¿n, Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»ng Ä‘i, nÆ¡i Ä‘áº¿n cá»§a cÃ¡c gÃ³i tin tá»« máº¡ng con hay gateway.</p></li><li><p>âœ¦ Route Table sáº½ quyáº¿t Ä‘á»‹nh má»™t subnet lÃ  Private hay Public.</p></li></ul><h4 id="ğŸ›¡ï¸-network-acl-nacl" tabindex="-1"><a class="header-anchor" href="#ğŸ›¡ï¸-network-acl-nacl"><span>ğŸ›¡ï¸ Network ACL (NACL)</span></a></h4><ul><li><p>âœ¦ LÃ  má»™t lá»›p tÆ°á»ng lá»­a hoáº¡t Ä‘á»™ng á»Ÿ táº§ng subnet, kiá»ƒm soÃ¡t luá»“ng traffic vÃ o/ra subnet á»Ÿ má»©c subnet.</p></li><li><p>âœ¦ Hoáº¡t Ä‘á»™ng theo nguyÃªn táº¯c stateless (cáº§n cÃ³ Ä‘á»‹nh nghÄ©a riÃªng cÃ¡c rules cho cáº£ lÆ°u lÆ°á»£ng inbound vÃ  outbound).</p><ul><li>âœ§ Tá»©c lÃ  khi má»™t gÃ³i tin Ä‘Æ°á»£c cho phÃ©p vÃ o subnet, nÃ³ khÃ´ng tá»± Ä‘á»™ng Ä‘Æ°á»£c phÃ©p ra ngoÃ i trá»« khi cÃ³ quy táº¯c tÆ°Æ¡ng á»©ng.</li></ul></li><li><p>âœ¦ Má»—i rule trong NACL Ä‘Æ°á»£c Ä‘Ã¡nh má»™t sá»‘ thá»© tá»± tá»« 1 Ä‘áº¿n 32766:</p><ul><li>âœ§ AWS Ä‘Ã¡nh giÃ¡ cÃ¡c quy táº¯c theo thá»© tá»± tÄƒng dáº§n.</li><li>âœ§ Quy táº¯c nÃ o khá»›p trÆ°á»›c sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng (sá»‘ thá»© tá»± cÃ ng nhá», Ä‘á»™ Æ°u tiÃªn cÃ ng cao).</li><li>âœ§ Náº¿u khÃ´ng cÃ³ quy táº¯c nÃ o khá»›p, NACL sáº½ sá»­ dá»¥ng quy táº¯c máº·c Ä‘á»‹nh cuá»‘i cÃ¹ng (default action - deny/lÆ°u lÆ°á»£ng sáº½ bá»‹ cháº·n).</li></ul></li></ul><h4 id="ğŸ”-security-group-sg" tabindex="-1"><a class="header-anchor" href="#ğŸ”-security-group-sg"><span>ğŸ” Security Group (SG)</span></a></h4><ul><li><p>âœ¦ LÃ  loáº¡i tÆ°á»ng lá»­a kiá»ƒm soÃ¡t luá»“ng traffic vÃ o/ra EC2 á»Ÿ má»©c instance.</p></li><li><p>âœ¦ Hoáº¡t Ä‘á»™ng theo nguyÃªn táº¯c stateful (náº¿u cÃ³ inbound rule, thÃ¬ outbound tá»± Ä‘á»™ng má»Ÿ).</p><ul><li>âœ§ Tá»©c lÃ  náº¿u báº¡n cho phÃ©p má»™t káº¿t ná»‘i inbound (vÃ o) trÃªn má»™t cá»•ng cá»¥ thá»ƒ, thÃ¬ cÃ¡c pháº£n há»“i tÆ°Æ¡ng á»©ng vá»›i káº¿t ná»‘i Ä‘Ã³ sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c phÃ©p ra ngoÃ i (outbound).</li></ul></li><li><p>âœ¦ Máº·c dÃ¹ stateful, Security Group váº«n cho phÃ©p báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t chi tiáº¿t lÆ°u lÆ°á»£ng ra báº±ng cÃ¡ch táº¡o cÃ¡c quy táº¯c outbound.</p></li></ul><h4 id="so-sanh-nacl-va-security-groups" tabindex="-1"><a class="header-anchor" href="#so-sanh-nacl-va-security-groups"><span>So sÃ¡nh NACL vÃ  Security Groups:</span></a></h4><table><thead><tr><th style="text-align:center;">TiÃªu chÃ­</th><th style="text-align:center;">NACL</th><th style="text-align:center;">Security Groups</th></tr></thead><tbody><tr><td style="text-align:center;">Cáº¥p Ä‘á»™ báº£o máº­t</td><td style="text-align:center;">Subnet (Ã¡p dá»¥ng cho táº¥t cáº£ cÃ¡c instance) - hoáº¡t Ä‘á»™ng á»Ÿ má»©c subnet</td><td style="text-align:center;">Instance (Ã¡p dá»¥ng cho tá»«ng instance) - hoáº¡t Ä‘á»™ng á»Ÿ má»©c mÃ¡y áº£o</td></tr><tr><td style="text-align:center;">Stateful hay Stateless</td><td style="text-align:center;">Stateless (quy táº¯c inbound vÃ  outbound pháº£i riÃªng biá»‡t)</td><td style="text-align:center;">Stateful (inbound Ä‘Æ°á»£c tá»± Ä‘á»™ng cho phÃ©p outbound)</td></tr><tr><td style="text-align:center;">Rule</td><td style="text-align:center;">CÃ³ cáº£ ALLOW vÃ  DENY rules. CÃ¡c rules Ä‘Ã¡nh sá»‘ thá»© tá»±, Æ°u tiÃªn theo sá»‘ rule vÃ  dá»«ng láº¡i ngay khi cÃ³ 1 rule ALLOW/DENY</td><td style="text-align:center;">Chá»‰ cÃ³ ALLOW rules. CÃ¡c rules khÃ´ng cÃ³ thá»© tá»± Æ°u tiÃªn, Ä‘Ã¡nh giÃ¡ táº¥t cáº£ vÃ  cho qua náº¿u cÃ³ 1 rule cho phÃ©p</td></tr><tr><td style="text-align:center;">Máº·c Ä‘á»‹nh</td><td style="text-align:center;">Máº·c Ä‘á»‹nh cho phÃ©p táº¥t cáº£ (default NACL) hoáº·c tá»« chá»‘i táº¥t cáº£ (custom NACL)</td><td style="text-align:center;">Tá»« chá»‘i táº¥t cáº£ inbound, cho phÃ©p táº¥t cáº£ outbound</td></tr></tbody></table><h4 id="ğŸšª-nat-gateway" tabindex="-1"><a class="header-anchor" href="#ğŸšª-nat-gateway"><span>ğŸšª NAT Gateway</span></a></h4><ul><li><p>âœ¦ Ta Ä‘Ã£ biáº¿t, private subnet Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ cÃ¡c tÃ i nguyÃªn bÃªn trong nÃ³ khÃ´ng thá»ƒ bá»‹ truy cáº­p tá»« Internet nháº±m báº£o vá»‡ cÃ¡c tÃ i nguyÃªn nÃ y.</p></li><li><p>âœ¦ NAT giÃºp cÃ¡c instance trong private subnet cÃ³ thá»ƒ truy cáº­p Internet (vÃ­ dá»¥: Ä‘á»ƒ cáº­p nháº­t pháº§n má»m) mÃ  váº«n giá»¯ báº£o máº­t (ngÄƒn khÃ´ng cho Internet káº¿t ná»‘i Ä‘áº¿n cÃ¡c tÃ i nguyÃªn nÃ y Ä‘Æ°á»£c).</p></li></ul><h3 id="ğŸ”¹-vi-du-trien-khai-website-voi-aws-vpc" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-vi-du-trien-khai-website-voi-aws-vpc"><span>ğŸ”¹ VÃ­ dá»¥ triá»ƒn khai website vá»›i AWS VPC</span></a></h3><p>Giáº£ sá»­ báº¡n muá»‘n triá»ƒn khai má»™t á»©ng dá»¥ng web trÃªn AWS vá»›i yÃªu cáº§u:</p><p>âœ… CÃ³ má»™t web server cháº¡y trÃªn EC2 Ä‘á»ƒ phá»¥c vá»¥ ngÆ°á»i dÃ¹ng.</p><p>âœ… CÆ¡ sá»Ÿ dá»¯ liá»‡u (RDS) Ä‘Æ°á»£c Ä‘áº·t trong mÃ´i trÆ°á»ng an toÃ n, khÃ´ng tiáº¿p xÃºc trá»±c tiáº¿p vá»›i Internet.</p><p>âœ… CÃ¡c tÃ i nguyÃªn private (vÃ­ dá»¥: database) váº«n cÃ³ thá»ƒ truy cáº­p Internet Ä‘á»ƒ cáº­p nháº­t.</p><h4 id="_1ï¸âƒ£-tao-vpc" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-tao-vpc"><span>1ï¸âƒ£ Táº¡o VPC</span></a></h4><ul><li><p>ChÃºng ta sáº½ táº¡o má»™t VPC vá»›i CIDR Block:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">10.0.0.0/16</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Cho phÃ©p sá»­ dá»¥ng 65.536 Ä‘á»‹a chá»‰ IP</p></li><li><p>Dáº£i IP tá»« 10.0.0.0 â†’ 10.0.255.255</p></li></ul><h4 id="_2ï¸âƒ£-chia-subnet" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-chia-subnet"><span>2ï¸âƒ£ Chia Subnet</span></a></h4><ul><li><p>VPC nÃ y sáº½ cÃ³ hai loáº¡i subnet:</p><ul><li><p>â¶ Public Subnet chá»©a web server, cÃ³ thá»ƒ truy cáº­p Internet.</p><ul><li>CIDR: 10.0.1.0/24 (256 IP)</li></ul></li><li><p>â· Private Subnet chá»©a database, khÃ´ng trá»±c tiáº¿p káº¿t ná»‘i Internet.</p><ul><li>CIDR: 10.0.2.0/24 (256 IP)</li></ul></li></ul></li></ul><h4 id="_3ï¸âƒ£-them-internet-gateway-igw" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-them-internet-gateway-igw"><span>3ï¸âƒ£ ThÃªm Internet Gateway (IGW)</span></a></h4><ul><li><p>Gáº¯n má»™t Internet Gateway vÃ o VPC.</p></li><li><p>Äiá»u nÃ y cho phÃ©p cÃ¡c instance trong Public Subnet cÃ³ thá»ƒ giao tiáº¿p vá»›i Internet.</p></li></ul><h4 id="_4ï¸âƒ£-cau-hinh-route-table" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-cau-hinh-route-table"><span>4ï¸âƒ£ Cáº¥u hÃ¬nh Route Table</span></a></h4><ul><li><p>Route Table cá»§a Public Subnet sáº½ cÃ³:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">Destination</span><span class="token punctuation">:</span> <span class="token key atrule">0.0.0.0/0 â†’ Target</span><span class="token punctuation">:</span> Internet Gateway (IGW)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ğŸ‘‰ Äiá»u nÃ y giÃºp cÃ¡c EC2 trong Public Subnet cÃ³ thá»ƒ truy cáº­p Internet.</p></li><li><p>Route Table cá»§a Private Subnet sáº½ khÃ´ng cÃ³ route tá»›i IGW, nghÄ©a lÃ  khÃ´ng truy cáº­p Internet trá»±c tiáº¿p.</p></li></ul><h4 id="_5ï¸âƒ£-nat-gateway-cho-private-subnet" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-nat-gateway-cho-private-subnet"><span>5ï¸âƒ£ NAT Gateway cho Private Subnet</span></a></h4><ul><li>Náº¿u database hoáº·c server trong Private Subnet cáº§n truy cáº­p Internet (vÃ­ dá»¥: Ä‘á»ƒ cáº­p nháº­t pháº§n má»m), ta cáº§n NAT Gateway.</li></ul><h4 id="_6ï¸âƒ£-security-group-sg-nacl" tabindex="-1"><a class="header-anchor" href="#_6ï¸âƒ£-security-group-sg-nacl"><span>6ï¸âƒ£ Security Group (SG) &amp; NACL</span></a></h4><ul><li><p>âœ¦ Security Group (SG) cá»§a Web Server (EC2)</p><ul><li><p>â€ Inbound Rule:</p><ul><li>âœ§ Cho phÃ©p HTTP/HTTPS tá»« 0.0.0.0/0 (má»i nÆ¡i).</li><li>âœ§ Cho phÃ©p SSH chá»‰ tá»« IP cá»§a Admin.</li></ul></li><li><p>â Outbound Rule:</p><ul><li>âœ§ Má»Ÿ toÃ n bá»™ (0.0.0.0/0), vÃ¬ SG lÃ  stateful.</li></ul></li></ul></li><li><p>âœ¦ Security Group (SG) cá»§a Database (RDS)</p><ul><li><p>â€ Inbound Rule:</p><ul><li>âœ§ Chá»‰ cháº¥p nháº­n káº¿t ná»‘i tá»« Web Server (10.0.1.0/24).</li></ul></li><li><p>â Outbound Rule:</p><ul><li>âœ§ Cho phÃ©p toÃ n bá»™ outbound.</li></ul></li></ul></li><li><p>âœ¦ Network ACL (NACL): cÃ³ thá»ƒ dÃ¹ng NACL Ä‘á»ƒ cháº·n cÃ¡c Ä‘á»‹a chá»‰ IP hoáº·c dá»‹ch vá»¥ khÃ´ng mong muá»‘n á»Ÿ má»©c subnet.</p></li></ul><p><a name="2"></a></p><h2 id="ğŸ“Œ-2-thuc-hanh-thiet-ke-vpc-Ä‘on-gian" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-2-thuc-hanh-thiet-ke-vpc-Ä‘on-gian"><span>ğŸ“Œ 2. Thá»±c hÃ nh thiáº¿t káº¿ VPC Ä‘Æ¡n giáº£n</span></a></h2><h3 id="ğŸ”¹-yeu-cau" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-yeu-cau"><span>ğŸ”¹ YÃªu cáº§u</span></a></h3><ul><li><p>Thiáº¿t káº¿ VPC nhÆ° sau:</p><ul><li><p>â€ VPC CIDR: 10.0.0.0/16</p></li><li><p>â CÃ³ 2 loáº¡i subnet Public, Private. Má»—i subnet chá»©a Ã­t nháº¥t 1024 IPs.</p></li><li><p>â‚ Má»—i loáº¡i subnet náº±m á»Ÿ Ã­t nháº¥t 2 AZs.</p></li><li><p>âƒ CÃ³ 1 Internet Gateway, cáº¥u hÃ¬nh route table tá»›i Internet Gateway.</p></li><li><p>â„ CÃ³ 1 NAT Gateway, cáº¥u hÃ¬nh route table tá»›i NAT Gateway.</p></li><li><p>â… Thiáº¿t káº¿ Security Group cho 4 nhÃ³m Ä‘á»‘i tÆ°á»£ng:</p><ul><li><p>âœ§ Application Load Balancer: expose port HTTPS 443.</p></li><li><p>âœ§ App Server cho phÃ©p port 80 tá»« ALB, 22 tá»« Bastion server.</p></li><li><p>âœ§ Database Server sá»­ dá»¥ng MySQL sá»­ dá»¥ng port 3306. Elasstic Search sá»­ dá»¥ng port 9200.</p></li><li><p>âœ§ Bastion Server: SSH port 22 tá»« IP cÃ´ng ty.</p></li></ul></li><li><p>â† Táº¡o VPC Endpoint cho S3 service.</p></li></ul></li></ul><h3 id="ğŸ”¹-phan-tich-yeu-cau" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-phan-tich-yeu-cau"><span>ğŸ”¹ PhÃ¢n tÃ­ch yÃªu cáº§u</span></a></h3><h4 id="_1ï¸âƒ£-vpc-va-cidr-block" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-vpc-va-cidr-block"><span>1ï¸âƒ£ VPC vÃ  CIDR Block</span></a></h4><ul><li><p>VPC CIDR: 10.0.0.0/16</p><ul><li>ğŸ‘‰ Äiá»u nÃ y cÃ³ nghÄ©a lÃ  chÃºng ta cÃ³ 65.536 Ä‘á»‹a chá»‰ IP (2^16), Ä‘á»§ Ä‘á»ƒ chia subnet thoáº£i mÃ¡i.</li></ul></li></ul><h4 id="_2ï¸âƒ£-chia-subnet-1" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-chia-subnet-1"><span>2ï¸âƒ£ Chia Subnet</span></a></h4><ul><li><p>âœ¦ Má»—i subnet cáº§n tá»‘i thiá»ƒu 1024 (2^10) IPs ğŸ‘‰ /22 subnet mask (2^10 = 1024).</p></li><li><p>âœ¦ Má»—i loáº¡i subnet tráº£i rá»™ng trÃªn Ã­t nháº¥t 2 AZs Ä‘á»ƒ Ä‘áº£m báº£o High Availability.</p></li><li><p>âœ¦ Chia subnet nhÆ° sau:</p><table><thead><tr><th style="text-align:center;">Subnet</th><th style="text-align:center;">CIDR</th><th style="text-align:center;">Availability Zone</th></tr></thead><tbody><tr><td style="text-align:center;">Public Subnet 1</td><td style="text-align:center;">10.0.0.0/22</td><td style="text-align:center;">AZ1</td></tr><tr><td style="text-align:center;">Public Subnet 2</td><td style="text-align:center;">10.0.4.0/22</td><td style="text-align:center;">AZ2</td></tr><tr><td style="text-align:center;">Private Subnet 1</td><td style="text-align:center;">10.0.8.0/22</td><td style="text-align:center;">AZ1</td></tr><tr><td style="text-align:center;">Private Subnet 2</td><td style="text-align:center;">10.0.12.0/22</td><td style="text-align:center;">AZ2</td></tr></tbody></table></li></ul><p>ğŸ“ Giáº£i thÃ­ch cÃ¡ch chia subnet:</p><ul><li><p>â€ Vá»›i Public subnet 1 thÃ¬ ta sáº½ chá»n báº¯t Ä‘áº§u tá»« <code>10.0.0.0/22</code></p><ul><li>ğŸ‘‰ Subnet 1 sáº½ cÃ³ Ips tá»« <code>10.0.0.0</code> â†’ <code>10.0.3.255</code> (cÃ³ thá»ƒ truy cáº­p cÃ¡c cÃ´ng cá»¥ tÃ­nh <a href="https://www.ipaddressguide.com/cidr" target="_blank" rel="noopener noreferrer">IPs online</a> Ä‘á»ƒ xÃ¡c Ä‘á»‹nh)</li></ul></li><li><p>â VÃ¬ <code>10.0.3.255</code> lÃ  IP cuá»‘i cá»§a subnet trÆ°á»›c, do Ä‘Ã³, Subnet 2 pháº£i báº¯t Ä‘áº§u tá»« <code>10.0.4.0</code>.</p></li><li><p>â‚ Tiáº¿p tá»¥c cho cÃ¡c subnet cÃ²n láº¡i.</p><p><img src="`+c+'" alt="Chia Subnet"></p></li></ul><h4 id="_3ï¸âƒ£-internet-gateway-nat-gateway" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-internet-gateway-nat-gateway"><span>3ï¸âƒ£ Internet Gateway &amp; NAT Gateway</span></a></h4><ul><li><p>âœ¦ Internet Gateway (IGW): Káº¿t ná»‘i Public Subnet vá»›i Internet (Ä‘áº·t ngay rÃ¬a VPC).</p></li><li><p>âœ¦ NAT Gateway giÃºp Private Subnet truy cáº­p Internet (Ä‘áº·t trong Public Subnet vÃ  Ã¡nh xáº¡ vÃ o Private Subnet).</p></li></ul><h4 id="_4ï¸âƒ£-security-group" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-security-group"><span>4ï¸âƒ£ Security Group</span></a></h4><p><img src="'+h+'" alt="Security Group"></p><p>CÃ³ 4 nhÃ³m cáº§n thiáº¿t káº¿ Security Group:</p><ul><li><p>â€ <strong>Application Load Balancer (ALB)</strong>: nháº­n request tá»« ngÆ°á»i dÃ¹ng vÃ  phÃ¢n phá»‘i Ä‘áº¿n App Server.</p><ul><li>âœ¦ Má»Ÿ cá»•ng 443 (HTTPS) cho táº¥t cáº£ (0.0.0.0/0) vÃ¬ ALB pháº£i nháº­n request tá»« client trÃªn Internet.</li><li>âœ¦ ALB chá»‰ forward request tá»›i App Server qua HTTP (port 80).</li></ul></li><li><p>â <strong>App Server (EC2 instances cháº¡y á»©ng dá»¥ng web)</strong>: cháº¡y backend cá»§a á»©ng dá»¥ng web.</p><ul><li>âœ¦ CÃ³ thá»ƒ dÃ¹ng ECS thay vÃ¬ EC2 náº¿u muá»‘n cháº¡y backend theo mÃ´ hÃ¬nh containerized.</li><li>âœ¦ Chá»‰ nháº­n request tá»« ALB (port 80).</li><li>âœ¦ KhÃ´ng má»Ÿ HTTP (80) hoáº·c SSH (22) trá»±c tiáº¿p cho Internet Ä‘á»ƒ trÃ¡nh bá»‹ táº¥n cÃ´ng.</li><li>âœ¦ Cáº§n SSH (22) nhÆ°ng chá»‰ tá»« Bastion Server, khÃ´ng má»Ÿ public.</li></ul></li><li><p>â‚ <strong>Database Server (RDS cháº¡y MySQL, Elasticsearch)</strong>: lÆ°u trá»¯ dá»¯ liá»‡u á»©ng dá»¥ng.</p><ul><li>âœ¦ Database khÃ´ng bao giá» má»Ÿ public, chá»‰ nháº­n káº¿t ná»‘i tá»« App Server.</li><li>âœ¦ MySQL sá»­ dá»¥ng port 3306, Elasticsearch sá»­ dá»¥ng port 9200.</li><li>âœ¦ Cho phÃ©p admin káº¿t ná»‘i MySQL tá»« Bastion Ä‘á»ƒ quáº£n trá»‹ Database.</li></ul></li><li><p>âƒ <strong>Bastion Server (EC2 Ä‘á»ƒ SSH vÃ o há»‡ thá»‘ng)</strong>: cho phÃ©p admin SSH vÃ o Private Subnet Ä‘á»ƒ quáº£n lÃ½ há»‡ thá»‘ng.</p><ul><li>âœ¦ Bastion Server lÃ  Ä‘iá»ƒm duy nháº¥t Ä‘á»ƒ SSH vÃ o App Server.</li><li>âœ¦ Chá»‰ cho phÃ©p SSH (port 22) tá»« IP cÃ´ng ty, khÃ´ng má»Ÿ 0.0.0.0/0 Ä‘á»ƒ trÃ¡nh bá»‹ táº¥n cÃ´ng.</li><li>âœ¦ Cho phÃ©p SSH (22) tá»›i App Server Ä‘á»ƒ quáº£n lÃ½.</li></ul></li></ul><table><thead><tr><th style="text-align:center;">NhÃ³m</th><th style="text-align:center;">Port</th><th style="text-align:center;">Ai Ä‘Æ°á»£c truy cáº­p?</th><th style="text-align:center;">Ghi chÃº</th></tr></thead><tbody><tr><td style="text-align:center;">ALB (Public-SG)</td><td style="text-align:center;">443 (HTTPS)</td><td style="text-align:center;">0.0.0.0/0</td><td style="text-align:center;">Cho phÃ©p toÃ n bá»™ Internet truy cáº­p</td></tr><tr><td style="text-align:center;">App Server (App-SG)</td><td style="text-align:center;">80 (HTTP)</td><td style="text-align:center;">Chá»‰ ALB</td><td style="text-align:center;">Chá»‰ nháº­n request tá»« ALB</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">22 (SSH)</td><td style="text-align:center;">Chá»‰ Bastion</td><td style="text-align:center;">Chá»‰ SSH tá»« Bastion</td></tr><tr><td style="text-align:center;">Database Server (Database-SG)</td><td style="text-align:center;">3306 (MySQL)</td><td style="text-align:center;">App Server &amp; Bastion</td><td style="text-align:center;">KhÃ´ng má»Ÿ public</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">9200 (Elasticsearch)</td><td style="text-align:center;">Chá»‰ App Server</td><td style="text-align:center;">KhÃ´ng má»Ÿ public</td></tr><tr><td style="text-align:center;">Bastion Server (Bastion-SG)</td><td style="text-align:center;">22 (SSH)</td><td style="text-align:center;">Chá»‰ IP cÃ´ng ty</td><td style="text-align:center;">Äá»ƒ quáº£n lÃ½ há»‡ thá»‘ng</td></tr></tbody></table><h4 id="_5ï¸âƒ£-vpc-endpoint-cho-s3" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-vpc-endpoint-cho-s3"><span>5ï¸âƒ£ VPC Endpoint cho S3</span></a></h4><ul><li><p>DÃ¹ng VPC Endpoint giÃºp cÃ¡c instance trong VPC cÃ³ thá»ƒ truy cáº­p Amazon S3 mÃ  khÃ´ng cáº§n Ä‘i qua Internet.</p></li><li><p><img src="'+s+`" alt="VPC Endpoint"></p></li></ul><h3 id="ğŸ”¹-trien-khai-tren-aws-console" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-trien-khai-tren-aws-console"><span>ğŸ”¹ Triá»ƒn khai trÃªn AWS Console</span></a></h3><ul><li><p>ğŸ”¥ Thá»© tá»± táº¡o resources:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">VPC â†’ Subnets â†’ IGW â†’ NAT â†’ Route Tables â†’ VPC Endpoint â†’ Security Groups</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>AWS cÅ©ng há»— trá»£ option cho phÃ©p táº¡o tá»« VPC â†’ VPC Endpoint chá»‰ trong 1 step.</p></li><li><p>âš™ï¸ Cáº¥u hÃ¬nh Route Tables:</p><ul><li><p>âœ¦ Táº¡o 1 Route Table cho Public Subnet vÃ  cáº¥u hÃ¬nh Internet Gateway.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">Destination</span><span class="token punctuation">:</span> <span class="token key atrule">0.0.0.0/0 â†’ Target</span><span class="token punctuation">:</span> Internet Gateway</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>âœ¦ Táº¡o 1 Route Table cho Private Subnet vÃ  cáº¥u hÃ¬nh NAT Gateway.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">Destination</span><span class="token punctuation">:</span> <span class="token key atrule">0.0.0.0/0 â†’ Target</span><span class="token punctuation">:</span> NAT Gateway</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><p><a name="3"></a></p><h2 id="ğŸ“Œ-3-vpc-flow-logs" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-3-vpc-flow-logs"><span>ğŸ“Œ 3. VPC Flow Logs</span></a></h2><ul><li><p>âœ¦ LÃ  má»™t cÃ´ng cá»¥ Ä‘á»ƒ phÃ¡t hiá»‡n ra cÃ¡c váº¥n Ä‘á» báº£o máº­t cÅ©ng nhÆ° há»— trá»£ viá»‡c gá»¡ lá»—i káº¿t ná»‘i Ä‘áº¿n VPC.</p><ul><li>VPC Logs ghi nháº­n láº¡i thÃ´ng tin cÃ¡c gÃ³i tin Ä‘áº¿n/Ä‘i tá»« cÃ¡c ENI hay cÃ¡c card máº¡ng gáº¯n vÃ o mÃ¡y áº£o.</li></ul></li><li><p>âœ¦ CÃ¡c thÃ´ng tin quan trá»ng Ä‘Æ°á»£c ghi láº¡i bao gá»“m: <img src="`+r+'" alt="VPC Flow Logs"></p></li><li><p>âœ¦ Máº·c Ä‘á»‹nh, tÃ­nh nÄƒng VPC Logs khÃ´ng Ä‘Æ°á»£c má»Ÿ mÃ  pháº£i táº¡o ra cÃ¡c Flow Logs Ä‘á»ƒ báº¯t Ä‘áº§u sá»­ dá»¥ng.</p></li></ul><p><a name="4"></a></p><h2 id="ğŸ“Œ-4-vpc-peering" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-4-vpc-peering"><span>ğŸ“Œ 4. VPC Peering</span></a></h2><ul><li><p>âœ¦ NhÆ° ta Ä‘Ã£ biáº¿t, máº·c Ä‘á»‹nh, táº¥t cáº£ cÃ¡c VPC ta táº¡o ra trÃªn AWS lÃ  Ä‘á»™c láº­p.</p><ul><li>ğŸ‘‰ CÃ¡c tÃ i nguyÃªn bÃªn trong VPC khÃ¡c nhau khÃ´ng thá»ƒ nÃ³i chuyá»‡n vá»›i nhau</li></ul></li><li><p>âœ¦ VPC Peering lÃ  tÃ­nh nÄƒng cho phÃ©p káº¿t ná»‘i 2 VPC láº¡i vá»›i nhau.</p><ul><li>Sau khi káº¿t ná»‘i, tÃ i nguyÃªn bÃªn trong 2 VPC cÃ³ thá»ƒ káº¿t ná»‘i vá»›i nhau báº±ng private IP nhÆ° máº¡ng ná»™i bá»™.</li></ul></li><li><p>ğŸ”¥ <strong>Peering</strong> cÃ³ thá»ƒ káº¿t ná»‘i cÃ¡c VPC trong cÃ¹ng Region, trÃªn Region khÃ¡c nhau hoáº·c tháº­m chÃ­ lÃ  trÃªn cÃ¡c account khÃ¡c nhau.</p><ul><li>Äiá»u kiá»‡n lÃ  2 dáº£i IP cá»§a chÃºng khÃ´ng Ä‘Æ°á»£c trÃ¹ng láº·p lÃªn nhau.</li></ul></li></ul><p><a name="5"></a></p><h2 id="ğŸ“Œ-5-site-to-site-vpn-mo-rong-mang-tai-cho-cua-ban-len-Ä‘am-may" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-5-site-to-site-vpn-mo-rong-mang-tai-cho-cua-ban-len-Ä‘am-may"><span>ğŸ“Œ 5. Site-to-site VPN - Má»Ÿ rá»™ng máº¡ng táº¡i chá»— cá»§a báº¡n lÃªn Ä‘Ã¡m mÃ¢y</span></a></h2><ul><li><p>âœ¦ Äá»ƒ káº¿t ná»‘i VPC trÃªn AWS vá»›i data center (hoáº·c chi nhÃ¡nh) cá»§a chÃºng ta á»Ÿ mÃ´i trÆ°á»ng on-premises (máº¡ng táº¡i chá»—), cÃ¡ch cÆ¡ báº£n nháº¥t lÃ  sá»­ dá»¥ng Site-to-site VPN.</p></li><li><p>âœ¦ VPN lÃ  1 dáº¡ng káº¿t ná»‘i Ä‘Æ°á»£c mÃ£ hÃ³a nháº±m táº¡o ra má»™t Ä‘Æ°á»ng truyá»n riÃªng áº£o cháº¡y trÃªn Internet Ä‘á»ƒ báº£o vá»‡ dá»¯ liá»‡u dá»‹ch chuyá»ƒn trÃªn Ä‘Æ°á»ng truyá»n nÃ y.</p><ul><li>AWS Site-to-site VPN lÃ  dá»‹ch vá»¥ VPN Ä‘Æ°á»£c quáº£n lÃ½ hoÃ n toÃ n bá»Ÿi AWS.</li></ul></li><li><p>âœ¦ Káº¿t ná»‘i VPN bao gá»“m cÃ¡c thÃ nh pháº§n sau:</p><p><img src="'+p+'" alt="Site-to-site VPN"></p><ul><li><p>â€ Customer Gateway (CGW):</p><ul><li><p>âœ§ LÃ  thiáº¿t bá»‹ hoáº·c pháº§n má»m náº±m trong máº¡ng on-premises cá»§a doanh nghiá»‡p.</p></li><li><p>âœ§ CÃ³ nhiá»‡m vá»¥ thiáº¿t láº­p vÃ  duy trÃ¬ káº¿t ná»‘i vá»›i AWS VPC qua Internet.</p></li></ul></li><li><p>â Virtual Private Gateway (VGW):</p><ul><li>âœ§ LÃ  thiáº¿t bá»‹ Ä‘Æ°á»£c AWS quáº£n lÃ½ vÃ  cÃ i Ä‘áº·t táº¡i AWS VPC Ä‘á»ƒ káº¿t ná»‘i vá»›i Customer Gateway tá»« máº¡ng on-premises.</li></ul></li><li><p>â‚ VPN Tunnel:</p><ul><li><p>âœ§ Káº¿t ná»‘i giá»¯a Customer Gateway vÃ  Virtual Private Gateway lÃ  má»™t Ä‘Æ°á»ng háº§m báº£o máº­t, thÆ°á»ng Ä‘Æ°á»£c mÃ£ hÃ³a theo tiÃªu chuáº©n IPsec (Internet Protocol Security) Ä‘á»ƒ báº£o vá»‡ dá»¯ liá»‡u.</p></li><li><p>âœ§ PhÃ­a VGW cá»§a AWS sáº½ cÃ³ 2 endpoints Ä‘á»™c láº­p. Route á»Ÿ data center sáº½ tá»± Ä‘á»™ng má»Ÿ 2 Tunnels tá»›i 2 endponts nÃ y Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh sáºµn sÃ ng cao.</p></li></ul></li></ul></li></ul><p><a name="6"></a></p><h2 id="ğŸ“Œ-6-direct-connect" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-6-direct-connect"><span>ğŸ“Œ 6. Direct Connect</span></a></h2><ul><li><p>âœ¦ Sá»­ dá»¥ng Site-to-site VPN giÃºp giáº£m thiá»ƒu rá»§i ro vá» máº·t báº£o máº­t nhÆ°ng cÃ³ nhá»¯ng háº¡n cháº¿ vá» bÄƒng thÃ´ng vÃ  Ä‘á»™ á»•n Ä‘á»‹nh Ä‘Æ°á»ng truyá»n.</p><ul><li>ğŸ‘‰ Dá»‹ch vá»¥ Direct connect cÃ³ thá»ƒ thiÃªt láº­p má»™t Ä‘Æ°á»ng truyá»n á»•n Ä‘á»‹nh vá»›i tá»‘c Ä‘á»™ cao tá»« data center lÃªn AWS Region.</li></ul></li><li><p>âœ¦ Direct connect lÃ  má»™t kÃªnh truyá»n váº­t lÃ½, ta sáº½ cÃ³ má»™t Ä‘Æ°á»ng truyá»n riÃªng tá»‘c Ä‘á»™ cao ná»‘i tháº³ng tá»« trung tÃ¢m dá»¯ liá»‡u cá»§a chÃºng ta Ä‘áº¿n Region cá»§a AWS mÃ  khÃ´ng cáº§n thÃ´ng qua Internet.</p><ul><li><p>â€ Káº¿t ná»‘i nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n trung gian thÃ´ng qua má»™t Direct Connect location.</p></li><li><p>â AWS Ä‘Ã£ cÃ³ sáºµn Ä‘Æ°á»ng truyá»n tá»« Direct Connect location Ä‘áº¿n AWS Region.</p></li><li><p>â‚ Khi khÃ¡ch hÃ ng Ä‘Äƒng kÃ½ dá»‹ch vá»¥ Direct Connect, AWS hoáº·c Ä‘á»‘i tÃ¡c cá»§a AWS chá»‰ cáº§n kÃ©o thÃªm Ä‘Æ°á»ng truyá»n váº­t lÃ½ tá»« trung tÃ¢m dá»¯ liá»‡u cá»§a khÃ¡ch hÃ ng Ä‘áº¿n Direct Connect location.</p></li><li><p>âƒ á» Viá»‡t Nam, viá»‡c kÃ©o cÃ¡c Ä‘Æ°á»ng truyá»n Direct Connect thÆ°á»ng Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi cÃ¡c Ä‘á»‘i tÃ¡c lÃ  cÃ¡c cÃ´ng ty viá»…n thÃ´ng lá»›n trong nÆ°á»›c.</p></li></ul></li><li><p>âœ¦ Äá»ƒ dá»± phÃ²ng trong trÆ°á»ng há»£p Ä‘Æ°á»ng truyá»n nÃ y gáº·p trá»¥c tráº·c, cÃ¡ch tá»‘t nháº¥t lÃ  kÃ©o 2 (hoáº·c 4) Ä‘Æ°á»ng truyá»n Direct Connect khÃ¡c nhau qua tá»‘i thiá»ƒu 2 Direct Connect location khÃ¡c nhau.</p><ul><li><p>âœ§ Tuy nhiÃªn, vÃ¬ lÃ  Ä‘Æ°á»ng truyá»n váº­t lÃ½ nÃªn chÃ­ phÃ­ sáº½ ráº¥t cao</p></li><li><p>ğŸ‘‰ Má»™t cÃ¡ch tiáº¿t kiá»‡m hÆ¡n lÃ  sá»­ dá»¥ng Site-to-site VPN Ä‘á»ƒ phÃ²ng trÆ°á»ng há»£p Direct Connect gáº·p sá»± cá»‘.</p></li></ul></li></ul><p><a name="7"></a></p><h2 id="ğŸ“Œ-7-transit-gateway" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-7-transit-gateway"><span>ğŸ“Œ 7. Transit Gateway</span></a></h2><ul><li><p>âœ¦ NhÆ° ta Ä‘Ã£ biáº¿t, ta cÃ³ thá»ƒ dÃ¹ng VPC Peering Ä‘á»ƒ káº¿t ná»‘i cÃ¡c VPC vá»›i nhau hay dÃ¹ng Site-to-ste VPN hoáº·c Direct Connect Ä‘á»ƒ káº¿t ná»‘i AWS vá»›i cÃ¡c trung tÃ¢m dá»¯ liá»‡u táº¡i chá»—.</p><ul><li><p>Tuy nhiÃªn khi sá»‘ lÆ°á»£ng vÃ¹ng máº¡ng tÄƒng lÃªn, viá»‡c káº¿t ná»‘i tÄƒng theo, viá»‡c quáº£n lÃ½ sáº½ vÃ´ cÃ¹ng phá»©c táº¡p.</p></li><li><p>ğŸ‘‰ Äá»ƒ Ä‘Æ¡n giáº£n hÃ³a viá»‡c quáº£n trá»‹ nÃ y, AWS cung cáº¥p Transit Gateway, Ä‘Ã³ng vai trÃ² nhÆ° route tá»•ng Ä‘iá»u hÆ°á»›ng táº¥t cáº£ cÃ¡c káº¿t ná»‘i trong tá»• chá»©c.</p></li></ul></li><li><p>âŒ VÃ­ dá»¥ VPC Peering:</p><p><img src="'+u+'" alt="DÃ¹ng VPC Peering"></p></li><li><p>âœ”ï¸ DÃ¹ng Transit Gateway:</p><p><img src="'+o+'" alt="DÃ¹ng Transit Gateway"></p></li><li><p>âœ¦ Transit Gateway hoáº¡t Ä‘á»™ng nhÆ° má»™t hub trung tÃ¢m Ä‘á»ƒ cÃ¡c spoke (nhÆ° VPC, máº¡ng on-premises, hoáº·c cÃ¡c tÃ i nguyÃªn khÃ¡c) káº¿t ná»‘i vÃ o.</p><p><img src="'+g+'" alt="CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a Transit Gateway"></p><ul><li><p>â€ Attachments:</p><ul><li>LÃ  káº¿t ná»‘i giá»¯a Transit Gateway vÃ  cÃ¡c tÃ i nguyÃªn nhÆ° VPC, VPN, hoáº·c Direct Connect Gateway.</li><li>Má»—i káº¿t ná»‘i giá»¯a má»™t spoke (VPC hoáº·c máº¡ng on-premises) vá»›i Transit Gateway Ä‘Æ°á»£c gá»i lÃ  má»™t attachment.</li></ul></li><li><p>â Route Tables (khÃ¡c vá»›i khÃ¡i niá»‡m route table cá»§a VPC):</p><ul><li>Cho phÃ©p báº¡n kiá»ƒm soÃ¡t tuyáº¿n Ä‘Æ°á»ng giá»¯a cÃ¡c attachments.</li><li>VÃ­ dá»¥, báº¡n cÃ³ thá»ƒ táº¡o má»™t route table Ä‘á»ƒ cho phÃ©p chá»‰ má»™t sá»‘ VPC cÃ³ thá»ƒ giao tiáº¿p vá»›i nhau, trong khi cÃ¡c VPC khÃ¡c khÃ´ng thá»ƒ truy cáº­p vÃ o nhau.</li></ul></li><li><p>â‚ Propagation:</p><ul><li>Khi má»™t route table nháº­n Ä‘Æ°á»£c tuyáº¿n Ä‘Æ°á»ng tá»« má»™t attachment, nÃ³ cÃ³ thá»ƒ tá»± Ä‘á»™ng phÃ¢n phá»‘i (propagate) tuyáº¿n Ä‘Æ°á»ng nÃ y tá»›i cÃ¡c route table khÃ¡c.</li><li>Äiá»u nÃ y giÃºp tá»‘i Æ°u hÃ³a viá»‡c quáº£n lÃ½ cÃ¡c tuyáº¿n Ä‘Æ°á»ng giá»¯a cÃ¡c VPC vÃ  máº¡ng on-premises.</li></ul></li></ul></li><li><p>âš ï¸ Máº·c dÃ¹ Transit Gateway giÃºp Ä‘Æ¡n giáº£n hÃ³a quáº£n lÃ½, nhÆ°ng viá»‡c sá»­ dá»¥ng dá»‹ch vá»¥ nÃ y cÃ³ thá»ƒ tÄƒng chi phÃ­ so vá»›i cÃ¡c giáº£i phÃ¡p nhÆ° VPC Peering, Ä‘áº·c biá»‡t khi sá»‘ lÆ°á»£ng káº¿t ná»‘i tÄƒng lÃªn.</p></li></ul>',84)]))}const v=n(d,[["render",b],["__file","aws-networking.html.vue"]]),C=JSON.parse('{"path":"/blog-posts/devops/aws-networking.html","title":"Networking trong AWS","lang":"vi-VN","frontmatter":{"title":"Networking trong AWS","summary":"AWS cung cáº¥p má»™t loáº¡t cÃ¡c dá»‹ch vá»¥ máº¡ng Ä‘á»ƒ giÃºp báº¡n xÃ¢y dá»±ng vÃ  quáº£n lÃ½ máº¡ng trÃªn Ä‘Ã¡m mÃ¢y, Ä‘áº£m báº£o káº¿t ná»‘i, báº£o máº­t, vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.","date":"2025-09-09","image":"/vuepress-blog/images/posts/aws-networking.png","category":"DEVOPS","tags":["aws","aws-saa","cloud-computing","training-aws","networking","vpc"]},"headers":[{"level":2,"title":"ğŸ“Œ 1. Tá»•ng quan vá» Amazone VPC","slug":"ğŸ“Œ-1-tong-quan-ve-amazone-vpc","link":"#ğŸ“Œ-1-tong-quan-ve-amazone-vpc","children":[{"level":3,"title":"ğŸ”¹ CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a VPC","slug":"ğŸ”¹-cac-thanh-phan-chinh-cua-vpc","link":"#ğŸ”¹-cac-thanh-phan-chinh-cua-vpc","children":[]},{"level":3,"title":"ğŸ”¹ VÃ­ dá»¥ triá»ƒn khai website vá»›i AWS VPC","slug":"ğŸ”¹-vi-du-trien-khai-website-voi-aws-vpc","link":"#ğŸ”¹-vi-du-trien-khai-website-voi-aws-vpc","children":[]}]},{"level":2,"title":"ğŸ“Œ 2. Thá»±c hÃ nh thiáº¿t káº¿ VPC Ä‘Æ¡n giáº£n","slug":"ğŸ“Œ-2-thuc-hanh-thiet-ke-vpc-Ä‘on-gian","link":"#ğŸ“Œ-2-thuc-hanh-thiet-ke-vpc-Ä‘on-gian","children":[{"level":3,"title":"ğŸ”¹ YÃªu cáº§u","slug":"ğŸ”¹-yeu-cau","link":"#ğŸ”¹-yeu-cau","children":[]},{"level":3,"title":"ğŸ”¹ PhÃ¢n tÃ­ch yÃªu cáº§u","slug":"ğŸ”¹-phan-tich-yeu-cau","link":"#ğŸ”¹-phan-tich-yeu-cau","children":[]},{"level":3,"title":"ğŸ”¹ Triá»ƒn khai trÃªn AWS Console","slug":"ğŸ”¹-trien-khai-tren-aws-console","link":"#ğŸ”¹-trien-khai-tren-aws-console","children":[]}]},{"level":2,"title":"ğŸ“Œ 3. VPC Flow Logs","slug":"ğŸ“Œ-3-vpc-flow-logs","link":"#ğŸ“Œ-3-vpc-flow-logs","children":[]},{"level":2,"title":"ğŸ“Œ 4. VPC Peering","slug":"ğŸ“Œ-4-vpc-peering","link":"#ğŸ“Œ-4-vpc-peering","children":[]},{"level":2,"title":"ğŸ“Œ 5. Site-to-site VPN - Má»Ÿ rá»™ng máº¡ng táº¡i chá»— cá»§a báº¡n lÃªn Ä‘Ã¡m mÃ¢y","slug":"ğŸ“Œ-5-site-to-site-vpn-mo-rong-mang-tai-cho-cua-ban-len-Ä‘am-may","link":"#ğŸ“Œ-5-site-to-site-vpn-mo-rong-mang-tai-cho-cua-ban-len-Ä‘am-may","children":[]},{"level":2,"title":"ğŸ“Œ 6. Direct Connect","slug":"ğŸ“Œ-6-direct-connect","link":"#ğŸ“Œ-6-direct-connect","children":[]},{"level":2,"title":"ğŸ“Œ 7. Transit Gateway","slug":"ğŸ“Œ-7-transit-gateway","link":"#ğŸ“Œ-7-transit-gateway","children":[]}],"git":{},"filePathRelative":"blog-posts/devops/aws-networking.md"}');export{v as comp,C as data};
